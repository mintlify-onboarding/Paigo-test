import{a as Cr}from"https://app.gitbook.com/public/app/chunks/chunk-SJQ7GBPJ.min.js";import{a as I_,b as D_,c as N_,d as Mg,e as fP,f as SP,g as wP,h as Js,i as XP,j as JP}from"https://app.gitbook.com/public/app/chunks/chunk-JLTAJMP6.min.js";import{a as hu,b as KP}from"https://app.gitbook.com/public/app/chunks/chunk-ZA4NIUCS.min.js";import{a as AF}from"https://app.gitbook.com/public/app/chunks/chunk-JWVDNEET.min.js";import{a as U_,b as NF,c as zP,d as GP,e as HP}from"https://app.gitbook.com/public/app/chunks/chunk-VNFNEELE.min.js";import{a as Vn,b as Pu}from"https://app.gitbook.com/public/app/chunks/chunk-FSQIQFEC.min.js";import{a as Vg}from"https://app.gitbook.com/public/app/chunks/chunk-V454X7DW.min.js";import{a as ba,b as mp,c as qI,d as WI}from"https://app.gitbook.com/public/app/chunks/chunk-TZ7MGRF4.min.js";import{A as aP,C as JS,D as vP,E as ew,F as ku,G as VP,a as pi,b as YS,c as he,d as yt,e as Ig,f as wp,g as j_,h as QS,i as _g,j as wu,k as Pg,l as Y_,m as $_,n as Z_,o as Q_,p as Tg,q as eP,r as tP,s as oP,t as js,u as Cu,v as rP,w as nP,x as Qr,y as iP,z as Ys}from"https://app.gitbook.com/public/app/chunks/chunk-POF6AZWE.min.js";import{a as Ag}from"https://app.gitbook.com/public/app/chunks/chunk-VWN6UYNV.min.js";import{a as us}from"https://app.gitbook.com/public/app/chunks/chunk-3HN755GJ.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-WHHPPK2R.min.js";import{a as FP,b as UP,c as jP}from"https://app.gitbook.com/public/app/chunks/chunk-KBF4MP5N.min.js";import{a as lP,b as gP}from"https://app.gitbook.com/public/app/chunks/chunk-EMI7JIAS.min.js";import{a as Ou}from"https://app.gitbook.com/public/app/chunks/chunk-YOONDSTN.min.js";import{a as Ng}from"https://app.gitbook.com/public/app/chunks/chunk-DWOWHKQO.min.js";import{a as Ru,b as YP,c as $P}from"https://app.gitbook.com/public/app/chunks/chunk-WYLLZWEI.min.js";import{a as Af,b as B1,e as xI,f as bp,g as ka,h as ps,i as kp,j as Fg,k as bP,l as Hi,n as ZP,o as QP}from"https://app.gitbook.com/public/app/chunks/chunk-6WJLT5J4.min.js";import{a as He,b as Gn,c as Ug}from"https://app.gitbook.com/public/app/chunks/chunk-BK3FLG2N.min.js";import{a as Bg,b as Gg,c as TP}from"https://app.gitbook.com/public/app/chunks/chunk-5YOY32P5.min.js";import{a as mP}from"https://app.gitbook.com/public/app/chunks/chunk-OTW75K25.min.js";import{a as jg}from"https://app.gitbook.com/public/app/chunks/chunk-XA667I6X.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-WZURYHRX.min.js";import{a as m_,b as NP}from"https://app.gitbook.com/public/app/chunks/chunk-6O2X6FAP.min.js";import{b as dp,c as pp,e as AI,f as BI}from"https://app.gitbook.com/public/app/chunks/chunk-VMIWYDZH.min.js";import{a as wg,b as Rg,c as Eg,d as J_}from"https://app.gitbook.com/public/app/chunks/chunk-Y2ML5FCI.min.js";import{a as $s}from"https://app.gitbook.com/public/app/chunks/chunk-S5JP5EWK.min.js";import{a as Fn,b as f_,c as vu,d as gg,e as g_}from"https://app.gitbook.com/public/app/chunks/chunk-S4TB23TL.min.js";import{a as xt,b as vn,c as zg,d as Ia,e as sl}from"https://app.gitbook.com/public/app/chunks/chunk-S3SYTE7U.min.js";import{a as Vi}from"https://app.gitbook.com/public/app/chunks/chunk-O6QCGOEJ.min.js";import{a as EP}from"https://app.gitbook.com/public/app/chunks/chunk-A4FVENYH.min.js";import{a as yP,b as ms,c as Oa,d as Qs,f as qP,g as WP,i as tw}from"https://app.gitbook.com/public/app/chunks/chunk-X73LPQUS.min.js";import{a as So,b as xa,c as ds}from"https://app.gitbook.com/public/app/chunks/chunk-P4SWZQ4W.min.js";import{a as hP,b as _P,c as PP,d as RP}from"https://app.gitbook.com/public/app/chunks/chunk-7RHZKQYD.min.js";import{a as y_,b as Se}from"https://app.gitbook.com/public/app/chunks/chunk-GSCDSYI4.min.js";import{a as Qo,b as Op,c as et,d as Hg}from"https://app.gitbook.com/public/app/chunks/chunk-MFJD5LMS.min.js";import{a as t_,b as xp,c as Ao}from"https://app.gitbook.com/public/app/chunks/chunk-6ANESTFY.min.js";import{a as Co,b as qg}from"https://app.gitbook.com/public/app/chunks/chunk-IMWXYLTV.min.js";import{a as xu,b as Lg,c as no,d as Dg,e as sP,f as cP,g as uP,h as ce,i as dP,j as pP,k as Zs,l as Cp,m as pe,n as Wg}from"https://app.gitbook.com/public/app/chunks/chunk-7V2GHUXH.min.js";import{a as zn}from"https://app.gitbook.com/public/app/chunks/chunk-5WDQDB6M.min.js";import{a as Sr,b as Z,c as ro,d as H_,e as K_,f as wo,g as kg,h as Og,i as Sp,k as X_}from"https://app.gitbook.com/public/app/chunks/chunk-S4WAHSD7.min.js";import{a as ll}from"https://app.gitbook.com/public/app/chunks/chunk-FL4AQDHQ.min.js";import{a as G_}from"https://app.gitbook.com/public/app/chunks/chunk-JF4HAK4W.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-PXHZALOU.min.js";import{a as vi}from"https://app.gitbook.com/public/app/chunks/chunk-6BA6E2SE.min.js";import{a as Gi}from"https://app.gitbook.com/public/app/chunks/chunk-IT7MQ3YC.min.js";import{$ as US,H as A1,M as pg,N as c_,O as Dt,P as mg,Q as l_,S as u_,U as d_,V as p_,W as ae,_ as fg,aa as h_,ca as ec,da as CP,ea as xP,fa as kP,ga as OP,ha as IP,la as fs,ma as Kg,na as Iu,oa as _a,pa as Xg,qa as MP,ra as LP,sa as DP,ta as _u,ua as AP,wa as cl,xa as BP}from"https://app.gitbook.com/public/app/chunks/chunk-IXDL24CN.min.js";import{d as we}from"https://app.gitbook.com/public/app/chunks/chunk-HTSBX533.min.js";import{a as Nf}from"https://app.gitbook.com/public/app/chunks/chunk-FUQHPWZE.min.js";import{$a as q1,$b as Bf,$e as il,Ab as MS,Ac as VS,Bb as LS,Bc as gn,Cc as _t,Dc as nr,Ec as Sa,Ee as cg,Fc as di,Fe as ZI,Gc as K,Ge as QI,Hc as fp,Ib as H1,Ic as GS,Jc as FI,Kc as mu,Lc as br,Mc as fu,Me as hp,Nc as zI,Ob as Ai,Oe as XS,Pb as K1,Qb as tp,Qc as VI,Rb as X1,Rc as oo,Sb as U1,Sc as ss,Se as JI,Te as e_,Uc as cs,Va as ga,Vb as op,Wa as Ni,_b as el,a as Lf,ab as W1,ad as ng,b as rr,bb as F1,bc as Q1,bd as GI,bf as lg,c as Jc,cc as J1,cf as o_,d as L1,df as r_,e as D1,ef as n_,ff as i_,g as fa,gc as eI,hc as tI,ic as og,if as ug,j as Df,jb as z1,jc as kI,je as XI,k as N1,kc as OI,ke as KS,lc as li,le as Vs,mc as II,nc as _I,ne as gu,ob as RS,oc as PI,oe as UI,pb as Za,pc as RI,pe as Gs,qc as EI,qd as HI,rc as TI,re as jI,sc as MI,sd as KI,se as sg,tb as ES,tc as LI,td as HS,te as YI,ub as V1,uc as zS,ud as ig,ue as gp,vc as DI,vf as a_,wb as TS,wc as NI,wf as dg,xc as rg,xe as $I,xf as yu,yc as up,yd as ag,yf as s_,zb as G1,zc as ui}from"https://app.gitbook.com/public/app/chunks/chunk-FT4CPRPI.min.js";import{$ as Su,A as Do,B as wt,C as M_,D as wa,E as v,F as L_,G as ee,H as Ie,I as No,J as yn,K as xg,M as Ks,N as Ca,O as Xs,P as A_,Q as B_,S as q_,T as zi,U as Us,V as W_,_ as z_,aa as hi,b as hn,ba as V_,da as yi,e as b_,ga as W,i as $S,j as H,k as Hs,m as O_,o as gi,p as bu,q as __,r as ls,s as Cg,t as ZS,u as P_,v as R_,x as E_,y as Zo,z as T_}from"https://app.gitbook.com/public/app/chunks/chunk-63OECACS.min.js";import{a as DF,b as bo,c as vp,e as F_,f as wr}from"https://app.gitbook.com/public/app/chunks/chunk-2BK66RIA.min.js";import{c as Di,e as LF}from"https://app.gitbook.com/public/app/chunks/chunk-QZT6GV7G.min.js";import{$ as Ur,$a as fI,A as Vf,Aa as ci,Ab as Re,B as Gt,Ba as Yr,Bb as TF,C as rp,Ca as $r,Cb as MF,D as RF,Da as Wn,Db as oe,Ea as yo,Eb as Wi,Fa as ap,Fb as wI,G as iI,Gb as CI,H as np,Ha as vr,Hb as du,I as zs,Ia as sp,Ib as pu,Ja as cp,Ka as au,La as Hf,Ma as va,Na as su,Oa as Kf,P as ip,Pa as Xf,Q as sI,Qa as Uf,R as cI,Ra as mI,S as EF,Sa as rs,T as lI,U as AS,Ua as lp,V as Xr,Va as ns,W as ya,Wa as jf,X as uI,Xa as Yf,Y as yr,Ya as WS,Z as Qa,Za as Me,_ as Ja,_a as is,aa as Bi,ab as Ct,b as j1,ba as dI,bb as cu,c as DS,ca as Fe,cb as FS,da as Ge,db as $f,e as Y1,ea as rt,eb as to,f as NS,fa as fo,g as qf,ga as go,gb as rl,ha as Ht,hb as gI,i as nu,ia as ho,ib as hI,j as si,ja as $o,jb as yI,k as $1,ka as ge,kb as Zf,l as Z1,la as es,lb as Qf,ma as Kt,mb as as,n as ha,na as Mo,nb as Jf,o as oI,oa as BS,p as Wf,pa as pI,pb as lu,qa as qS,qb as vI,r as iu,ra as tl,rb as eg,sa as Gf,sb as tg,t as Ff,ta as jr,tb as bI,u as Vt,ua as mn,ub as Lo,v as To,va as qn,vb as uu,wa as ts,wb as qi,x as rI,xa as ol,xb as mt,y as ye,ya as fn,yb as nl,z as nI,za as os,zb as SI}from"https://app.gitbook.com/public/app/chunks/chunk-NCTOACN7.min.js";import{a as lt}from"https://app.gitbook.com/public/app/chunks/chunk-GNRHQE6Q.min.js";import{$ as hg,A as PS,C as Tf,D as Ve,E as ai,F as mo,G as P1,H as Mf,I as G,J as R1,K as Lt,M as E1,N as T1,O as Hr,P as Kr,Q as Li,R as M1,U as Zr,V as jS,W as $,X as M,Y as g,Z as b,_ as v_,aa as yg,ba as vg,da as Ye,ea as bg,fa as vo,ga as Ze,ha as D,ia as Fi,ja as S_,k as Q,ka as w_,la as C_,m as O,ma as al,na as x_,oa as k_,pa as Sg,qa as mi,ra as I,s as S,ta as fi,u as ma,ua as B,v as Rf,va as z,w as _1,x as Ef,y as F,z as or}from"https://app.gitbook.com/public/app/chunks/chunk-M32FGI7L.min.js";import{a as yp}from"https://app.gitbook.com/public/app/chunks/chunk-PX7C75DT.min.js";import{b as zf,c as qe,d as We,e as fe,f as aI}from"https://app.gitbook.com/public/app/chunks/chunk-YJOXPQ4P.min.js";import{c as L,d as I1,e as x,f as _f,h as ru,i as Pf,j as Qc,l as s}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var aR=L(()=>{s()});var io=L((fse,sR)=>{s();sR.exports=function(t){try{return!!t()}catch(o){return!0}}});var _p=L((hse,cR)=>{s();var qF=io();cR.exports=!qF(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var Jr=L((vse,dR)=>{s();var lR=_p(),uR=Function.prototype,rw=uR.call,WF=lR&&uR.bind.bind(rw,rw);dR.exports=lR?WF:function(t){return function(){return rw.apply(t,arguments)}}});var tc=L((Sse,mR)=>{s();var pR=Jr(),FF=pR({}.toString),zF=pR("".slice);mR.exports=function(t){return zF(FF(t),8,-1)}});var iw=L((Cse,fR)=>{s();var VF=Jr(),GF=io(),HF=tc(),nw=Object,KF=VF("".split);fR.exports=GF(function(){return!nw("z").propertyIsEnumerable(0)})?function(t){return HF(t)=="String"?KF(t,""):nw(t)}:nw});var Lu=L((kse,gR)=>{s();gR.exports=function(t){return t==null}});var aw=L((Ise,hR)=>{s();var XF=Lu(),UF=TypeError;hR.exports=function(t){if(XF(t))throw UF("Can't call method on "+t);return t}});var ul=L((Pse,yR)=>{s();var jF=iw(),YF=aw();yR.exports=function(t){return jF(YF(t))}});var bR=L((Ese,vR)=>{s();vR.exports=function(){}});var Du=L((Mse,SR)=>{s();SR.exports={}});var bn=L((Dse,wR)=>{s();var $g=function(t){return t&&t.Math==Math&&t};wR.exports=$g(typeof globalThis=="object"&&globalThis)||$g(typeof window=="object"&&window)||$g(typeof self=="object"&&self)||$g(typeof window=="object"&&window)||function(){return this}()||Function("return this")()});var cw=L((Ase,CR)=>{s();var sw=typeof document=="object"&&document.all,$F=typeof sw>"u"&&sw!==void 0;CR.exports={all:sw,IS_HTMLDDA:$F}});var Bo=L((qse,kR)=>{s();var xR=cw(),ZF=xR.all;kR.exports=xR.IS_HTMLDDA?function(t){return typeof t=="function"||t===ZF}:function(t){return typeof t=="function"}});var _R=L((Fse,IR)=>{s();var QF=bn(),JF=Bo(),OR=QF.WeakMap;IR.exports=JF(OR)&&/native code/.test(String(OR))});var Hn=L((Vse,ER)=>{s();var PR=Bo(),RR=cw(),e4=RR.all;ER.exports=RR.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:PR(t)||t===e4}:function(t){return typeof t=="object"?t!==null:PR(t)}});var en=L((Hse,TR)=>{s();var t4=io();TR.exports=!t4(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var uw=L((Xse,LR)=>{s();var o4=bn(),MR=Hn(),lw=o4.document,r4=MR(lw)&&MR(lw.createElement);LR.exports=function(t){return r4?lw.createElement(t):{}}});var dw=L((jse,DR)=>{s();var n4=en(),i4=io(),a4=uw();DR.exports=!n4&&!i4(function(){return Object.defineProperty(a4("div"),"a",{get:function(){return 7}}).a!=7})});var pw=L(($se,NR)=>{s();var s4=en(),c4=io();NR.exports=s4&&c4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var bi=L((Qse,AR)=>{s();var l4=Hn(),u4=String,d4=TypeError;AR.exports=function(t){if(l4(t))return t;throw d4(u4(t)+" is not an object")}});var gs=L((ece,BR)=>{s();var p4=_p(),Zg=Function.prototype.call;BR.exports=p4?Zg.bind(Zg):function(){return Zg.apply(Zg,arguments)}});var Qg=L((oce,qR)=>{s();qR.exports={}});var Ki=L((nce,FR)=>{s();var mw=Qg(),fw=bn(),m4=Bo(),WR=function(t){return m4(t)?t:void 0};FR.exports=function(t,o){return arguments.length<2?WR(mw[t])||WR(fw[t]):mw[t]&&mw[t][o]||fw[t]&&fw[t][o]}});var Pp=L((ace,zR)=>{s();var f4=Jr();zR.exports=f4({}.isPrototypeOf)});var GR=L((cce,VR)=>{s();VR.exports=typeof navigator<"u"&&String(navigator.userAgent)||""});var hw=L((uce,YR)=>{s();var jR=bn(),gw=GR(),HR=jR.process,KR=jR.Deno,XR=HR&&HR.versions||KR&&KR.version,UR=XR&&XR.v8,Xi,Jg;UR&&(Xi=UR.split("."),Jg=Xi[0]>0&&Xi[0]<4?1:+(Xi[0]+Xi[1]));!Jg&&gw&&(Xi=gw.match(/Edge\/(\d+)/),(!Xi||Xi[1]>=74)&&(Xi=gw.match(/Chrome\/(\d+)/),Xi&&(Jg=+Xi[1])));YR.exports=Jg});var yw=L((pce,ZR)=>{s();var $R=hw(),g4=io();ZR.exports=!!Object.getOwnPropertySymbols&&!g4(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&$R&&$R<41})});var vw=L((fce,QR)=>{s();var h4=yw();QR.exports=h4&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var eh=L((hce,JR)=>{s();var y4=Ki(),v4=Bo(),b4=Pp(),S4=vw(),w4=Object;JR.exports=S4?function(t){return typeof t=="symbol"}:function(t){var o=y4("Symbol");return v4(o)&&b4(o.prototype,w4(t))}});var th=L((vce,eE)=>{s();var C4=String;eE.exports=function(t){try{return C4(t)}catch(o){return"Object"}}});var Rp=L((Sce,tE)=>{s();var x4=Bo(),k4=th(),O4=TypeError;tE.exports=function(t){if(x4(t))return t;throw O4(k4(t)+" is not a function")}});var oh=L((Cce,oE)=>{s();var I4=Rp(),_4=Lu();oE.exports=function(t,o){var e=t[o];return _4(e)?void 0:I4(e)}});var nE=L((kce,rE)=>{s();var bw=gs(),Sw=Bo(),ww=Hn(),P4=TypeError;rE.exports=function(t,o){var e,r;if(o==="string"&&Sw(e=t.toString)&&!ww(r=bw(e,t))||Sw(e=t.valueOf)&&!ww(r=bw(e,t))||o!=="string"&&Sw(e=t.toString)&&!ww(r=bw(e,t)))return r;throw P4("Can't convert object to primitive value")}});var oc=L((Ice,iE)=>{s();iE.exports=!0});var cE=L((Pce,sE)=>{s();var aE=bn(),R4=Object.defineProperty;sE.exports=function(t,o){try{R4(aE,t,{value:o,configurable:!0,writable:!0})}catch(e){aE[t]=o}return o}});var rh=L((Ece,uE)=>{s();var E4=bn(),T4=cE(),lE="__core-js_shared__",M4=E4[lE]||T4(lE,{});uE.exports=M4});var Cw=L((Mce,pE)=>{s();var L4=oc(),dE=rh();(pE.exports=function(t,o){return dE[t]||(dE[t]=o!==void 0?o:{})})("versions",[]).push({version:"3.30.1",mode:L4?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var Ep=L((Dce,mE)=>{s();var D4=aw(),N4=Object;mE.exports=function(t){return N4(D4(t))}});var Sn=L((Ace,fE)=>{s();var A4=Jr(),B4=Ep(),q4=A4({}.hasOwnProperty);fE.exports=Object.hasOwn||function(o,e){return q4(B4(o),e)}});var Tp=L((qce,gE)=>{s();var W4=Jr(),F4=0,z4=Math.random(),V4=W4(1 .toString);gE.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+V4(++F4+z4,36)}});var Ui=L((Fce,yE)=>{s();var G4=bn(),H4=Cw(),hE=Sn(),K4=Tp(),X4=yw(),U4=vw(),Nu=G4.Symbol,xw=H4("wks"),j4=U4?Nu.for||Nu:Nu&&Nu.withoutSetter||K4;yE.exports=function(t){return hE(xw,t)||(xw[t]=X4&&hE(Nu,t)?Nu[t]:j4("Symbol."+t)),xw[t]}});var wE=L((Vce,SE)=>{s();var Y4=gs(),vE=Hn(),bE=eh(),$4=oh(),Z4=nE(),Q4=Ui(),J4=TypeError,ez=Q4("toPrimitive");SE.exports=function(t,o){if(!vE(t)||bE(t))return t;var e=$4(t,ez),r;if(e){if(o===void 0&&(o="default"),r=Y4(e,t,o),!vE(r)||bE(r))return r;throw J4("Can't convert object to primitive value")}return o===void 0&&(o="number"),Z4(t,o)}});var nh=L((Hce,CE)=>{s();var tz=wE(),oz=eh();CE.exports=function(t){var o=tz(t,"string");return oz(o)?o:o+""}});var ji=L(kE=>{s();var rz=en(),nz=dw(),iz=pw(),ih=bi(),xE=nh(),az=TypeError,kw=Object.defineProperty,sz=Object.getOwnPropertyDescriptor,Ow="enumerable",Iw="configurable",_w="writable";kE.f=rz?iz?function(o,e,r){if(ih(o),e=xE(e),ih(r),typeof o=="function"&&e==="prototype"&&"value"in r&&_w in r&&!r[_w]){var n=sz(o,e);n&&n[_w]&&(o[e]=r.value,r={configurable:Iw in r?r[Iw]:n[Iw],enumerable:Ow in r?r[Ow]:n[Ow],writable:!1})}return kw(o,e,r)}:kw:function(o,e,r){if(ih(o),e=xE(e),ih(r),nz)try{return kw(o,e,r)}catch(n){}if("get"in r||"set"in r)throw az("Accessors not supported");return"value"in r&&(o[e]=r.value),o}});var rc=L((jce,OE)=>{s();OE.exports=function(t,o){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:o}}});var nc=L(($ce,IE)=>{s();var cz=en(),lz=ji(),uz=rc();IE.exports=cz?function(t,o,e){return lz.f(t,o,uz(1,e))}:function(t,o,e){return t[o]=e,t}});var ah=L((Qce,PE)=>{s();var dz=Cw(),pz=Tp(),_E=dz("keys");PE.exports=function(t){return _E[t]||(_E[t]=pz(t))}});var Mp=L((ele,RE)=>{s();RE.exports={}});var Dp=L((ole,ME)=>{s();var mz=_R(),TE=bn(),fz=Hn(),gz=nc(),Pw=Sn(),Rw=rh(),hz=ah(),yz=Mp(),EE="Object already initialized",Ew=TE.TypeError,vz=TE.WeakMap,sh,Lp,ch,bz=function(t){return ch(t)?Lp(t):sh(t,{})},Sz=function(t){return function(o){var e;if(!fz(o)||(e=Lp(o)).type!==t)throw Ew("Incompatible receiver, "+t+" required");return e}};mz||Rw.state?(Yi=Rw.state||(Rw.state=new vz),Yi.get=Yi.get,Yi.has=Yi.has,Yi.set=Yi.set,sh=function(t,o){if(Yi.has(t))throw Ew(EE);return o.facade=t,Yi.set(t,o),o},Lp=function(t){return Yi.get(t)||{}},ch=function(t){return Yi.has(t)}):(dl=hz("state"),yz[dl]=!0,sh=function(t,o){if(Pw(t,dl))throw Ew(EE);return o.facade=t,gz(t,dl,o),o},Lp=function(t){return Pw(t,dl)?t[dl]:{}},ch=function(t){return Pw(t,dl)});var Yi,dl;ME.exports={set:sh,get:Lp,has:ch,enforce:bz,getterFor:Sz}});var BE=L((nle,AE)=>{s();var wz=_p(),NE=Function.prototype,LE=NE.apply,DE=NE.call;AE.exports=typeof Reflect=="object"&&Reflect.apply||(wz?DE.bind(LE):function(){return DE.apply(LE,arguments)})});var Tw=L((ale,qE)=>{s();var Cz=tc(),xz=Jr();qE.exports=function(t){if(Cz(t)==="Function")return xz(t)}});var VE=L(zE=>{"use strict";s();var WE={}.propertyIsEnumerable,FE=Object.getOwnPropertyDescriptor,kz=FE&&!WE.call({1:2},1);zE.f=kz?function(o){var e=FE(this,o);return!!e&&e.enumerable}:WE});var KE=L(HE=>{s();var Oz=en(),Iz=gs(),_z=VE(),Pz=rc(),Rz=ul(),Ez=nh(),Tz=Sn(),Mz=dw(),GE=Object.getOwnPropertyDescriptor;HE.f=Oz?GE:function(o,e){if(o=Rz(o),e=Ez(e),Mz)try{return GE(o,e)}catch(r){}if(Tz(o,e))return Pz(!Iz(_z.f,o,e),o[e])}});var UE=L((ple,XE)=>{s();var Lz=io(),Dz=Bo(),Nz=/#|\.prototype\./,Np=function(t,o){var e=Bz[Az(t)];return e==Wz?!0:e==qz?!1:Dz(o)?Lz(o):!!o},Az=Np.normalize=function(t){return String(t).replace(Nz,".").toLowerCase()},Bz=Np.data={},qz=Np.NATIVE="N",Wz=Np.POLYFILL="P";XE.exports=Np});var Ap=L((fle,YE)=>{s();var jE=Tw(),Fz=Rp(),zz=_p(),Vz=jE(jE.bind);YE.exports=function(t,o){return Fz(t),o===void 0?t:zz?Vz(t,o):function(){return t.apply(o,arguments)}}});var ic=L((hle,ZE)=>{"use strict";s();var lh=bn(),Gz=BE(),Hz=Tw(),Kz=Bo(),Xz=KE().f,Uz=UE(),Au=Qg(),jz=Ap(),Bu=nc(),$E=Sn(),Yz=function(t){var o=function(e,r,n){if(this instanceof o){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return Gz(t,this,arguments)};return o.prototype=t.prototype,o};ZE.exports=function(t,o){var e=t.target,r=t.global,n=t.stat,i=t.proto,a=r?lh:n?lh[e]:(lh[e]||{}).prototype,c=r?Au:Au[e]||Bu(Au,e,{})[e],l=c.prototype,u,d,p,m,f,h,y,w,C;for(m in o)u=Uz(r?m:e+(n?".":"#")+m,t.forced),d=!u&&a&&$E(a,m),h=c[m],d&&(t.dontCallGetSet?(C=Xz(a,m),y=C&&C.value):y=a[m]),f=d&&y?y:o[m],!(d&&typeof h==typeof f)&&(t.bind&&d?w=jz(f,lh):t.wrap&&d?w=Yz(f):i&&Kz(f)?w=Hz(f):w=f,(t.sham||f&&f.sham||h&&h.sham)&&Bu(w,"sham",!0),Bu(c,m,w),i&&(p=e+"Prototype",$E(Au,p)||Bu(Au,p,{}),Bu(Au[p],m,f),t.real&&l&&(u||!l[m])&&Bu(l,m,f)))}});var eT=L((vle,JE)=>{s();var Mw=en(),$z=Sn(),QE=Function.prototype,Zz=Mw&&Object.getOwnPropertyDescriptor,Lw=$z(QE,"name"),Qz=Lw&&function(){}.name==="something",Jz=Lw&&(!Mw||Mw&&Zz(QE,"name").configurable);JE.exports={EXISTS:Lw,PROPER:Qz,CONFIGURABLE:Jz}});var oT=L((Sle,tT)=>{s();var eV=Math.ceil,tV=Math.floor;tT.exports=Math.trunc||function(o){var e=+o;return(e>0?tV:eV)(e)}});var Dw=L((Cle,rT)=>{s();var oV=oT();rT.exports=function(t){var o=+t;return o!==o||o===0?0:oV(o)}});var Nw=L((kle,nT)=>{s();var rV=Dw(),nV=Math.max,iV=Math.min;nT.exports=function(t,o){var e=rV(t);return e<0?nV(e+o,0):iV(e,o)}});var aT=L((Ile,iT)=>{s();var aV=Dw(),sV=Math.min;iT.exports=function(t){return t>0?sV(aV(t),9007199254740991):0}});var qu=L((Ple,sT)=>{s();var cV=aT();sT.exports=function(t){return cV(t.length)}});var uT=L((Ele,lT)=>{s();var lV=ul(),uV=Nw(),dV=qu(),cT=function(t){return function(o,e,r){var n=lV(o),i=dV(n),a=uV(r,i),c;if(t&&e!=e){for(;i>a;)if(c=n[a++],c!=c)return!0}else for(;i>a;a++)if((t||a in n)&&n[a]===e)return t||a||0;return!t&&-1}};lT.exports={includes:cT(!0),indexOf:cT(!1)}});var Bw=L((Mle,pT)=>{s();var pV=Jr(),Aw=Sn(),mV=ul(),fV=uT().indexOf,gV=Mp(),dT=pV([].push);pT.exports=function(t,o){var e=mV(t),r=0,n=[],i;for(i in e)!Aw(gV,i)&&Aw(e,i)&&dT(n,i);for(;o.length>r;)Aw(e,i=o[r++])&&(~fV(n,i)||dT(n,i));return n}});var uh=L((Dle,mT)=>{s();mT.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var qw=L((Ale,fT)=>{s();var hV=Bw(),yV=uh();fT.exports=Object.keys||function(o){return hV(o,yV)}});var hT=L(gT=>{s();var vV=en(),bV=pw(),SV=ji(),wV=bi(),CV=ul(),xV=qw();gT.f=vV&&!bV?Object.defineProperties:function(o,e){wV(o);for(var r=CV(e),n=xV(e),i=n.length,a=0,c;i>a;)SV.f(o,c=n[a++],r[c]);return o}});var vT=L((Fle,yT)=>{s();var kV=Ki();yT.exports=kV("document","documentElement")});var Wu=L((Vle,OT)=>{s();var OV=bi(),IV=hT(),bT=uh(),_V=Mp(),PV=vT(),RV=uw(),EV=ah(),ST=">",wT="<",Fw="prototype",zw="script",xT=EV("IE_PROTO"),Ww=function(){},kT=function(t){return wT+zw+ST+t+wT+"/"+zw+ST},CT=function(t){t.write(kT("")),t.close();var o=t.parentWindow.Object;return t=null,o},TV=function(){var t=RV("iframe"),o="java"+zw+":",e;return t.style.display="none",PV.appendChild(t),t.src=String(o),e=t.contentWindow.document,e.open(),e.write(kT("document.F=Object")),e.close(),e.F},dh,ph=function(){try{dh=new ActiveXObject("htmlfile")}catch(o){}ph=typeof document<"u"?document.domain&&dh?CT(dh):TV():CT(dh);for(var t=bT.length;t--;)delete ph[Fw][bT[t]];return ph()};_V[xT]=!0;OT.exports=Object.create||function(o,e){var r;return o!==null?(Ww[Fw]=OV(o),r=new Ww,Ww[Fw]=null,r[xT]=o):r=ph(),e===void 0?r:IV.f(r,e)}});var _T=L((Hle,IT)=>{s();var MV=io();IT.exports=!MV(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Gw=L((Xle,RT)=>{s();var LV=Sn(),DV=Bo(),NV=Ep(),AV=ah(),BV=_T(),PT=AV("IE_PROTO"),Vw=Object,qV=Vw.prototype;RT.exports=BV?Vw.getPrototypeOf:function(t){var o=NV(t);if(LV(o,PT))return o[PT];var e=o.constructor;return DV(e)&&o instanceof e?e.prototype:o instanceof Vw?qV:null}});var Bp=L((jle,ET)=>{s();var WV=nc();ET.exports=function(t,o,e,r){return r&&r.enumerable?t[o]=e:WV(t,o,e),t}});var Uw=L(($le,LT)=>{"use strict";s();var FV=io(),zV=Bo(),VV=Hn(),GV=Wu(),TT=Gw(),HV=Bp(),KV=Ui(),XV=oc(),Xw=KV("iterator"),MT=!1,hs,Hw,Kw;[].keys&&(Kw=[].keys(),"next"in Kw?(Hw=TT(TT(Kw)),Hw!==Object.prototype&&(hs=Hw)):MT=!0);var UV=!VV(hs)||FV(function(){var t={};return hs[Xw].call(t)!==t});UV?hs={}:XV&&(hs=GV(hs));zV(hs[Xw])||HV(hs,Xw,function(){return this});LT.exports={IteratorPrototype:hs,BUGGY_SAFARI_ITERATORS:MT}});var mh=L((Qle,NT)=>{s();var jV=Ui(),YV=jV("toStringTag"),DT={};DT[YV]="z";NT.exports=String(DT)==="[object z]"});var Fu=L((eue,AT)=>{s();var $V=mh(),ZV=Bo(),fh=tc(),QV=Ui(),JV=QV("toStringTag"),eG=Object,tG=fh(function(){return arguments}())=="Arguments",oG=function(t,o){try{return t[o]}catch(e){}};AT.exports=$V?fh:function(t){var o,e,r;return t===void 0?"Undefined":t===null?"Null":typeof(e=oG(o=eG(t),JV))=="string"?e:tG?fh(o):(r=fh(o))=="Object"&&ZV(o.callee)?"Arguments":r}});var qT=L((oue,BT)=>{"use strict";s();var rG=mh(),nG=Fu();BT.exports=rG?{}.toString:function(){return"[object "+nG(this)+"]"}});var qp=L((nue,FT)=>{s();var iG=mh(),aG=ji().f,sG=nc(),cG=Sn(),lG=qT(),uG=Ui(),WT=uG("toStringTag");FT.exports=function(t,o,e,r){if(t){var n=e?t:t.prototype;cG(n,WT)||aG(n,WT,{configurable:!0,value:o}),r&&!iG&&sG(n,"toString",lG)}}});var VT=L((aue,zT)=>{"use strict";s();var dG=Uw().IteratorPrototype,pG=Wu(),mG=rc(),fG=qp(),gG=Du(),hG=function(){return this};zT.exports=function(t,o,e,r){var n=o+" Iterator";return t.prototype=pG(dG,{next:mG(+!r,e)}),fG(t,n,!1,!0),gG[n]=hG,t}});var HT=L((cue,GT)=>{s();var yG=Jr(),vG=Rp();GT.exports=function(t,o,e){try{return yG(vG(Object.getOwnPropertyDescriptor(t,o)[e]))}catch(r){}}});var XT=L((uue,KT)=>{s();var bG=Bo(),SG=String,wG=TypeError;KT.exports=function(t){if(typeof t=="object"||bG(t))return t;throw wG("Can't set "+SG(t)+" as a prototype")}});var jw=L((pue,UT)=>{s();var CG=HT(),xG=bi(),kG=XT();UT.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,o={},e;try{e=CG(Object.prototype,"__proto__","set"),e(o,[]),t=o instanceof Array}catch(r){}return function(n,i){return xG(n),kG(i),t?e(n,i):n.__proto__=i,n}}():void 0)});var $w=L((fue,rM)=>{"use strict";s();var OG=ic(),IG=gs(),gh=oc(),tM=eT(),_G=Bo(),PG=VT(),jT=Gw(),YT=jw(),RG=qp(),EG=nc(),Yw=Bp(),TG=Ui(),$T=Du(),oM=Uw(),MG=tM.PROPER,LG=tM.CONFIGURABLE,ZT=oM.IteratorPrototype,hh=oM.BUGGY_SAFARI_ITERATORS,Wp=TG("iterator"),QT="keys",Fp="values",JT="entries",eM=function(){return this};rM.exports=function(t,o,e,r,n,i,a){PG(e,o,r);var c=function(C){if(C===n&&m)return m;if(!hh&&C in d)return d[C];switch(C){case QT:return function(){return new e(this,C)};case Fp:return function(){return new e(this,C)};case JT:return function(){return new e(this,C)}}return function(){return new e(this)}},l=o+" Iterator",u=!1,d=t.prototype,p=d[Wp]||d["@@iterator"]||n&&d[n],m=!hh&&p||c(n),f=o=="Array"&&d.entries||p,h,y,w;if(f&&(h=jT(f.call(new t)),h!==Object.prototype&&h.next&&(!gh&&jT(h)!==ZT&&(YT?YT(h,ZT):_G(h[Wp])||Yw(h,Wp,eM)),RG(h,l,!0,!0),gh&&($T[l]=eM))),MG&&n==Fp&&p&&p.name!==Fp&&(!gh&&LG?EG(d,"name",Fp):(u=!0,m=function(){return IG(p,this)})),n)if(y={values:c(Fp),keys:i?m:c(QT),entries:c(JT)},a)for(w in y)(hh||u||!(w in d))&&Yw(d,w,y[w]);else OG({target:o,proto:!0,forced:hh||u},y);return(!gh||a)&&d[Wp]!==m&&Yw(d,Wp,m,{name:n}),$T[o]=m,y}});var Zw=L((hue,nM)=>{s();nM.exports=function(t,o){return{value:t,done:o}}});var uM=L((vue,lM)=>{"use strict";s();var DG=ul(),Qw=bR(),iM=Du(),sM=Dp(),NG=ji().f,AG=$w(),yh=Zw(),BG=oc(),qG=en(),cM="Array Iterator",WG=sM.set,FG=sM.getterFor(cM);lM.exports=AG(Array,"Array",function(t,o){WG(this,{type:cM,target:DG(t),index:0,kind:o})},function(){var t=FG(this),o=t.target,e=t.kind,r=t.index++;return!o||r>=o.length?(t.target=void 0,yh(void 0,!0)):e=="keys"?yh(r,!1):e=="values"?yh(o[r],!1):yh([r,o[r]],!1)},"values");var aM=iM.Arguments=iM.Array;Qw("keys");Qw("values");Qw("entries");if(!BG&&qG&&aM.name!=="values")try{NG(aM,"name",{value:"values"})}catch(t){}});var pM=L(()=>{s();var zG=ic(),VG=Ep(),dM=qw(),GG=io(),HG=GG(function(){dM(1)});zG({target:"Object",stat:!0,forced:HG},{keys:function(o){return dM(VG(o))}})});var mM=L(()=>{s()});var Jw=L(fM=>{s();var KG=Bw(),XG=uh(),UG=XG.concat("length","prototype");fM.f=Object.getOwnPropertyNames||function(o){return KG(o,UG)}});var eC=L((Pue,gM)=>{"use strict";s();var jG=nh(),YG=ji(),$G=rc();gM.exports=function(t,o,e){var r=jG(o);r in t?YG.f(t,r,$G(0,e)):t[r]=e}});var vM=L((Eue,yM)=>{s();var hM=Nw(),ZG=qu(),QG=eC(),JG=Array,eH=Math.max;yM.exports=function(t,o,e){for(var r=ZG(t),n=hM(o,r),i=hM(e===void 0?r:e,r),a=JG(eH(i-n,0)),c=0;n<i;n++,c++)QG(a,c,t[n]);return a.length=c,a}});var CM=L((Mue,wM)=>{s();var tH=tc(),oH=ul(),bM=Jw().f,rH=vM(),SM=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nH=function(t){try{return bM(t)}catch(o){return rH(SM)}};wM.exports.f=function(o){return SM&&tH(o)=="Window"?nH(o):bM(oH(o))}});var kM=L((Due,xM)=>{s();var iH=io();xM.exports=iH(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var _M=L((Aue,IM)=>{s();var aH=io(),sH=Hn(),cH=tc(),OM=kM(),vh=Object.isExtensible,lH=aH(function(){vh(1)});IM.exports=lH||OM?function(o){return!sH(o)||OM&&cH(o)=="ArrayBuffer"?!1:vh?vh(o):!0}:vh});var RM=L((que,PM)=>{s();var uH=io();PM.exports=!uH(function(){return Object.isExtensible(Object.preventExtensions({}))})});var nC=L((Fue,MM)=>{s();var dH=ic(),pH=Jr(),mH=Mp(),fH=Hn(),tC=Sn(),gH=ji().f,EM=Jw(),hH=CM(),oC=_M(),yH=Tp(),vH=RM(),TM=!1,ys=yH("meta"),bH=0,rC=function(t){gH(t,ys,{value:{objectID:"O"+bH++,weakData:{}}})},SH=function(t,o){if(!fH(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!tC(t,ys)){if(!oC(t))return"F";if(!o)return"E";rC(t)}return t[ys].objectID},wH=function(t,o){if(!tC(t,ys)){if(!oC(t))return!0;if(!o)return!1;rC(t)}return t[ys].weakData},CH=function(t){return vH&&TM&&oC(t)&&!tC(t,ys)&&rC(t),t},xH=function(){kH.enable=function(){},TM=!0;var t=EM.f,o=pH([].splice),e={};e[ys]=1,t(e).length&&(EM.f=function(r){for(var n=t(r),i=0,a=n.length;i<a;i++)if(n[i]===ys){o(n,i,1);break}return n},dH({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:hH.f}))},kH=MM.exports={enable:xH,fastKey:SH,getWeakData:wH,onFreeze:CH};mH[ys]=!0});var DM=L((Vue,LM)=>{s();var OH=Ui(),IH=Du(),_H=OH("iterator"),PH=Array.prototype;LM.exports=function(t){return t!==void 0&&(IH.Array===t||PH[_H]===t)}});var iC=L((Hue,AM)=>{s();var RH=Fu(),NM=oh(),EH=Lu(),TH=Du(),MH=Ui(),LH=MH("iterator");AM.exports=function(t){if(!EH(t))return NM(t,LH)||NM(t,"@@iterator")||TH[RH(t)]}});var qM=L((Xue,BM)=>{s();var DH=gs(),NH=Rp(),AH=bi(),BH=th(),qH=iC(),WH=TypeError;BM.exports=function(t,o){var e=arguments.length<2?qH(t):o;if(NH(e))return AH(DH(e,t));throw WH(BH(t)+" is not iterable")}});var zM=L((jue,FM)=>{s();var FH=gs(),WM=bi(),zH=oh();FM.exports=function(t,o,e){var r,n;WM(t);try{if(r=zH(t,"return"),!r){if(o==="throw")throw e;return e}r=FH(r,t)}catch(i){n=!0,r=i}if(o==="throw")throw e;if(n)throw r;return WM(r),e}});var Sh=L(($ue,KM)=>{s();var VH=Ap(),GH=gs(),HH=bi(),KH=th(),XH=DM(),UH=qu(),VM=Pp(),jH=qM(),YH=iC(),GM=zM(),$H=TypeError,bh=function(t,o){this.stopped=t,this.result=o},HM=bh.prototype;KM.exports=function(t,o,e){var r=e&&e.that,n=!!(e&&e.AS_ENTRIES),i=!!(e&&e.IS_RECORD),a=!!(e&&e.IS_ITERATOR),c=!!(e&&e.INTERRUPTED),l=VH(o,r),u,d,p,m,f,h,y,w=function(k){return u&&GM(u,"normal",k),new bh(!0,k)},C=function(k){return n?(HH(k),c?l(k[0],k[1],w):l(k[0],k[1])):c?l(k,w):l(k)};if(i)u=t.iterator;else if(a)u=t;else{if(d=YH(t),!d)throw $H(KH(t)+" is not iterable");if(XH(d)){for(p=0,m=UH(t);m>p;p++)if(f=C(t[p]),f&&VM(HM,f))return f;return new bh(!1)}u=jH(t,d)}for(h=i?t.next:u.next;!(y=GH(h,u)).done;){try{f=C(y.value)}catch(k){GM(u,"throw",k)}if(typeof f=="object"&&f&&VM(HM,f))return f}return new bh(!1)}});var zp=L((Que,XM)=>{s();var ZH=Pp(),QH=TypeError;XM.exports=function(t,o){if(ZH(o,t))return t;throw QH("Incorrect invocation")}});var jM=L((ede,UM)=>{s();var JH=tc();UM.exports=Array.isArray||function(o){return JH(o)=="Array"}});var $M=L((ode,YM)=>{s();var eK=Jr(),tK=Bo(),aC=rh(),oK=eK(Function.toString);tK(aC.inspectSource)||(aC.inspectSource=function(t){return oK(t)});YM.exports=aC.inspectSource});var cC=L((nde,t0)=>{s();var rK=Jr(),nK=io(),ZM=Bo(),iK=Fu(),aK=Ki(),sK=$M(),QM=function(){},cK=[],JM=aK("Reflect","construct"),sC=/^\s*(?:class|function)\b/,lK=rK(sC.exec),uK=!sC.exec(QM),Vp=function(o){if(!ZM(o))return!1;try{return JM(QM,cK,o),!0}catch(e){return!1}},e0=function(o){if(!ZM(o))return!1;switch(iK(o)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return uK||!!lK(sC,sK(o))}catch(e){return!0}};e0.sham=!0;t0.exports=!JM||nK(function(){var t;return Vp(Vp.call)||!Vp(Object)||!Vp(function(){t=!0})||t})?e0:Vp});var i0=L((ade,n0)=>{s();var o0=jM(),dK=cC(),pK=Hn(),mK=Ui(),fK=mK("species"),r0=Array;n0.exports=function(t){var o;return o0(t)&&(o=t.constructor,dK(o)&&(o===r0||o0(o.prototype))?o=void 0:pK(o)&&(o=o[fK],o===null&&(o=void 0))),o===void 0?r0:o}});var s0=L((cde,a0)=>{s();var gK=i0();a0.exports=function(t,o){return new(gK(t))(o===0?0:o)}});var u0=L((ude,l0)=>{s();var hK=Ap(),yK=Jr(),vK=iw(),bK=Ep(),SK=qu(),wK=s0(),c0=yK([].push),ac=function(t){var o=t==1,e=t==2,r=t==3,n=t==4,i=t==6,a=t==7,c=t==5||i;return function(l,u,d,p){for(var m=bK(l),f=vK(m),h=hK(u,d),y=SK(f),w=0,C=p||wK,k=o?C(l,y):e||a?C(l,0):void 0,_,P;y>w;w++)if((c||w in f)&&(_=f[w],P=h(_,w,m),t))if(o)k[w]=P;else if(P)switch(t){case 3:return!0;case 5:return _;case 6:return w;case 2:c0(k,_)}else switch(t){case 4:return!1;case 7:c0(k,_)}return i?-1:r||n?n:k}};l0.exports={forEach:ac(0),map:ac(1),filter:ac(2),some:ac(3),every:ac(4),find:ac(5),findIndex:ac(6),filterReject:ac(7)}});var lC=L((pde,p0)=>{"use strict";s();var CK=ic(),xK=bn(),kK=nC(),OK=io(),IK=nc(),_K=Sh(),PK=zp(),RK=Bo(),EK=Hn(),TK=qp(),MK=ji().f,LK=u0().forEach,DK=en(),d0=Dp(),NK=d0.set,AK=d0.getterFor;p0.exports=function(t,o,e){var r=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,i=r?"set":"add",a=xK[t],c=a&&a.prototype,l={},u;if(!DK||!RK(a)||!(n||c.forEach&&!OK(function(){new a().entries().next()})))u=e.getConstructor(o,t,r,i),kK.enable();else{u=o(function(m,f){NK(PK(m,d),{type:t,collection:new a}),f!=null&&_K(f,m[i],{that:m,AS_ENTRIES:r})});var d=u.prototype,p=AK(t);LK(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(m){var f=m=="add"||m=="set";m in c&&!(n&&m=="clear")&&IK(d,m,function(h,y){var w=p(this).collection;if(!f&&n&&!EK(h))return m=="get"?void 0:!1;var C=w[m](h===0?0:h,y);return f?this:C})}),n||MK(d,"size",{configurable:!0,get:function(){return p(this).collection.size}})}return TK(u,t,!1,!0),l[t]=u,CK({global:!0,forced:!0},l),n||e.setStrong(u,t,r),u}});var wh=L((fde,m0)=>{s();var BK=ji();m0.exports=function(t,o,e){return BK.f(t,o,e)}});var g0=L((hde,f0)=>{s();var qK=Bp();f0.exports=function(t,o,e){for(var r in o)e&&e.unsafe&&t[r]?t[r]=o[r]:qK(t,r,o[r],e);return t}});var v0=L((vde,y0)=>{"use strict";s();var WK=Ki(),FK=wh(),zK=Ui(),VK=en(),h0=zK("species");y0.exports=function(t){var o=WK(t);VK&&o&&!o[h0]&&FK(o,h0,{configurable:!0,get:function(){return this}})}});var dC=L((Sde,x0)=>{"use strict";s();var GK=Wu(),HK=wh(),b0=g0(),KK=Ap(),XK=zp(),UK=Lu(),jK=Sh(),YK=$w(),Ch=Zw(),$K=v0(),Gp=en(),S0=nC().fastKey,C0=Dp(),w0=C0.set,uC=C0.getterFor;x0.exports={getConstructor:function(t,o,e,r){var n=t(function(u,d){XK(u,i),w0(u,{type:o,index:GK(null),first:void 0,last:void 0,size:0}),Gp||(u.size=0),UK(d)||jK(d,u[r],{that:u,AS_ENTRIES:e})}),i=n.prototype,a=uC(o),c=function(u,d,p){var m=a(u),f=l(u,d),h,y;return f?f.value=p:(m.last=f={index:y=S0(d,!0),key:d,value:p,previous:h=m.last,next:void 0,removed:!1},m.first||(m.first=f),h&&(h.next=f),Gp?m.size++:u.size++,y!=="F"&&(m.index[y]=f)),u},l=function(u,d){var p=a(u),m=S0(d),f;if(m!=="F")return p.index[m];for(f=p.first;f;f=f.next)if(f.key==d)return f};return b0(i,{clear:function(){for(var d=this,p=a(d),m=p.index,f=p.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete m[f.index],f=f.next;p.first=p.last=void 0,Gp?p.size=0:d.size=0},delete:function(u){var d=this,p=a(d),m=l(d,u);if(m){var f=m.next,h=m.previous;delete p.index[m.index],m.removed=!0,h&&(h.next=f),f&&(f.previous=h),p.first==m&&(p.first=f),p.last==m&&(p.last=h),Gp?p.size--:d.size--}return!!m},forEach:function(d){for(var p=a(this),m=KK(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:p.first;)for(m(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),b0(i,e?{get:function(d){var p=l(this,d);return p&&p.value},set:function(d,p){return c(this,d===0?0:d,p)}}:{add:function(d){return c(this,d=d===0?0:d,d)}}),Gp&&HK(i,"size",{configurable:!0,get:function(){return a(this).size}}),n},setStrong:function(t,o,e){var r=o+" Iterator",n=uC(o),i=uC(r);YK(t,o,function(a,c){w0(this,{type:r,target:a,state:n(a),kind:c,last:void 0})},function(){for(var a=i(this),c=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,Ch(void 0,!0)):c=="keys"?Ch(l.key,!1):c=="values"?Ch(l.value,!1):Ch([l.key,l.value],!1)},e?"entries":"values",!e,!0),$K(o)}}});var k0=L(()=>{"use strict";s();var ZK=lC(),QK=dC();ZK("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},QK)});var O0=L(()=>{s();k0()});var I0=L(()=>{"use strict";s();var JK=lC(),eX=dC();JK("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},eX)});var _0=L(()=>{s();I0()});var xh=L((Dde,P0)=>{s();var tX=tc();P0.exports=typeof process<"u"&&tX(process)=="process"});var E0=L((Ade,R0)=>{s();var oX=xh();R0.exports=function(t){try{if(oX)return Function('return require("'+t+'")')()}catch(o){}}});var M0=L((qde,T0)=>{s();var rX=Fu(),nX=String;T0.exports=function(t){if(rX(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return nX(t)}});var kh=L((Fde,L0)=>{s();var iX=M0();L0.exports=function(t,o){return t===void 0?arguments.length<2?"":o:iX(t)}});var A0=L((Vde,N0)=>{"use strict";s();var aX=en(),sX=io(),cX=bi(),lX=Wu(),D0=kh(),Oh=Error.prototype.toString,uX=sX(function(){if(aX){var t=lX(Object.defineProperty({},"name",{get:function(){return this===t}}));if(Oh.call(t)!=="true")return!0}return Oh.call({message:1,name:2})!=="2: 1"||Oh.call({})!=="Error"});N0.exports=uX?function(){var o=cX(this),e=D0(o.name,"Error"),r=D0(o.message);return e?r?e+": "+r:e:r}:Oh});var pC=L((Hde,B0)=>{s();B0.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var mC=L((Xde,F0)=>{s();var dX=Jr(),q0=Error,pX=dX("".replace),mX=function(t){return String(q0(t).stack)}("zxcasd"),W0=/\n\s*at [^:]*:[^\n]*/,fX=W0.test(mX);F0.exports=function(t,o){if(fX&&typeof t=="string"&&!q0.prepareStackTrace)for(;o--;)t=pX(t,W0,"");return t}});var Z0=L(()=>{"use strict";s();var gX=ic(),hX=E0(),Ph=Ki(),bC=io(),yX=Wu(),SC=rc(),Rh=ji().f,vX=Bp(),Ih=wh(),_h=Sn(),bX=zp(),SX=bi(),G0=A0(),z0=kh(),zu=pC(),wX=mC(),H0=Dp(),wC=en(),K0=oc(),Vu="DOMException",vC="DATA_CLONE_ERR",Th=Ph("Error"),vs=Ph(Vu)||function(){try{var t=Ph("MessageChannel")||hX("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(o){if(o.name==vC&&o.code==25)return o.constructor}}(),CX=vs&&vs.prototype,X0=Th.prototype,xX=H0.set,kX=H0.getterFor(Vu),OX="stack"in Th(Vu),U0=function(t){return _h(zu,t)&&zu[t].m?zu[t].c:0},CC=function(){bX(this,Kp);var o=arguments.length,e=z0(o<1?void 0:arguments[0]),r=z0(o<2?void 0:arguments[1],"Error"),n=U0(r);if(xX(this,{type:Vu,name:r,message:e,code:n}),wC||(this.name=r,this.message=e,this.code=n),OX){var i=Th(e);i.name=Vu,Rh(this,"stack",SC(1,wX(i.stack,1)))}},Kp=CC.prototype=yX(X0),j0=function(t){return{enumerable:!0,configurable:!0,get:t}},fC=function(t){return j0(function(){return kX(this)[t]})};wC&&(Ih(Kp,"code",fC("code")),Ih(Kp,"message",fC("message")),Ih(Kp,"name",fC("name")));Rh(Kp,"constructor",SC(1,CC));var Mh=bC(function(){return!(new vs instanceof Th)}),Y0=Mh||bC(function(){return X0.toString!==G0||String(new vs(1,2))!=="2: 1"}),$0=Mh||bC(function(){return new vs(1,"DataCloneError").code!==25}),IX=Mh||vs[vC]!==25||CX[vC]!==25,V0=K0?Y0||$0||IX:Mh;gX({global:!0,constructor:!0,forced:V0},{DOMException:V0?CC:vs});var Xp=Ph(Vu),Eh=Xp.prototype;Y0&&(K0||vs===Xp)&&vX(Eh,"toString",G0);$0&&wC&&vs===Xp&&Ih(Eh,"code",j0(function(){return U0(SX(this).name)}));for(gC in zu)_h(zu,gC)&&(hC=zu[gC],Hp=hC.s,yC=SC(6,hC.c),_h(Xp,Hp)||Rh(Xp,Hp,yC),_h(Eh,Hp)||Rh(Eh,Hp,yC));var hC,Hp,yC,gC});var eL=L((Zde,J0)=>{s();var _X=Bo(),PX=Hn(),Q0=jw();J0.exports=function(t,o,e){var r,n;return Q0&&_X(r=o.constructor)&&r!==e&&PX(n=r.prototype)&&n!==e.prototype&&Q0(t,n),t}});var sL=L(()=>{"use strict";s();var RX=ic(),EX=bn(),EC=Ki(),PC=rc(),RC=ji().f,tL=Sn(),TX=zp(),MX=eL(),oL=kh(),xC=pC(),LX=mC(),DX=en(),iL=oc(),jp="DOMException",aL=EC("Error"),Yp=EC(jp),TC=function(){TX(this,NX);var o=arguments.length,e=oL(o<1?void 0:arguments[0]),r=oL(o<2?void 0:arguments[1],"Error"),n=new Yp(e,r),i=aL(e);return i.name=jp,RC(n,"stack",PC(1,LX(i.stack,1))),MX(n,this,TC),n},NX=TC.prototype=Yp.prototype,AX="stack"in aL(jp),BX="stack"in new Yp(1,2),kC=Yp&&DX&&Object.getOwnPropertyDescriptor(EX,jp),qX=!!kC&&!(kC.writable&&kC.configurable),rL=AX&&!qX&&!BX;RX({global:!0,constructor:!0,forced:iL||rL},{DOMException:rL?TC:Yp});var Up=EC(jp),nL=Up.prototype;if(nL.constructor!==Up){iL||RC(nL,"constructor",PC(1,Up));for(OC in xC)tL(xC,OC)&&(IC=xC[OC],_C=IC.s,tL(Up,_C)||RC(Up,_C,PC(6,IC.c)))}var IC,_C,OC});var lL=L(()=>{s();var WX=Ki(),FX=qp(),cL="DOMException";FX(WX(cL),cL)});var dL=L((ipe,uL)=>{s();var zX=TypeError;uL.exports=function(t,o){if(t<o)throw zX("Not enough arguments");return t}});var mL=L((spe,pL)=>{"use strict";s();var VX=bi();pL.exports=function(){var t=VX(this),o="";return t.hasIndices&&(o+="d"),t.global&&(o+="g"),t.ignoreCase&&(o+="i"),t.multiline&&(o+="m"),t.dotAll&&(o+="s"),t.unicode&&(o+="u"),t.unicodeSets&&(o+="v"),t.sticky&&(o+="y"),o}});var hL=L((lpe,gL)=>{s();var GX=gs(),HX=Sn(),KX=Pp(),XX=mL(),fL=RegExp.prototype;gL.exports=function(t){var o=t.flags;return o===void 0&&!("flags"in fL)&&!HX(t,"flags")&&KX(fL,t)?GX(XX,t):o}});var MC=L((dpe,yL)=>{s();yL.exports=function(t,o){return o==1?function(e,r){return e[t](r)}:function(e,r,n){return e[t](r,n)}}});var SL=L((mpe,bL)=>{s();var UX=Ki(),Lh=MC(),vL=UX("Map");bL.exports={Map:vL,set:Lh("set",2),get:Lh("get",1),has:Lh("has",1),remove:Lh("delete",1),proto:vL.prototype}});var xL=L((gpe,CL)=>{s();var jX=Ki(),LC=MC(),wL=jX("Set"),YX=wL.prototype;CL.exports={Set:wL,add:LC("add",1),has:LC("has",1),remove:LC("delete",1),proto:YX}});var OL=L((ype,kL)=>{s();var $X=io(),ZX=rc();kL.exports=!$X(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",ZX(1,7)),t.stack!==7):!0})});var DC=L((bpe,IL)=>{s();IL.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var PL=L((wpe,_L)=>{s();var QX=DC(),JX=xh();_L.exports=!QX&&!JX&&typeof window=="object"&&typeof document=="object"});var TL=L((xpe,EL)=>{s();var eU=bn(),tU=io(),NC=hw(),oU=PL(),rU=DC(),nU=xh(),RL=eU.structuredClone;EL.exports=!!RL&&!tU(function(){if(rU&&NC>92||nU&&NC>94||oU&&NC>97)return!1;var t=new ArrayBuffer(8),o=RL(t,{transfer:[t]});return t.byteLength!=0||o.byteLength!=8})});var zL=L(()=>{s();var iU=oc(),aU=ic(),Xt=bn(),zC=Ki(),Qp=Jr(),VC=io(),sU=Tp(),Nh=Bo(),cU=cC(),lU=Lu(),qC=Hn(),uU=eh(),dU=Sh(),LL=bi(),DL=Fu(),pU=Sn(),mU=eC(),AC=nc(),Ah=qu(),fU=dL(),gU=hL(),qh=SL(),NL=xL(),hU=OL(),AL=TL(),$p=Xt.Object,yU=Xt.Array,BL=Xt.Date,Jp=Xt.Error,vU=Xt.EvalError,bU=Xt.RangeError,SU=Xt.ReferenceError,wU=Xt.SyntaxError,qL=Xt.TypeError,CU=Xt.URIError,xU=Xt.PerformanceMark,Hu=Xt.WebAssembly,kU=Hu&&Hu.CompileError||Jp,OU=Hu&&Hu.LinkError||Jp,IU=Hu&&Hu.RuntimeError||Jp,pl=zC("DOMException"),WC=qh.Map,WL=qh.has,_U=qh.get,Bh=qh.set,PU=NL.Set,RU=NL.add,EU=zC("Object","keys"),TU=Qp([].push),MU=Qp((!0).valueOf),LU=Qp(1 .valueOf),DU=Qp("".valueOf),NU=Qp(BL.prototype.getTime),FC=sU("structuredClone"),Zp="DataCloneError",Dh="Transferring",FL=function(t){return!VC(function(){var o=new Xt.Set([7]),e=t(o),r=t($p(7));return e==o||!e.has(7)||typeof r!="object"||r!=7})&&t},ML=function(t,o){return!VC(function(){var e=new o,r=t({a:e,b:e});return!(r&&r.a===r.b&&r.a instanceof o&&r.a.stack===e.stack)})},AU=function(t){return!VC(function(){var o=t(new Xt.AggregateError([1],FC,{cause:3}));return o.name!="AggregateError"||o.errors[0]!=1||o.message!=FC||o.cause!=3})},Gu=Xt.structuredClone,BU=iU||!ML(Gu,Jp)||!ML(Gu,pl)||!AU(Gu),qU=!Gu&&FL(function(t){return new xU(FC,{detail:t}).detail}),sc=FL(Gu)||qU,BC=function(t){throw new pl("Uncloneable type: "+t,Zp)},kr=function(t,o){throw new pl((o||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",Zp)},WU=function(){var t;try{t=new Xt.DataTransfer}catch(o){try{t=new Xt.ClipboardEvent("").clipboardData}catch(e){}}return t&&t.items&&t.files?t:null},xr=function(t,o){if(uU(t)&&BC("Symbol"),!qC(t))return t;if(o){if(WL(o,t))return _U(o,t)}else o=new WC;var e=DL(t),r=!1,n,i,a,c,l,u,d,p,m,f,h;switch(e){case"Array":a=yU(Ah(t)),r=!0;break;case"Object":a={},r=!0;break;case"Map":a=new WC,r=!0;break;case"Set":a=new PU,r=!0;break;case"RegExp":a=new RegExp(t.source,gU(t));break;case"Error":switch(i=t.name,i){case"AggregateError":a=zC("AggregateError")([]);break;case"EvalError":a=vU();break;case"RangeError":a=bU();break;case"ReferenceError":a=SU();break;case"SyntaxError":a=wU();break;case"TypeError":a=qL();break;case"URIError":a=CU();break;case"CompileError":a=kU();break;case"LinkError":a=OU();break;case"RuntimeError":a=IU();break;default:a=Jp()}r=!0;break;case"DOMException":a=new pl(t.message,t.name),r=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=Xt[e],qC(n)||kr(e),a=new n(xr(t.buffer,o),t.byteOffset,e==="DataView"?t.byteLength:t.length);break;case"DOMQuad":try{a=new DOMQuad(xr(t.p1,o),xr(t.p2,o),xr(t.p3,o),xr(t.p4,o))}catch(y){sc?a=sc(t):kr(e)}break;case"FileList":if(c=WU(),c){for(l=0,u=Ah(t);l<u;l++)c.items.add(xr(t[l],o));a=c.files}else sc?a=sc(t):kr(e);break;case"ImageData":try{a=new ImageData(xr(t.data,o),t.width,t.height,{colorSpace:t.colorSpace})}catch(y){sc?a=sc(t):kr(e)}break;default:if(sc)a=sc(t);else switch(e){case"BigInt":a=$p(t.valueOf());break;case"Boolean":a=$p(MU(t));break;case"Number":a=$p(LU(t));break;case"String":a=$p(DU(t));break;case"Date":a=new BL(NU(t));break;case"ArrayBuffer":n=Xt.DataView,!n&&typeof t.slice!="function"&&kr(e);try{if(typeof t.slice=="function"&&!t.resizable)a=t.slice(0);else for(u=t.byteLength,h=("maxByteLength"in t)?{maxByteLength:t.maxByteLength}:void 0,a=new ArrayBuffer(u,h),m=new n(t),f=new n(a),l=0;l<u;l++)f.setUint8(l,m.getUint8(l))}catch(y){throw new pl("ArrayBuffer is detached",Zp)}break;case"SharedArrayBuffer":a=t;break;case"Blob":try{a=t.slice(0,t.size,t.type)}catch(y){kr(e)}break;case"DOMPoint":case"DOMPointReadOnly":n=Xt[e];try{a=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(y){kr(e)}break;case"DOMRect":case"DOMRectReadOnly":n=Xt[e];try{a=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(y){kr(e)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=Xt[e];try{a=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(y){kr(e)}break;case"AudioData":case"VideoFrame":Nh(t.clone)||kr(e);try{a=t.clone()}catch(y){BC(e)}break;case"File":try{a=new File([t],t.name,t)}catch(y){kr(e)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":kr(e);default:BC(e)}}if(Bh(o,t,a),r)switch(e){case"Array":case"Object":for(d=EU(t),l=0,u=Ah(d);l<u;l++)p=d[l],mU(a,p,xr(t[p],o));break;case"Map":t.forEach(function(y,w){Bh(a,xr(w,o),xr(y,o))});break;case"Set":t.forEach(function(y){RU(a,xr(y,o))});break;case"Error":AC(a,"message",xr(t.message,o)),pU(t,"cause")&&AC(a,"cause",xr(t.cause,o)),i=="AggregateError"&&(a.errors=xr(t.errors,o));case"DOMException":hU&&AC(a,"stack",xr(t.stack,o))}return a},FU=function(t,o){if(!qC(t))throw qL("Transfer option cannot be converted to a sequence");var e=[];dU(t,function(m){TU(e,LL(m))});var r=0,n=Ah(e),i,a,c,l,u,d,p;if(AL)for(l=Gu(e,{transfer:e});r<n;)Bh(o,e[r],l[r++]);else for(;r<n;){if(i=e[r++],WL(o,i))throw new pl("Duplicate transferable",Zp);switch(a=DL(i),a){case"ImageBitmap":c=Xt.OffscreenCanvas,cU(c)||kr(a,Dh);try{d=new c(i.width,i.height),p=d.getContext("bitmaprenderer"),p.transferFromImageBitmap(i),u=d.transferToImageBitmap()}catch(m){}break;case"AudioData":case"VideoFrame":(!Nh(i.clone)||!Nh(i.close))&&kr(a,Dh);try{u=i.clone(),i.close()}catch(m){}break;case"ArrayBuffer":Nh(i.transfer)||kr(a,Dh),u=i.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":kr(a,Dh)}if(u===void 0)throw new pl("This object cannot be transferred: "+a,Zp);Bh(o,i,u)}};aU({global:!0,enumerable:!0,sham:!AL,forced:BU},{structuredClone:function(o){var e=fU(arguments.length,1)>1&&!lU(arguments[1])?LL(arguments[1]):void 0,r=e?e.transfer:void 0,n;return r!==void 0&&(n=new WC,FU(r,n)),xr(o,n)}})});var GL=L((Ppe,VL)=>{s();aR();uM();pM();mM();O0();_0();Z0();sL();lL();zL();var zU=Qg();VL.exports=zU.structuredClone});var KL=L((Epe,HL)=>{s();var VU=GL();HL.exports=VU});var ZD=L((Pke,$D)=>{s();var cY="Expected a function",jD=NaN,lY="[object Symbol]",uY=/^\s+|\s+$/g,dY=/^[-+]0x[0-9a-f]+$/i,pY=/^0b[01]+$/i,mY=/^0o[0-7]+$/i,fY=parseInt,gY=typeof window=="object"&&window&&window.Object===Object&&window,hY=typeof self=="object"&&self&&self.Object===Object&&self,yY=gY||hY||Function("return this")(),vY=Object.prototype,bY=vY.toString,SY=Math.max,wY=Math.min,rx=function(){return yY.Date.now()};function CY(t,o,e){var r,n,i,a,c,l,u=0,d=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(cY);o=YD(o)||0,nx(e)&&(d=!!e.leading,p="maxWait"in e,i=p?SY(YD(e.maxWait)||0,o):i,m="trailing"in e?!!e.trailing:m);function f(T){var E=r,A=n;return r=n=void 0,u=T,a=t.apply(A,E),a}function h(T){return u=T,c=setTimeout(C,o),d?f(T):a}function y(T){var E=T-l,A=T-u,V=o-E;return p?wY(V,i-A):V}function w(T){var E=T-l,A=T-u;return l===void 0||E>=o||E<0||p&&A>=i}function C(){var T=rx();if(w(T))return k(T);c=setTimeout(C,y(T))}function k(T){return c=void 0,m&&r?f(T):(r=n=void 0,a)}function _(){c!==void 0&&clearTimeout(c),u=0,r=l=n=c=void 0}function P(){return c===void 0?a:k(rx())}function R(){var T=rx(),E=w(T);if(r=arguments,n=this,l=T,E){if(c===void 0)return h(l);if(p)return c=setTimeout(C,o),f(l)}return c===void 0&&(c=setTimeout(C,o)),a}return R.cancel=_,R.flush=P,R}function nx(t){var o=typeof t;return!!t&&(o=="object"||o=="function")}function xY(t){return!!t&&typeof t=="object"}function kY(t){return typeof t=="symbol"||xY(t)&&bY.call(t)==lY}function YD(t){if(typeof t=="number")return t;if(kY(t))return jD;if(nx(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=nx(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=t.replace(uY,"");var e=pY.test(t);return e||mY.test(t)?fY(t.slice(2),e?2:8):dY.test(t)?jD:+t}$D.exports=CY});var JD=L((Eke,QD)=>{s();QD.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()});var eN=L((Mke,OY)=>{OY.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors:["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.34",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=4.0.0"},dependencies:{bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config:{verbose:!1},scripts:{test:"tape test/unit/*.js",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}});var oN=L((Lke,tN)=>{s();tN.exports=eN().version});var iN=L((Nke,nN)=>{s();var yl;if(typeof globalThis=="object")yl=globalThis;else try{yl=JD()}catch(t){}finally{if(!yl&&typeof window<"u"&&(yl=window),!yl)throw new Error("Could not determine global this")}var am=yl.WebSocket||yl.MozWebSocket,IY=oN();function rN(t,o){var e;return o?e=new am(t,o):e=new am(t),e}am&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(rN,t,{get:function(){return am[t]}})});nN.exports={w3cwebsocket:am?rN:null,version:IY}});var JN=L(px=>{s();Object.defineProperty(px,"__esModule",{value:!0});var JY=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},e$="src/index.js",t$=function(){function t(o,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,e,r){return e&&t(o.prototype,e),r&&t(o,r),o}}(),ZN=O(),o$=n$(ZN),r$=(G(),_f(Mf));function n$(t){return t&&t.__esModule?t:{default:t}}function i$(t,o){var e={};for(var r in t)o.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function a$(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function $N(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:t}function s$(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var QN=function(t){s$(o,t);function o(){var e,r,n,i;a$(this,o);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return i=(r=(n=$N(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(c))),n),n.state={width:1,height:1},n.measure=function(u){n.setState({width:u.nativeEvent.layout.width,height:u.nativeEvent.layout.height}),n.props.onLayout&&n.props.onLayout(u)},n.getAngle=function(){if(n.props.useAngle)return n.props.angle+"deg";var u=Math.atan2(n.state.width*(n.props.end.y-n.props.start.y),n.state.height*(n.props.end.x-n.props.start.x))+Math.PI/2;return u+"rad"},n.getColors=function(){return n.props.colors.map(function(u,d){var p=n.props.locations[d],m="";return p&&(m=" "+p*100+"%"),u+m}).join(",")},r),$N(n,i)}return t$(o,[{key:"render",value:function(){var r=this.props,n=r.start,i=r.end,a=r.colors,c=r.locations,l=r.useAngle,u=r.angleCenter,d=r.angle,p=r.style,m=r.children,f=i$(r,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return o$.default.createElement(r$.View,JY({},f,{style:[p,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:e$,lineNumber:76}}),m)}}]),o}(ZN.PureComponent);QN.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0};px.default=QN});var J6=L((FMe,eZ)=>{eZ.exports="https://app.gitbook.com/public/app/assets/youtube.raw-KIFNDQS6.svg"});var e7=L((zMe,tZ)=>{tZ.exports="https://app.gitbook.com/public/app/assets/soundcloud.raw-2NJLH377.svg"});var t7=L((VMe,oZ)=>{oZ.exports="https://app.gitbook.com/public/app/assets/loom.raw-3KUBFJOQ.svg"});var o7=L((GMe,rZ)=>{rZ.exports="https://app.gitbook.com/public/app/assets/github.raw-G362N2HA.svg"});var r7=L((HMe,nZ)=>{nZ.exports="https://app.gitbook.com/public/app/assets/github.dark.raw-A2MHFBQG.svg"});var n7=L((KMe,iZ)=>{iZ.exports="https://app.gitbook.com/public/app/assets/framer.raw-BZOKEAUJ.svg"});var i7=L((XMe,aZ)=>{aZ.exports="https://app.gitbook.com/public/app/assets/framer.dark.raw-HVTXI7EB.svg"});var a7=L((UMe,sZ)=>{sZ.exports="https://app.gitbook.com/public/app/assets/codepen.raw-PGSLYKJU.svg"});var s7=L((jMe,cZ)=>{cZ.exports="https://app.gitbook.com/public/app/assets/codepen.dark.raw-HNDMNQX3.svg"});var c7=L((YMe,lZ)=>{lZ.exports="https://app.gitbook.com/public/app/assets/dribbble.raw-KBB5DOUQ.svg"});var l7=L(($Me,uZ)=>{uZ.exports="https://app.gitbook.com/public/app/assets/trello.raw-5HIIOOAI.svg"});var u7=L((ZMe,dZ)=>{dZ.exports="https://app.gitbook.com/public/app/assets/typeform.raw-74VPCTO6.svg"});var d7=L((QMe,pZ)=>{pZ.exports="https://app.gitbook.com/public/app/assets/typeform.dark.raw-47MGSH5W.svg"});var p7=L((JMe,mZ)=>{mZ.exports="https://app.gitbook.com/public/app/assets/google-docs.raw-I6UHVZFS.svg"});var m7=L((e0e,fZ)=>{fZ.exports="https://app.gitbook.com/public/app/assets/google-sheets.raw-IGZ6R7IJ.svg"});var f7=L((t0e,gZ)=>{gZ.exports="https://app.gitbook.com/public/app/assets/google-slides.raw-WGHORNC6.svg"});var g7=L((o0e,hZ)=>{hZ.exports="https://app.gitbook.com/public/app/assets/google-forms.raw-7C25TP6G.svg"});var uA=L((w8e,CQ)=>{CQ.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var mA=L((C8e,pA)=>{"use strict";s();var nk=uA();pA.exports=Ji;Ji.message=nk;Ji.code=xQ(nk);Ji.codes=kQ(nk);Ji.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};Ji.empty={204:!0,205:!0,304:!0};Ji.retry={502:!0,503:!0,504:!0};function xQ(t){var o={};return Object.keys(t).forEach(function(r){var n=t[r],i=Number(r);o[n.toLowerCase()]=i}),o}function kQ(t){return Object.keys(t).map(function(e){return Number(e)})}function OQ(t){var o=t.toLowerCase();if(!Object.prototype.hasOwnProperty.call(Ji.code,o))throw new Error('invalid status message: "'+t+'"');return Ji.code[o]}function dA(t){if(!Object.prototype.hasOwnProperty.call(Ji.message,t))throw new Error("invalid status code: "+t);return Ji.message[t]}function Ji(t){if(typeof t=="number")return dA(t);if(typeof t!="string")throw new TypeError("code must be a number or string");var o=parseInt(t,10);return isNaN(o)?OQ(t):dA(o)}});var NA=L((_v,DA)=>{s();(function(t,o){typeof define=="function"&&define.amd?define(o):typeof _v=="object"&&typeof _v.nodeName!="string"?DA.exports=o():t.RangeFix=o()})(_v,function(){var t,o={};o.isBroken=function(){var n,i,a,c,l,u,d,p;return t===void 0&&(i=document.createElement("p"),a=document.createElement("span"),c=document.createTextNode("aa"),l=document.createTextNode("aa"),u=document.createElement("img"),u.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),d=document.createRange(),t={},i.appendChild(c),i.appendChild(a),a.appendChild(u),a.appendChild(l),document.body.appendChild(i),d.setStart(c,1),d.setEnd(a,0),t.getClientRects=t.getBoundingClientRect=d.getClientRects().length>1,t.getClientRects||(d.setEnd(l,1),t.getClientRects=t.getBoundingClientRect=d.getClientRects().length===2),t.getBoundingClientRect||(d.setEnd(d.startContainer,d.startOffset),n=d.getBoundingClientRect(),t.getBoundingClientRect=n.top===0&&n.left===0),document.body.removeChild(i),p=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),t.ieZoom=!!p&&p<=10),t};function e(n){var i;return!n||screen.deviceXDPI===screen.logicalXDPI?n:"length"in n?Array.prototype.map.call(n,e):(i=screen.deviceXDPI/screen.logicalXDPI,{top:n.top/i,bottom:n.bottom/i,left:n.left/i,right:n.right/i,width:n.width/i,height:n.height/i})}function r(n,i){var a,c=0,l=1024;if(l>=i.length)return Array.prototype.push.apply(n,i);for(;c<i.length;)a=Array.prototype.push.apply(n,Array.prototype.slice.call(i,c,c+l)),c+=l;return a}return o.getClientRects=function(n){var i,a,c,l,u,d=this.isBroken();if(d.ieZoom)return e(n.getClientRects());if(!d.getClientRects)return n.getClientRects();i=[],c=[],a=n.endContainer,l=n.endOffset,u=document.createRange();function p(m){for(var f=0;m=m.previousSibling;)f++;return f}for(;a!==n.commonAncestorContainer;)u.setStart(a,0),u.setEnd(a,l),r(c,u.getClientRects()),l=p(a),a=a.parentNode;return u=n.cloneRange(),u.setEnd(a,l),r(i,u.getClientRects()),r(i,c),i},o.getBoundingClientRect=function(n){var i,a,c,l,u,d,p=this.getClientRects(n);if(p.length===0)return null;if(u=n.getBoundingClientRect(),d=this.isBroken(),d.ieZoom)return e(u);if(!d.getBoundingClientRect)return u;if(u.width===0&&u.height===0)return p[0];for(i=0,a=p.length;i<a;i++)l=p[i],c?(c.left=Math.min(c.left,l.left),c.top=Math.min(c.top,l.top),c.right=Math.max(c.right,l.right),c.bottom=Math.max(c.bottom,l.bottom)):c={left:l.left,top:l.top,right:l.right,bottom:l.bottom};return c&&(c.width=c.right-c.left,c.height=c.bottom-c.top),c},o})});var P3=L((gZe,Mte)=>{Mte.exports="https://app.gitbook.com/public/app/assets/default-page-cover-K4LPTE6Y.png"});var f5=L((Clt,m5)=>{"use strict";s();var wre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";m5.exports=wre});var v5=L((klt,y5)=>{"use strict";s();var Cre=f5();function g5(){}function h5(){}h5.resetWarningCache=g5;y5.exports=function(){function t(r,n,i,a,c,l){if(l!==Cre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function o(){return t}var e={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:h5,resetWarningCache:g5};return e.PropTypes=e,e}});var S5=L((Plt,b5)=>{s();b5.exports=v5()();var Ilt,_lt});var _5=L(sO=>{"use strict";s();Object.defineProperty(sO,"__esModule",{value:!0});var iO=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},xre=function(){function t(o,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,e,r){return e&&t(o.prototype,e),r&&t(o,r),o}}(),k5=O(),rf=O5(k5),kre=S5(),Xo=O5(kre);function O5(t){return t&&t.__esModule?t:{default:t}}function Ore(t,o){var e={};for(var r in t)o.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Ire(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function _re(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:t}function Pre(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var w5={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Rre=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Ere=function(o){return Rre.forEach(function(e){return delete o[e]}),o},C5=function(o,e){e.style.fontSize=o.fontSize,e.style.fontFamily=o.fontFamily,e.style.fontWeight=o.fontWeight,e.style.fontStyle=o.fontStyle,e.style.letterSpacing=o.letterSpacing,e.style.textTransform=o.textTransform},I5=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,x5=function(){return I5?"_"+Math.random().toString(36).substr(2,12):void 0},aO=function(t){Pre(o,t);function o(e){Ire(this,o);var r=_re(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return r.inputRef=function(n){r.input=n,typeof r.props.inputRef=="function"&&r.props.inputRef(n)},r.placeHolderSizerRef=function(n){r.placeHolderSizer=n},r.sizerRef=function(n){r.sizer=n},r.state={inputWidth:e.minWidth,inputId:e.id||x5()},r}return xre(o,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){var n=r.id;n!==this.props.id&&this.setState({inputId:n||x5()})}},{key:"componentDidUpdate",value:function(r,n){n.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var r=this.input&&window.getComputedStyle(this.input);r&&(C5(r,this.sizer),this.placeHolderSizer&&C5(r,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var r=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?r=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:r=this.sizer.scrollWidth+2;var n=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;r+=n,r<this.props.minWidth&&(r=this.props.minWidth),r!==this.state.inputWidth&&this.setState({inputWidth:r})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var r=this.props.injectStyles;return I5&&r?rf.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var r=[this.props.defaultValue,this.props.value,""].reduce(function(c,l){return c!=null?c:l}),n=iO({},this.props.style);n.display||(n.display="inline-block");var i=iO({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=Ore(this.props,[]);return Ere(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=i,rf.default.createElement("div",{className:this.props.className,style:n},this.renderStyles(),rf.default.createElement("input",iO({},a,{ref:this.inputRef})),rf.default.createElement("div",{ref:this.sizerRef,style:w5},r),this.props.placeholder?rf.default.createElement("div",{ref:this.placeHolderSizerRef,style:w5},this.props.placeholder):null)}}]),o}(k5.Component);aO.propTypes={className:Xo.default.string,defaultValue:Xo.default.any,extraWidth:Xo.default.oneOfType([Xo.default.number,Xo.default.string]),id:Xo.default.string,injectStyles:Xo.default.bool,inputClassName:Xo.default.string,inputRef:Xo.default.func,inputStyle:Xo.default.object,minWidth:Xo.default.oneOfType([Xo.default.number,Xo.default.string]),onAutosize:Xo.default.func,onChange:Xo.default.func,placeholder:Xo.default.string,placeholderIsMinWidth:Xo.default.bool,style:Xo.default.object,value:Xo.default.any};aO.defaultProps={minWidth:1,injectStyles:!0};sO.default=aO});var Vq=L(XO=>{"use strict";s();Object.defineProperty(XO,"__esModule",{value:!0});var Kne={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};XO.default={container:Kne}});var UO=L(Kd=>{"use strict";s();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.ImageZoomState=Kd.ImageZoomProps=void 0;var Xne=function(){function t(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.useHardwareTextureAndroid=!0,this.minScale=.6,this.maxScale=10,this.useNativeDriver=!1,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){},this.onStartShouldSetPanResponder=function(){return!0},this.onPanResponderTerminationRequest=function(){return!1}}return t}();Kd.ImageZoomProps=Xne;var Une=function(){function t(){this.centerX=.5,this.centerY=.5}return t}();Kd.ImageZoomState=Une});var Hq=L(Yl=>{"use strict";s();var jne=Yl&&Yl.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},t(o,e)};return function(o,e){t(o,e);function r(){this.constructor=o}o.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yf=Yl&&Yl.__assign||function(){return yf=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},yf.apply(this,arguments)};Object.defineProperty(Yl,"__esModule",{value:!0});var oS=O(),Yt=(G(),_f(Mf)),Yne=Vq(),Gq=UO(),$ne=function(t){jne(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new Gq.ImageZoomState,e.lastPositionX=null,e.positionX=0,e.animatedPositionX=new Yt.Animated.Value(0),e.lastPositionY=null,e.positionY=0,e.animatedPositionY=new Yt.Animated.Value(0),e.scale=1,e.animatedScale=new Yt.Animated.Value(1),e.zoomLastDistance=null,e.zoomCurrentDistance=0,e.lastTouchStartTime=0,e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.centerDiffX=0,e.centerDiffY=0,e.lastClickTime=0,e.doubleClickX=0,e.doubleClickY=0,e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.imagePanResponder=Yt.PanResponder.create({onStartShouldSetPanResponder:e.props.onStartShouldSetPanResponder,onPanResponderTerminationRequest:e.props.onPanResponderTerminationRequest,onMoveShouldSetPanResponder:e.props.onMoveShouldSetPanResponder,onPanResponderGrant:function(r){if(e.lastPositionX=null,e.lastPositionY=null,e.zoomLastDistance=null,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.lastTouchStartTime=new Date().getTime(),e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.singleClickTimeout&&clearTimeout(e.singleClickTimeout),r.nativeEvent.changedTouches.length>1){var n=(r.nativeEvent.changedTouches[0].pageX+r.nativeEvent.changedTouches[1].pageX)/2;e.centerDiffX=n-e.props.cropWidth/2;var i=(r.nativeEvent.changedTouches[0].pageY+r.nativeEvent.changedTouches[1].pageY)/2;e.centerDiffY=i-e.props.cropHeight/2}e.longPressTimeout&&clearTimeout(e.longPressTimeout);var a=r.nativeEvent,c=a.locationX,l=a.locationY,u=a.pageX,d=a.pageY;if(e.longPressTimeout=setTimeout(function(){e.isLongPress=!0,e.props.onLongPress&&e.props.onLongPress({locationX:c,locationY:l,pageX:u,pageY:d})},e.props.longPressTime),r.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-e.lastClickTime<(e.props.doubleClickInterval||0)){if(e.lastClickTime=0,e.doubleClickX=r.nativeEvent.changedTouches[0].pageX,e.doubleClickY=r.nativeEvent.changedTouches[0].pageY,e.props.onDoubleClick&&e.props.onDoubleClick({locationX:r.nativeEvent.changedTouches[0].locationX,locationY:r.nativeEvent.changedTouches[0].locationY,pageX:e.doubleClickX,pageY:e.doubleClickY}),clearTimeout(e.longPressTimeout),e.isDoubleClick=!0,e.props.enableDoubleClickZoom){if(e.scale>1||e.scale<1)e.scale=1,e.positionX=0,e.positionY=0;else{var p=e.scale;e.scale=2;var m=e.scale-p;e.positionX=(e.props.cropWidth/2-e.doubleClickX)*m/e.scale,e.positionY=(e.props.cropHeight/2-e.doubleClickY)*m/e.scale}e.imageDidMove("centerOn"),Yt.Animated.parallel([Yt.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100,useNativeDriver:!!e.props.useNativeDriver}),Yt.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}),Yt.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver})]).start()}}else e.lastClickTime=new Date().getTime()},onPanResponderMove:function(r,n){if(!e.isDoubleClick){if(r.nativeEvent.changedTouches.length<=1){var i=n.dx-(e.lastPositionX||0);e.lastPositionX===null&&(i=0);var a=n.dy-(e.lastPositionY||0);if(e.lastPositionY===null&&(a=0),e.lastPositionX=n.dx,e.lastPositionY=n.dy,e.horizontalWholeCounter+=i,e.verticalWholeCounter+=a,(Math.abs(e.horizontalWholeCounter)>5||Math.abs(e.verticalWholeCounter)>5)&&clearTimeout(e.longPressTimeout),e.props.panToMove){if(e.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(e.isHorizontalWrap=!0),e.props.imageWidth*e.scale>e.props.cropWidth){e.horizontalWholeOuterCounter>0?i<0?e.horizontalWholeOuterCounter>Math.abs(i)?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i:e.horizontalWholeOuterCounter<0&&(i>0?Math.abs(e.horizontalWholeOuterCounter)>i?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i),e.positionX+=i/e.scale;var c=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-c?(e.positionX=-c,e.horizontalWholeOuterCounter+=-1/1e10):e.positionX>c&&(e.positionX=c,e.horizontalWholeOuterCounter+=1/1e10),e.animatedPositionX.setValue(e.positionX)}else e.horizontalWholeOuterCounter+=i;e.horizontalWholeOuterCounter>(e.props.maxOverflow||0)?e.horizontalWholeOuterCounter=e.props.maxOverflow||0:e.horizontalWholeOuterCounter<-(e.props.maxOverflow||0)&&(e.horizontalWholeOuterCounter=-(e.props.maxOverflow||0)),e.horizontalWholeOuterCounter!==0&&e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(e.horizontalWholeOuterCounter)}e.props.imageHeight*e.scale>e.props.cropHeight?(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY)):e.props.enableSwipeDown&&!e.isHorizontalWrap&&(e.swipeDownOffset+=a,e.swipeDownOffset>0&&(e.positionY+=a/e.scale,e.animatedPositionY.setValue(e.positionY),e.scale=e.scale-a/1e3,e.animatedScale.setValue(e.scale)))}}else if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.props.pinchToZoom){var l=void 0,u=void 0;r.nativeEvent.changedTouches[0].locationX>r.nativeEvent.changedTouches[1].locationX?(l=r.nativeEvent.changedTouches[1].pageX,u=r.nativeEvent.changedTouches[0].pageX):(l=r.nativeEvent.changedTouches[0].pageX,u=r.nativeEvent.changedTouches[1].pageX);var d=void 0,p=void 0;r.nativeEvent.changedTouches[0].locationY>r.nativeEvent.changedTouches[1].locationY?(d=r.nativeEvent.changedTouches[1].pageY,p=r.nativeEvent.changedTouches[0].pageY):(d=r.nativeEvent.changedTouches[0].pageY,p=r.nativeEvent.changedTouches[1].pageY);var m=u-l,f=p-d,h=Math.sqrt(m*m+f*f);if(e.zoomCurrentDistance=Number(h.toFixed(1)),e.zoomLastDistance!==null){var y=(e.zoomCurrentDistance-e.zoomLastDistance)/200,w=e.scale+y;w<(e.props.minScale||0)&&(w=e.props.minScale||0),w>(e.props.maxScale||0)&&(w=e.props.maxScale||0);var C=e.scale;e.scale=w,e.animatedScale.setValue(e.scale);var k=e.scale-C;e.positionX-=e.centerDiffX*k/e.scale,e.positionY-=e.centerDiffY*k/e.scale,e.animatedPositionX.setValue(e.positionX),e.animatedPositionY.setValue(e.positionY)}e.zoomLastDistance=e.zoomCurrentDistance}e.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(r,n){if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),!e.isDoubleClick&&!e.isLongPress){var i=Math.sqrt(n.dx*n.dx+n.dy*n.dy),a=r.nativeEvent,c=a.locationX,l=a.locationY,u=a.pageX,d=a.pageY;r.nativeEvent.changedTouches.length===1&&i<(e.props.clickDistance||0)?e.singleClickTimeout=setTimeout(function(){e.props.onClick&&e.props.onClick({locationX:c,locationY:l,pageX:u,pageY:d})},e.props.doubleClickInterval):(e.props.responderRelease&&e.props.responderRelease(n.vx,e.scale),e.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}}),e.resetScale=function(){e.positionX=0,e.positionY=0,e.scale=1,e.animatedScale.setValue(1)},e.panResponderReleaseResolve=function(){if(e.props.enableSwipeDown&&e.props.swipeDownThreshold&&e.swipeDownOffset>e.props.swipeDownThreshold){e.props.onSwipeDown&&e.props.onSwipeDown();return}if(e.props.enableCenterFocus&&e.scale<1&&(e.scale=1,Yt.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageWidth*e.scale<=e.props.cropWidth&&(e.positionX=0,Yt.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageHeight*e.scale<=e.props.cropHeight&&(e.positionY=0,Yt.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageHeight*e.scale>e.props.cropHeight){var r=(e.props.imageHeight*e.scale-e.props.cropHeight)/2/e.scale;e.positionY<-r?e.positionY=-r:e.positionY>r&&(e.positionY=r),Yt.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()}if(e.props.imageWidth*e.scale>e.props.cropWidth){var n=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-n?e.positionX=-n:e.positionX>n&&(e.positionX=n),Yt.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()}e.props.enableCenterFocus&&e.scale===1&&(e.positionX=0,e.positionY=0,Yt.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start(),Yt.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.imageDidMove("onPanResponderRelease")},e}return o.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},o.prototype.componentDidUpdate=function(e){(this.props.centerOn&&!e.centerOn||this.props.centerOn&&e.centerOn&&this.didCenterOnChange(e.centerOn,this.props.centerOn))&&this.centerOn(this.props.centerOn)},o.prototype.imageDidMove=function(e){this.props.onMove&&this.props.onMove({type:e,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},o.prototype.didCenterOnChange=function(e,r){return e.x!==r.x||e.y!==r.y||e.scale!==r.scale},o.prototype.centerOn=function(e){var r=this;this.positionX=e.x,this.positionY=e.y,this.scale=e.scale;var n=e.duration||300;Yt.Animated.parallel([Yt.Animated.timing(this.animatedScale,{toValue:this.scale,duration:n,useNativeDriver:!!this.props.useNativeDriver}),Yt.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:n,useNativeDriver:!!this.props.useNativeDriver}),Yt.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:n,useNativeDriver:!!this.props.useNativeDriver})]).start(function(){r.imageDidMove("centerOn")})},o.prototype.handleLayout=function(e){this.props.layoutChange&&this.props.layoutChange(e)},o.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},o.prototype.render=function(){var e={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},r=Yt.StyleSheet.flatten(this.props.style);return oS.createElement(Yt.View,{style:yf(yf(yf({},Yne.default.container),r),{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},oS.createElement(Yt.Animated.View,{style:e,renderToHardwareTextureAndroid:this.props.useHardwareTextureAndroid},oS.createElement(Yt.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},o.defaultProps=new Gq.ImageZoomProps,o}(oS.Component);Yl.default=$ne});var Kq=L(Xc=>{"use strict";s();var Zne=Xc&&Xc.__createBinding||(Object.create?function(t,o,e,r){r===void 0&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[e]}})}:function(t,o,e,r){r===void 0&&(r=e),t[r]=o[e]}),Qne=Xc&&Xc.__exportStar||function(t,o){for(var e in t)e!=="default"&&!o.hasOwnProperty(e)&&Zne(o,t,e)};Object.defineProperty(Xc,"__esModule",{value:!0});var Jne=Hq();Xc.default=Jne.default;Qne(UO(),Xc)});var jO=L(rS=>{"use strict";s();Object.defineProperty(rS,"__esModule",{value:!0});rS.default=function(t,o,e){return{modalContainer:{backgroundColor:e,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:t,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:e},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:t,height:o,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:t,height:o,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:t,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:t,height:o},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};rS.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var ZO=L(nS=>{"use strict";s();Object.defineProperty(nS,"__esModule",{value:!0});var YO=O(),$O=(G(),_f(Mf)),Xq=jO(),eie=function(){function t(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.useNativeDriver=!1,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(o,e){return YO.createElement($O.View,{style:Xq.simpleStyle.count},YO.createElement($O.Text,{style:Xq.simpleStyle.countText},o+"/"+e))},this.renderImage=function(o){return YO.createElement($O.Image,o)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return t}();nS.Props=eie;var tie=function(){function t(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return t}();nS.State=tie});var Yq=L(Ns=>{"use strict";s();var oie=Ns&&Ns.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r])};return function(o,e){t(o,e);function r(){this.constructor=o}o.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$l=Ns&&Ns.__assign||Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++){o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},rie=Ns&&Ns.__rest||function(t,o){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&(e[r[n]]=t[r[n]]);return e};Object.defineProperty(Ns,"__esModule",{value:!0});var st=O(),ke=(G(),_f(Mf)),Uq=Kq(),jq=jO(),QO=ZO(),nie=function(t){oie(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new QO.State,e.fadeAnim=new ke.Animated.Value(0),e.standardPositionX=0,e.positionXNumber=0,e.positionX=new ke.Animated.Value(0),e.width=0,e.height=0,e.styles=jq.default(0,0,"transparent"),e.hasLayout=!1,e.loadedIndex=new Map,e.handleLongPressWithIndex=new Map,e.imageRefs=[],e.resetImageByIndex=function(r){e.imageRefs[r]&&e.imageRefs[r].reset()},e.preloadImage=function(r){r<e.state.imageSizes.length&&e.loadImage(r+1)},e.handleHorizontalOuterRangeOffset=function(r){r===void 0&&(r=0),e.positionXNumber=e.standardPositionX+r,e.positionX.setValue(e.positionXNumber);var n=ke.I18nManager.isRTL?-r:r;n<0?(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1):n>0&&(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1)},e.handleResponderRelease=function(r){r===void 0&&(r=0);var n=ke.I18nManager.isRTL?-r:r,i=ke.I18nManager.isRTL?e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0),a=ke.I18nManager.isRTL?e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0);if(n>.7){e.goBack.call(e),(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1);return}else if(n<-.7){e.goNext.call(e),(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1);return}if(i)e.goBack.call(e);else if(a){e.goNext.call(e);return}else{e.resetPosition.call(e);return}},e.goBack=function(){if(e.state.currentShowIndex===0){e.resetPosition.call(e);return}e.positionXNumber=ke.I18nManager.isRTL?e.standardPositionX-e.width:e.standardPositionX+e.width,e.standardPositionX=e.positionXNumber,ke.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime,useNativeDriver:!!e.props.useNativeDriver}).start();var r=(e.state.currentShowIndex||0)-1;e.setState({currentShowIndex:r},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.goNext=function(){if(e.state.currentShowIndex===e.props.imageUrls.length-1){e.resetPosition.call(e);return}e.positionXNumber=ke.I18nManager.isRTL?e.standardPositionX+e.width:e.standardPositionX-e.width,e.standardPositionX=e.positionXNumber,ke.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime,useNativeDriver:!!e.props.useNativeDriver}).start();var r=(e.state.currentShowIndex||0)+1;e.setState({currentShowIndex:r},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.handleLongPress=function(r){e.props.saveToLocalByLongPress&&e.setState({isShowMenu:!0}),e.props.onLongPress&&e.props.onLongPress(r)},e.handleClick=function(){e.props.onClick&&e.props.onClick(e.handleCancel,e.state.currentShowIndex)},e.handleDoubleClick=function(){e.props.onDoubleClick&&e.props.onDoubleClick(e.handleCancel)},e.handleCancel=function(){e.hasLayout=!1,e.props.onCancel&&e.props.onCancel()},e.handleLayout=function(r){r.nativeEvent.layout.width!==e.width&&(e.hasLayout=!0,e.width=r.nativeEvent.layout.width,e.height=r.nativeEvent.layout.height,e.styles=jq.default(e.width,e.height,e.props.backgroundColor||"transparent"),e.forceUpdate(),e.jumpToCurrentImage())},e.saveToLocal=function(){e.props.onSave?e.props.onSave(e.props.imageUrls[e.state.currentShowIndex||0].url):(ke.CameraRoll.saveToCameraRoll(e.props.imageUrls[e.state.currentShowIndex||0].url),e.props.onSaveToCamera(e.state.currentShowIndex)),e.setState({isShowMenu:!1})},e.handleLeaveMenu=function(){e.setState({isShowMenu:!1})},e.handleSwipeDown=function(){e.props.onSwipeDown&&e.props.onSwipeDown(),e.handleCancel()},e}return o.prototype.componentDidMount=function(){this.init(this.props)},o.getDerivedStateFromProps=function(e,r){return e.index!==r.prevIndexProp?{currentShowIndex:e.index,prevIndexProp:e.index}:null},o.prototype.componentDidUpdate=function(e,r){e.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),ke.Animated.timing(this.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!this.props.useNativeDriver}).start())},o.prototype.init=function(e){var r=this;if(e.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new QO.State);var n=[];e.imageUrls.forEach(function(i){n.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:e.index,prevIndexProp:e.index||0,imageSizes:n},function(){r.loadImage(e.index||0),r.jumpToCurrentImage(),ke.Animated.timing(r.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!e.useNativeDriver}).start()})},o.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(ke.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},o.prototype.loadImage=function(e){var r=this;if(this.state.imageSizes[e]&&!this.loadedIndex.has(e)){this.loadedIndex.set(e,!0);var n=this.props.imageUrls[e],i=$l({},this.state.imageSizes[e]),a=function(){if(!(r.state.imageSizes[e]&&r.state.imageSizes[e].status!=="loading")){var u=r.state.imageSizes.slice();u[e]=i,r.setState({imageSizes:u})}};if(this.state.imageSizes[e].status!=="success"){if(this.state.imageSizes[e].width>0&&this.state.imageSizes[e].height>0){i.status="success",a();return}var c=!1,l=!1;if((!n.url||n.url.startsWith("file:"))&&(l=!0),n.width&&n.height){this.props.enablePreload&&l===!1&&ke.Image.prefetch(n.url),i.width=n.width,i.height=n.height,i.status="success",a();return}ke.Image.getSize(n.url,function(u,d){i.width=u,i.height=d,i.status="success",a()},function(){try{var u=ke.Image.resolveAssetSource(n.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(d){i.status="fail",a()}})}}},o.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,ke.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150,useNativeDriver:!!this.props.useNativeDriver}).start()},o.prototype.getContent=function(){var e=this,r=this.width,n=this.height,i=this.props.imageUrls.map(function(a,c){if((e.state.currentShowIndex||0)>c+1||(e.state.currentShowIndex||0)<c-1)return st.createElement(ke.View,{key:c,style:{width:r,height:n}});e.handleLongPressWithIndex.has(c)||e.handleLongPressWithIndex.set(c,e.handleLongPress.bind(e,a));var l=e.state.imageSizes[c]&&e.state.imageSizes[c].width,u=e.state.imageSizes[c]&&e.state.imageSizes[c].height,d=e.state.imageSizes[c];if(!d||!d.status)return st.createElement(ke.View,{key:c,style:{width:r,height:n}});if(l>r){var p=r/l;l*=p,u*=p}if(u>n){var m=n/u;l*=m,u*=m}var f=function(h){var y=h.children,w=rie(h,["children"]);return st.createElement(Uq.default,{cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,pinchToZoom:e.props.enableImageZoom,enableDoubleClickZoom:e.props.enableImageZoom,doubleClickInterval:e.props.doubleClickInterval,...w},y)};switch(d.status){case"loading":return st.createElement(f,{key:c,style:$l({},e.styles.modalContainer,e.styles.loadingContainer),imageWidth:r,imageHeight:n},st.createElement(ke.View,{style:e.styles.loadingContainer},e.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=$l({},e.styles.imageStyle,a.props.style,{width:l,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=$l({uri:a.url},a.props.source)),e.props.enablePreload&&e.preloadImage(e.state.currentShowIndex||0),st.createElement(Uq.default,{key:c,ref:function(h){return e.imageRefs[c]=h},cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,imageWidth:l,imageHeight:u,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,panToMove:!e.state.isShowMenu,pinchToZoom:e.props.enableImageZoom&&!e.state.isShowMenu,enableDoubleClickZoom:e.props.enableImageZoom&&!e.state.isShowMenu,doubleClickInterval:e.props.doubleClickInterval,minScale:e.props.minScale,maxScale:e.props.maxScale},e.props.renderImage(a.props));case"fail":return st.createElement(f,{key:c,style:e.styles.modalContainer,imageWidth:e.props.failImageSource?e.props.failImageSource.width:r,imageHeight:e.props.failImageSource?e.props.failImageSource.height:n},e.props.failImageSource&&e.props.renderImage({source:{uri:e.props.failImageSource.url},style:{width:e.props.failImageSource.width,height:e.props.failImageSource.height}}))}});return st.createElement(ke.Animated.View,{style:{zIndex:9}},st.createElement(ke.Animated.View,{style:$l({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),st.createElement(ke.View,{style:this.styles.arrowLeftContainer},st.createElement(ke.TouchableWithoutFeedback,{onPress:this.goBack},st.createElement(ke.View,null,this.props.renderArrowLeft()))),st.createElement(ke.View,{style:this.styles.arrowRightContainer},st.createElement(ke.TouchableWithoutFeedback,{onPress:this.goNext},st.createElement(ke.View,null,this.props.renderArrowRight()))),st.createElement(ke.Animated.View,{style:$l({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&st.createElement(ke.View,{style:this.styles.watchOrigin},st.createElement(ke.TouchableOpacity,{style:this.styles.watchOriginTouchable},st.createElement(ke.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),st.createElement(ke.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},o.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?st.createElement(ke.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):st.createElement(ke.View,{style:this.styles.menuContainer},st.createElement(ke.View,{style:this.styles.menuShadow}),st.createElement(ke.View,{style:this.styles.menuContent},st.createElement(ke.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},st.createElement(ke.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),st.createElement(ke.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},st.createElement(ke.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},o.prototype.render=function(){var e=null;return e=st.createElement(ke.View,null,this.getContent(),this.getMenu()),st.createElement(ke.View,{onLayout:this.handleLayout,style:$l({flex:1,overflow:"hidden"},this.props.style)},e)},o.defaultProps=new QO.Props,o}(st.Component);Ns.default=nie});var Zq=L(vf=>{"use strict";s();Object.defineProperty(vf,"__esModule",{value:!0});var $q=Yq();vf.ImageViewer=$q.default;var iie=ZO();vf.ImageViewerPropsDefine=iie.Props;vf.default=$q.default});s();s();(function(){"use strict";var t="ListFormat"in Intl;function o(U,ie){if(!(U instanceof ie))throw new TypeError("Cannot call a class as a function")}function e(U,ie){for(var j=0;j<ie.length;j++){var ne=ie[j];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(U,ne.key,ne)}}function r(U,ie,j){return ie&&e(U.prototype,ie),j&&e(U,j),U}var n=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function c(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(j){return typeof j}:c=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},c(U)}function l(U){return typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?l=function(j){return c(j)}:l=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":c(j)},l(U)}function u(U){if(U==null)throw new TypeError("Argument ".concat(U," cannot be converted to an Object"));return typeof U=="boolean"?new Boolean(U):typeof U=="number"?new Number(U):typeof U=="string"?new String(U):l(U)==="symbol"?new Object(U):U}var d;function p(U){d=U}function m(){return d}function f(){if(d==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return d}var h=new WeakMap,y={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function w(U,ie,j){var ne=h.get(U);ne==null&&(ne=Object.create(null),h.set(U,ne)),ne[ie]=j}function C(U,ie){var j=h.get(U);if(j==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return j[ie]}function k(U,ie){var j=h.get(U);return j!=null&&ie in j}var _=/-u(?:-[0-9a-z]{2,8})+/gi;function P(U){return U.replace(_,"")}function R(U,ie){for(var j=ie;;){if(U.includes(j))return j;var ne=j.lastIndexOf("-");if(ne===-1)return;ne>=2&&j.charAt(ne-2)==="-"&&(ne-=2),j=j.slice(0,ne)}}function T(U,ie){var j=[],ne=!0,Pe=!1,je=void 0;try{for(var zt=ie[Symbol.iterator](),$e;!(ne=($e=zt.next()).done);ne=!0){var Mt=$e.value,ht=P(Mt),po=R(U,ht);po!==void 0&&j.push(Mt)}}catch(hr){Pe=!0,je=hr}finally{try{!ne&&zt.return!=null&&zt.return()}finally{if(Pe)throw je}}return j}function E(U,ie){return T(U,ie)}function A(U){return typeof U=="string"||l(U)==="symbol"}function V(U,ie){if(l(U)!=="object")throw new TypeError("Given argument ".concat(U," must be of type Object"));if(!A(ie))throw new TypeError("Given argument ".concat(ie," must be a PropertyKey"));return U[ie]}function q(U){return!!U}function Y(U){return U+""}function te(U,ie,j,ne,Pe){var je=V(U,ie);if(je!==void 0){if(j!=="boolean"&&j!=="string")throw new TypeError("Expected type ".concat(j," to be 'boolean' or 'string"));if(j==="boolean"&&(je=q(je)),j==="string"&&(je=Y(je)),ne!==void 0&&!ne.includes(je))throw new RangeError("Value ".concat(je," out of range for options property ").concat(ie));return je}else return Pe}function X(U,ie,j){var ne;return j!==void 0?(j=u(j),ne=te(j,"localeMatcher","string",a,"best fit")):ne="best fit",ne==="best fit"?E(U,ie):T(U,ie)}function re(U){var ie=U.availableLocales,j=U.requestedLocales,ne=Object.create(null),Pe=!0,je=!1,zt=void 0;try{for(var $e=j[Symbol.iterator](),Mt;!(Pe=(Mt=$e.next()).done);Pe=!0){var ht=Mt.value,po=P(ht),hr=R(ie,po);if(hr!==void 0){if(ne.locale=hr,ht!==po){var Gr=ht.match(_);ne.extension=Gr==null?"":Gr[0]}return ne}}}catch(Zc){je=!0,zt=Zc}finally{try{!Pe&&$e.return!=null&&$e.return()}finally{if(je)throw zt}}var Bn=f();return ne.locale=Bn,ne}function _e(U){return re(U)}function Be(U,ie,j,ne,Pe){var je=j.localeMatcher,zt=je==="lookup"?re({availableLocales:U,requestedLocales:ie}):_e({availableLocales:U,requestedLocales:ie}),$e=zt.locale,Mt=Object.create(null);Mt.dataLocale=$e;var ht="-u";if(ht.length>2){var po=String.prototype.indexOf.call($e,"-x-");if(po===-1)$e="".concat($e).concat(ht);else{var hr=$e.slice(0,po),Gr=$e.slice(po);$e="".concat(hr).concat(ht).concat(Gr)}$e=Intl.getCanonicalLocales($e)[0]}return Mt.locale=$e,Mt}function le(U){if(Array.isArray(U)){for(var ie=0,j=new Array(U.length);ie<U.length;ie++)j[ie]=U[ie];return j}}function ct(U){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]")return Array.from(U)}function dt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Yo(U){return le(U)||ct(U)||dt()}function zr(U){if(U===void 0)return[];var ie=Yo(U);if(ie.some(function(j){return typeof j!="string"}))throw new TypeError("All List items must be strings");return ie}function pt(U){return Object.prototype.toString.call(U)==="[object Object]"}function pn(U){return Array.isArray(U)||pt(U)}function Eo(U,ie){for(var j=[],ne=String.prototype.indexOf.call(U,"{",0),Pe=0,je=U.length;U[ne]!==void 0;){var zt=String.prototype.indexOf.call(U,"}",ne);if(zt<=ne)throw new TypeError("Expected endIndex: ".concat(zt," to be greater than beginIndex: ").concat(ne));if(ne>Pe){var $e=U.slice(Pe,ne);j.push({type:"literal",value:$e})}var Mt=U.slice(ne+1,zt);if(ie[Number(Mt)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(Mt));var ht=ie[Number(Mt)];if(pn(ht.value)){var po=!0,hr=!1,Gr=void 0;try{for(var Bn=ht.value[Symbol.iterator](),Zc;!(po=(Zc=Bn.next()).done);po=!0){var IS=Zc.value;j.push(IS)}}catch(If){hr=!0,Gr=If}finally{try{!po&&Bn.return!=null&&Bn.return()}finally{if(hr)throw Gr}}}else j.push(ht);Pe=zt+1,ne=String.prototype.indexOf.call(U,"{",Pe)}if(Pe<je){var _S=U.slice(Pe,je);j.push({type:"literal",value:_S})}return j}function $t(U,ie){var j,ne=ie.length;if(ne===0)return[];if(ne===2){j=C(U,"templatePair");var Pe={type:"element",value:ie[0]},je={type:"element",value:ie[1]},zt={0:Pe,1:je};return Eo(j,zt)}for(var $e={type:"element",value:ie[ne-1]},Mt=[$e],ht=ne-2;ht>=0;){ht===0?j=C(U,"templateStart"):ht<ne-2?j=C(U,"templateMiddle"):j=C(U,"templateEnd");var po={type:"element",value:ie[ht]},hr={type:"element",value:Mt},Gr={0:po,1:hr};Mt=Eo(j,Gr),ht--}return Mt}function Fs(U,ie){var j=$t(U,ie),ne="",Pe=!0,je=!1,zt=void 0;try{for(var $e=j[Symbol.iterator](),Mt;!(Pe=(Mt=$e.next()).done);Pe=!0){var ht=Mt.value;ne+=ht.value}}catch(po){je=!0,zt=po}finally{try{!Pe&&$e.return!=null&&$e.return()}finally{if(je)throw zt}}return ne}function pa(U,ie){return $t(U,ie)}var Vr=function(){function U(){o(this,U);var ie=arguments[0],j=arguments[1];if((this instanceof U?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var ne=Intl.getCanonicalLocales(ie);j=j===void 0?Object.create(null):u(j);var Pe=Object.create(null),je=te(j,"localeMatcher","string",a,"best fit");Pe.localeMatcher=je;var zt=te(j,"type","string",n,"conjunction");w(this,"type",zt);var $e=te(j,"style","string",i,"long");w(this,"style",$e);var Mt=y.localeData,ht=Be(y.availableLocales,ne,Pe),po=ht.dataLocale,hr=Mt[po],Gr=hr.formats[zt],Bn=Gr[$e];w(this,"templatePair",Bn.Pair),w(this,"templateStart",Bn.Start),w(this,"templateMiddle",Bn.Middle),w(this,"templateEnd",Bn.End),w(this,"locale",ht.locale),w(this,"initializedListFormat",this)}return r(U,[{key:"format",value:function(j){var ne=this;if(!(ne instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!k(ne,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var Pe=zr(j);return Fs(ne,Pe)}},{key:"formatToParts",value:function(j){var ne=this;if(!(ne instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!k(ne,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var Pe=zr(j);return pa(ne,Pe)}},{key:"resolvedOptions",value:function(){var j=this;if(!(j instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!k(j,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var ne=C(this,"locale"),Pe=C(this,"type"),je=C(this,"style");return{locale:ne,type:Pe,style:je}}}],[{key:"supportedLocalesOf",value:function(j){var ne=arguments[1],Pe=y.availableLocales,je=Intl.getCanonicalLocales(j);return X(Pe,je,ne)}},{key:"__addLocaleData",value:function(j){var ne=j.data,Pe=j.locale,je=m();je==null&&p(Pe),y.localeData[Pe]=ne,y.availableLocales.includes(Pe)||y.availableLocales.push(Pe)}}]),U}();Object.defineProperty(Vr.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function An(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=Vr}t||An()})();s();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});G();s();s();function eR(){return`https://${fa.services.content.host}`}s();function tR(t,o){let e=[],r=0;for(;r<t.length;)e.push(t.slice(r,r+o)),r+=o;return e}function oR(t){let o=t.reduce((n,i)=>n+i.length,0),e=new Uint8Array(o),r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e}s();function rR(t){return{type:"link",id:ba(),edits:{},...t}}s();var Ip=100;var ow=200;function nR(t){return t.replace(/(\r\n|\r|\n)/g," ")}function Yg(t){return nR(t).trim().slice(0,Ip).trim()||"Untitled"}function iR(t){return nR(t).trim().slice(0,ow).trim()}function BF(t){return aI()(["docs","editorial","landing"]).includes(t)}function Eu(t){var o;return typeof((o=t.cover)==null?void 0:o.yPos)=="number"}function Tu(t){return t!=null&&t.layout?typeof t.layout=="string"&&BF(t.layout)?t.layout:"custom":"docs"}function Mu(t){let o=Tu(t),e={docs:{cover:!0,coverSize:"full",title:!0,description:!0,tableOfContents:!0,outline:!0,pagination:!0},editorial:{cover:!0,coverSize:"full",title:!0,description:!0,tableOfContents:!1,outline:!0,pagination:!0},landing:{cover:!0,coverSize:"full",title:!0,description:!0,tableOfContents:!1,outline:!1,pagination:!0}};switch(o){case"docs":return e.docs;case"editorial":return e.editorial;case"landing":return e.landing;case"custom":return typeof(t==null?void 0:t.layout)=="object"?t.layout:e.docs;default:qe(o)}}s();var XL=x(KL());function UL(t,o){let{pageId:e,rename:r=!1}=o;return{...(0,XL.default)(t),id:e,title:r?Yg(`Copy of ${t.title}`):t.title,git:void 0,pages:t.type==="link"?void 0:[]}}s();var GU=lt("hive:revisions:diff");function GC(t,o){let e=[];return o.forEach(r=>{let n=t[r];if(!n){GU.warning(`Couldn't find page ${r} although it is referenced. This may indicate a bad page tree normalization.`);return}e.push({renderKey:r,page:n,pages:n.type==="link"?[]:GC(t,n.pages)})}),e}s();function jL(t,o){return{edits:AI([o]),...t,id:t.id||ba()}}s();function YL(t,o,e,r){if(e.blobId)return new URL(`/content/${o}/blobs/${e.blobId}/${e.name}`,t).toString();if(e.downloadURL)return r?r(e.downloadURL):e.downloadURL;throw new Error("File does not have a download URL")}s();s();function cc(t,o,e={}){let r;if(e.into){let n=K.getIn(t,["pages",e.into]);if(!n||!mu(n))throw new Error(`Cannot insert page into ${e.into}`);r=K.get(n,"pages")}else r=K.getIn(t,["rootPages"]);if(!r)throw new Error(`Cannot insert page into ${e.into}`);e.at!==void 0?K.insert(r,e.at,[o.id]):K.push(r,[o.id]),K.setIn(t,["pages",o.id],nr(t)?Sa(o):o)}function $L(t,o,e){let r=br(t,e),n=r?K.get(r,"pages"):K.get(t,"rootPages"),i=K.findIndex(n,c=>c===e);if(i<0)return{at:i};let a=r?K.get(r,"id"):void 0;return o==="after"?{into:a,at:i+1}:{into:a,at:i}}function ZL(t,o,e){let r=$L(t,"before",e);if(!(r.at===void 0||(r==null?void 0:r.at)<0))return cc(t,o,r)}function Wh(t,o,e){let r=$L(t,"after",e);if(!(r.at===void 0||(r==null?void 0:r.at)<0))return cc(t,o,r)}s();function $i(t,o,e){let r=K.getIn(t,["pages",o]);if(r)if(typeof e=="function"){e(r);return}else Object.entries(e).forEach(([n,i])=>{K.set(r,n,nr(t)?Sa(i):i)})}function QL(t,o,e){$i(t,o,r=>{if(!fp(r))return;let n=Mu(di(r));K.set(r,"layout",{...n,...e})})}function JL(t,o,e){$i(t,o,{title:Yg(e)})}function eD(t,o,e){$i(t,o,r=>{fp(r)&&K.set(r,"description",iR(e))})}function HC(t,o){let{originalPageId:e,parentPageId:r}=o,n=o.newPageId||ba(),i=K.getIn(t,["pages",e]);if(!i)return;let a=UL(nr(i)?di(i):i,{pageId:n,rename:!r});r?cc(t,a,{into:r}):Wh(t,a,e);let c;if(mu(i)){let l=K.get(i,"pages");c=K.map(l,u=>{let d=ba();return HC(t,{originalPageId:u,parentPageId:a.id,newPageId:d}),d})}return $i(t,a.id,{pages:c}),n}s();s();s();function lc(t,o){let e=zI(t,o),r=[];return e.forEach(n=>{r.push(n),K.get(n,"type")!=="link"&&r.push(...lc(t,K.get(n,"id")))}),r}function tD(t,o,e){return K.getIn(t,["pages",e])?fu(t,e).some(i=>K.get(i,"id")===o):!1}function em(t,o,e={}){let r=K.getIn(t,["pages",o]);if(!r)return;let n=br(t,o);if(e.deleteEmptyGroupParent&&n&&K.get(n,"type")==="group"&&K.get(n,"pages").length===1)return em(t,K.get(n,"id"));let i=[K.get(r,"id")];K.get(r,"type")!=="link"&&lc(t,o).forEach(u=>{i.push(K.get(u,"id"))}),[...K.entries(K.get(t,"pages"))].some(([,l])=>fp(l)&&!i.includes(K.get(l,"id")))&&(K.delArrayValue(n?K.get(n,"pages"):K.get(t,"rootPages"),o),i.forEach(l=>{K.del(K.get(t,"pages"),l);let u=K.get(t,"conflicts");u&&K.getIn(u,["pages",l])&&K.delIn(u,["pages",l])}))}function HU(t,o,e){if(o===e)return!1;let r=K.getIn(t,["pages",o]),n=K.getIn(t,["pages",e]);if(!r||!n||FI(n)||GS(r))return!1;let i=fu(t,e);return!(K.findIndex(i,a=>K.get(a,"id")===o)>=0)}function Fh(t,o,e,r={}){let n=K.getIn(t,["pages",o]),i=e?K.getIn(t,["pages",e]):void 0;if(i&&!mu(i))throw new Error("Cannot move page under a link");if(!n||e&&!HU(t,o,e))return;let a=K.get(t,"rootPages"),c=i?K.get(i,"pages"):a,l=typeof r.at=="number"?r.at:c.length,u=br(t,o),d=u?K.get(u,"pages"):a,p=K.findIndex(d,f=>f===o),m=u?K.get(u,"id")===e:!e;l===p&&m||(p>=0&&(K.delArrayIndex(d,p,1),m&&(l=p<=l?l-1:l)),K.insert(c,l,[o]),r.deleteEmptyGroupParent&&u&&GS(u)&&K.get(u,"pages").length===0&&em(t,K.get(u,"id")))}function oD(t,o,e){let r=br(t,e),n=r?K.get(r,"pages"):K.get(t,"rootPages"),i=K.findIndex(n,a=>a===e);return{at:o==="after"?i+1:i,parentId:r?K.get(r,"id"):void 0}}function rD(t,o,e){let{at:r,parentId:n}=oD(t,"before",e);r<0||Fh(t,o,n,{at:r})}function nD(t,o,e){let{at:r,parentId:n}=oD(t,"after",e);r<0||Fh(t,o,n,{at:r})}s();function iD(t,o){if(K.getIn(t,["files",o.id]))throw new Error("File with same ID already exists in revision");let r=K.get(t,"files");K.set(r,o.id,o)}function aD(t,o){K.delIn(t,["files",o])}function sD(t,o,e){let r=K.getIn(t,["files",o]);if(!r)throw new Error("File doesn't exist in revision");Object.entries(e).forEach(([n,i])=>{K.set(r,n,nr(t)?Sa(i):i)})}s();var ml=lt("normalizeRevision");function cD(t){let o=K.get(t,"id"),e=K.get(t,"contentId"),r=K.get(t,"pages"),n=K.get(t,"rootPages"),i=K.get(t,"conflicts"),a=K.values(K.get(t,"parents")),c=new Set(K.keys(r)),l;if(a.length>3)throw new Error(`Revision ${e}/${o} has more than 3 parents`);if(a.includes(o)){let f=a.filter(h=>h!==o);if(f.length===0)throw new Error(`Revision ${e}/${o} has no more parents after removing itself as parent`);K.set(t,"parents",f),ml.warning(`${e}/${o}: updated parents to remove itself as parent. New parents:`,f)}let u=K.get(t,"customFields");u?KU(u):K.set(t,"customFields",nr(t)?new ui:{});let d=f=>{let h=[];if(f.forEach(y=>{p(y)&&h.push(y)}),h.length!==f.length)return h},p=f=>{if(!c.has(f))return!1;c.delete(f);let h=K.get(r,f);if(!h)return!1;if(K.get(h,"type")==="link")return!0;let y=h;l===void 0&&K.get(h,"type")==="document"&&(l=K.get(h,"id"));let w=d(K.get(y,"pages"));return w&&(K.set(y,"pages",w),ml.warning(`${e}/${o}: updated children for page ${f}. New children pages:`,w)),!0},m=d(n);if(m&&(K.set(t,"rootPages",m),ml.warning(`${e}/${o}: normalized rootPages. New root pages:`,m)),c.size>0){let f=Array.from(c);K.push(n,f),ml.warning(`${e}/${o}: made pages with invalid parent into rootPages. Pages:`,f)}if(!l){let f=qI();cc(t,f),ml.warning(`${e}/${o}: created empty page document ${f.id} as none were found. `)}if(i!==void 0){let f=K.get(i,"pages"),h=K.keys(f),y=h.reduce((w,C)=>{let k=K.get(f,C),_=K.get(r,C);return(k===!1||k==="deleted-in-base")&&!_||_&&K.get(_,"type")==="link"?w.add(C):w},new Set);y.size>0&&(y.size===h.length?(K.del(t,"conflicts"),ml.warning(`${e}/${o}: normalized conflicts. All were invalid and have been removed.`)):(y.forEach(w=>{K.del(f,w)}),ml.warning(`${e}/${o}: normalized conflicts. New conflicts:`,i)))}}function KU(t){for(let[o,e]of K.entries(t)){let r=K.get(e,"value");typeof r!="string"&&typeof r!="number"&&typeof r!="boolean"&&K.del(t,o)}}s();function lD(t){return K.get(t,"conflicts")!==void 0}function XU(t,o,e){if(!lD(t))return;let r=K.getIn(t,["conflicts","pages"]);r&&K.has(r,o)&&K.set(r,o,e),UU(t)}function UU(t){if(!lD(t))return;let o=K.getIn(t,["conflicts","pages"]);if(o){for(let[,e]of K.entries(o))if(e!==!1)return;K.del(t,"conflicts")}}function uD(t,o){XU(t,o,!1)}s();function dD(t,o,e=void 0){$i(t,o,r=>{if(K.get(r,"type")!=="document")return;let i={ref:e,yPos:0};K.set(r,"cover",nr(t)?Sa(i):i)})}function pD(t,o){$i(t,o,e=>{K.get(e,"type")==="document"&&K.del(e,"cover")})}function mD(t,o,e){$i(t,o,r=>{if(K.get(r,"type")!=="document")return;let i=K.get(r,"cover");i&&K.set(i,"yPos",e)})}s();function fD(t,o="Page",e=!1){let r=K.get(t,"pages"),i=K.values(r).map(l=>K.get(l,"title")),a=new Set(i);if(!e&&!a.has(o))return o;let c=l=>{let u=` ${l}`,d=`${o.slice(0,Ip-u.length)}${u}`;return a.has(d)?c(l+1):d};return c(1)}s();function gD(t,o){Object.entries(o).forEach(([e,r])=>{K.getIn(t,["customFields",e])?K.setIn(t,["customFields",e,"value"],r.value):K.setIn(t,["customFields",e],nr(t)?Sa(r):r)})}s();function hD(t,o){let e=K.get(t,"edits");K.set(t,"edits",pp(e,Array.isArray(o)?o:[o]))}s();function yD(t,o,e){let r=K.getIn(t,["pages",o,"edits"]);if(!r)return;let n=(()=>Array.isArray(e)?pp(r,e):typeof e=="string"?pp(r,[e]):BI(r,e))();K.setIn(t,["pages",o,"edits"],n)}s();function zh(t){return t.getMap("data")}s();var vD=li(t=>({id:t.get("id"),type:t.get("type"),contentId:t.get("contentId"),conflicts:di(t.get("conflicts")),parents:t.get("parents").toArray(),mergedFrom:t.get("mergedFrom"),rolledBackBy:t.get("rolledBackBy"),git:di(t.get("git")),rootPages:t.get("rootPages").toArray(),pages:jU(t.get("pages")),files:YU(t.get("files")),edits:di(t.get("edits")),customFields:di(t.get("customFields"))})),jU=li(t=>{let o={};return t.forEach((e,r)=>{o[r]=nr(e)?bD(e):di(e)}),o}),YU=li(t=>{let o={};return t.forEach((e,r)=>{o[r]=nr(e)?bD(e):di(e)}),o}),bD=li(t=>di(t));s();var SD={insertPage:cc,insertPageAfter:Wh,insertPageBefore:ZL,removePage:em,updatePage:$i,updatePageLayout:QL,movePage:Fh,movePageAfter:nD,movePageBefore:rD,addPageCover:dD,removePageCover:pD,movePageCover:mD,renamePage:JL,setPageDescription:eD,duplicatePage:HC,resolveConflict:uD,insertFile:iD,removeFile:aD,updateFile:sD,getPageParent:br,getUniquePageTitle:fD,updateCustomFields:gD,markRevisionAsEdited:hD,markPageAsEdited:yD};function wD(t){let o={revision:t};for(let e in SD)o[e]=(...r)=>SD[e](t,...r);return o}s();s();s();var xo=x(EF()),Ce=xo.Reader,Zi=xo.Writer,N=xo.util,J=xo.roots.default||(xo.roots.default={}),lfe=J.PromptInitMessage=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.index=0,t.prototype.count=0,t.prototype.stateVector=N.newBuffer([]),t.prototype.version=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(8).int32(e.id),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&r.uint32(16).int32(e.index),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&r.uint32(24).int32(e.count),r.uint32(34).bytes(e.stateVector),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(40).int32(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.PromptInitMessage;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 1:{i.id=e.int32();break}case 2:{i.index=e.int32();break}case 3:{i.count=e.int32();break}case 4:{i.stateVector=e.bytes();break}case 5:{i.version=e.int32();break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("stateVector"))throw N.ProtocolError("missing required 'stateVector'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";if(e.index!=null&&e.hasOwnProperty("index")&&!N.isInteger(e.index))return"index: integer expected";if(e.count!=null&&e.hasOwnProperty("count")&&!N.isInteger(e.count))return"count: integer expected";if(!(e.stateVector&&typeof e.stateVector.length=="number"||N.isString(e.stateVector)))return"stateVector: buffer expected";if(e.version!=null&&e.hasOwnProperty("version"))switch(e.version){default:return"version: enum value expected";case 0:case 1:case 2:break}return null},t.fromObject=function(e){if(e instanceof J.PromptInitMessage)return e;let r=new J.PromptInitMessage;switch(e.id!=null&&(r.id=e.id|0),e.index!=null&&(r.index=e.index|0),e.count!=null&&(r.count=e.count|0),e.stateVector!=null&&(typeof e.stateVector=="string"?N.base64.decode(e.stateVector,r.stateVector=N.newBuffer(N.base64.length(e.stateVector)),0):e.stateVector.length>=0&&(r.stateVector=e.stateVector)),e.version){default:if(typeof e.version=="number"){r.version=e.version;break}break;case"UNSPECIFIED":case 0:r.version=0;break;case"V1":case 1:r.version=1;break;case"V2":case 2:r.version=2;break}return r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(n.id=0,n.index=0,n.count=0,r.bytes===String?n.stateVector="":(n.stateVector=[],r.bytes!==Array&&(n.stateVector=N.newBuffer(n.stateVector))),n.version=r.enums===String?"UNSPECIFIED":0),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.index!=null&&e.hasOwnProperty("index")&&(n.index=e.index),e.count!=null&&e.hasOwnProperty("count")&&(n.count=e.count),e.stateVector!=null&&e.hasOwnProperty("stateVector")&&(n.stateVector=r.bytes===String?N.base64.encode(e.stateVector,0,e.stateVector.length):r.bytes===Array?Array.prototype.slice.call(e.stateVector):e.stateVector),e.version!=null&&e.hasOwnProperty("version")&&(n.version=r.enums===String?J.UpdateFormatVersion[e.version]===void 0?e.version:J.UpdateFormatVersion[e.version]:e.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/PromptInitMessage"},t})(),ufe=J.InitMessage=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.index=0,t.prototype.count=0,t.prototype.update=N.newBuffer([]),t.prototype.version=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(8).int32(e.id),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&r.uint32(16).int32(e.index),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&r.uint32(24).int32(e.count),r.uint32(34).bytes(e.update),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(40).int32(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.InitMessage;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 1:{i.id=e.int32();break}case 2:{i.index=e.int32();break}case 3:{i.count=e.int32();break}case 4:{i.update=e.bytes();break}case 5:{i.version=e.int32();break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("update"))throw N.ProtocolError("missing required 'update'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";if(e.index!=null&&e.hasOwnProperty("index")&&!N.isInteger(e.index))return"index: integer expected";if(e.count!=null&&e.hasOwnProperty("count")&&!N.isInteger(e.count))return"count: integer expected";if(!(e.update&&typeof e.update.length=="number"||N.isString(e.update)))return"update: buffer expected";if(e.version!=null&&e.hasOwnProperty("version"))switch(e.version){default:return"version: enum value expected";case 0:case 1:case 2:break}return null},t.fromObject=function(e){if(e instanceof J.InitMessage)return e;let r=new J.InitMessage;switch(e.id!=null&&(r.id=e.id|0),e.index!=null&&(r.index=e.index|0),e.count!=null&&(r.count=e.count|0),e.update!=null&&(typeof e.update=="string"?N.base64.decode(e.update,r.update=N.newBuffer(N.base64.length(e.update)),0):e.update.length>=0&&(r.update=e.update)),e.version){default:if(typeof e.version=="number"){r.version=e.version;break}break;case"UNSPECIFIED":case 0:r.version=0;break;case"V1":case 1:r.version=1;break;case"V2":case 2:r.version=2;break}return r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(n.id=0,n.index=0,n.count=0,r.bytes===String?n.update="":(n.update=[],r.bytes!==Array&&(n.update=N.newBuffer(n.update))),n.version=r.enums===String?"UNSPECIFIED":0),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.index!=null&&e.hasOwnProperty("index")&&(n.index=e.index),e.count!=null&&e.hasOwnProperty("count")&&(n.count=e.count),e.update!=null&&e.hasOwnProperty("update")&&(n.update=r.bytes===String?N.base64.encode(e.update,0,e.update.length):r.bytes===Array?Array.prototype.slice.call(e.update):e.update),e.version!=null&&e.hasOwnProperty("version")&&(n.version=r.enums===String?J.UpdateFormatVersion[e.version]===void 0?e.version:J.UpdateFormatVersion[e.version]:e.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/InitMessage"},t})(),dfe=J.UpdateMessage=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.index=0,t.prototype.count=0,t.prototype.update=N.newBuffer([]),t.prototype.version=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(8).int32(e.id),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&r.uint32(16).int32(e.index),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&r.uint32(24).int32(e.count),r.uint32(34).bytes(e.update),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(40).int32(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.UpdateMessage;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 1:{i.id=e.int32();break}case 2:{i.index=e.int32();break}case 3:{i.count=e.int32();break}case 4:{i.update=e.bytes();break}case 5:{i.version=e.int32();break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("update"))throw N.ProtocolError("missing required 'update'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";if(e.index!=null&&e.hasOwnProperty("index")&&!N.isInteger(e.index))return"index: integer expected";if(e.count!=null&&e.hasOwnProperty("count")&&!N.isInteger(e.count))return"count: integer expected";if(!(e.update&&typeof e.update.length=="number"||N.isString(e.update)))return"update: buffer expected";if(e.version!=null&&e.hasOwnProperty("version"))switch(e.version){default:return"version: enum value expected";case 0:case 1:case 2:break}return null},t.fromObject=function(e){if(e instanceof J.UpdateMessage)return e;let r=new J.UpdateMessage;switch(e.id!=null&&(r.id=e.id|0),e.index!=null&&(r.index=e.index|0),e.count!=null&&(r.count=e.count|0),e.update!=null&&(typeof e.update=="string"?N.base64.decode(e.update,r.update=N.newBuffer(N.base64.length(e.update)),0):e.update.length>=0&&(r.update=e.update)),e.version){default:if(typeof e.version=="number"){r.version=e.version;break}break;case"UNSPECIFIED":case 0:r.version=0;break;case"V1":case 1:r.version=1;break;case"V2":case 2:r.version=2;break}return r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(n.id=0,n.index=0,n.count=0,r.bytes===String?n.update="":(n.update=[],r.bytes!==Array&&(n.update=N.newBuffer(n.update))),n.version=r.enums===String?"UNSPECIFIED":0),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.index!=null&&e.hasOwnProperty("index")&&(n.index=e.index),e.count!=null&&e.hasOwnProperty("count")&&(n.count=e.count),e.update!=null&&e.hasOwnProperty("update")&&(n.update=r.bytes===String?N.base64.encode(e.update,0,e.update.length):r.bytes===Array?Array.prototype.slice.call(e.update):e.update),e.version!=null&&e.hasOwnProperty("version")&&(n.version=r.enums===String?J.UpdateFormatVersion[e.version]===void 0?e.version:J.UpdateFormatVersion[e.version]:e.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UpdateMessage"},t})(),$U=J.StoredUpdate=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.update=N.newBuffer([]),t.prototype.version=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(18).bytes(e.update),r.uint32(24).int32(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.StoredUpdate;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 2:{i.update=e.bytes();break}case 3:{i.version=e.int32();break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("update"))throw N.ProtocolError("missing required 'update'",{instance:i});if(!i.hasOwnProperty("version"))throw N.ProtocolError("missing required 'version'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!(e.update&&typeof e.update.length=="number"||N.isString(e.update)))return"update: buffer expected";switch(e.version){default:return"version: enum value expected";case 0:case 1:case 2:break}return null},t.fromObject=function(e){if(e instanceof J.StoredUpdate)return e;let r=new J.StoredUpdate;switch(e.update!=null&&(typeof e.update=="string"?N.base64.decode(e.update,r.update=N.newBuffer(N.base64.length(e.update)),0):e.update.length>=0&&(r.update=e.update)),e.version){default:if(typeof e.version=="number"){r.version=e.version;break}break;case"UNSPECIFIED":case 0:r.version=0;break;case"V1":case 1:r.version=1;break;case"V2":case 2:r.version=2;break}return r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(r.bytes===String?n.update="":(n.update=[],r.bytes!==Array&&(n.update=N.newBuffer(n.update))),n.version=r.enums===String?"UNSPECIFIED":0),e.update!=null&&e.hasOwnProperty("update")&&(n.update=r.bytes===String?N.base64.encode(e.update,0,e.update.length):r.bytes===Array?Array.prototype.slice.call(e.update):e.update),e.version!=null&&e.hasOwnProperty("version")&&(n.version=r.enums===String?J.UpdateFormatVersion[e.version]===void 0?e.version:J.UpdateFormatVersion[e.version]:e.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/StoredUpdate"},t})(),pfe=J.UpdatePresenceMessage=(()=>{function t(o){if(this.data={},this.positions={},o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.data=N.emptyObject,t.prototype.positions=N.emptyObject,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Zi.create()),r.uint32(8).int32(e.id),e.data!=null&&Object.hasOwnProperty.call(e,"data"))for(let n=Object.keys(e.data),i=0;i<n.length;++i)r.uint32(18).fork().uint32(10).string(n[i]).uint32(18).string(e.data[n[i]]).ldelim();if(e.positions!=null&&Object.hasOwnProperty.call(e,"positions"))for(let n=Object.keys(e.positions),i=0;i<n.length;++i)r.uint32(26).fork().uint32(10).string(n[i]).uint32(18).bytes(e.positions[n[i]]).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.UpdatePresenceMessage,a,c;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{i.id=e.int32();break}case 2:{i.data===N.emptyObject&&(i.data={});let u=e.uint32()+e.pos;for(a="",c="";e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=e.string();break;default:e.skipType(d&7);break}}i.data[a]=c;break}case 3:{i.positions===N.emptyObject&&(i.positions={});let u=e.uint32()+e.pos;for(a="",c=[];e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=e.bytes();break;default:e.skipType(d&7);break}}i.positions[a]=c;break}default:e.skipType(l&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";if(e.data!=null&&e.hasOwnProperty("data")){if(!N.isObject(e.data))return"data: object expected";let r=Object.keys(e.data);for(let n=0;n<r.length;++n)if(!N.isString(e.data[r[n]]))return"data: string{k:string} expected"}if(e.positions!=null&&e.hasOwnProperty("positions")){if(!N.isObject(e.positions))return"positions: object expected";let r=Object.keys(e.positions);for(let n=0;n<r.length;++n)if(!(e.positions[r[n]]&&typeof e.positions[r[n]].length=="number"||N.isString(e.positions[r[n]])))return"positions: buffer{k:string} expected"}return null},t.fromObject=function(e){if(e instanceof J.UpdatePresenceMessage)return e;let r=new J.UpdatePresenceMessage;if(e.id!=null&&(r.id=e.id|0),e.data){if(typeof e.data!="object")throw TypeError(".UpdatePresenceMessage.data: object expected");r.data={};for(let n=Object.keys(e.data),i=0;i<n.length;++i)r.data[n[i]]=String(e.data[n[i]])}if(e.positions){if(typeof e.positions!="object")throw TypeError(".UpdatePresenceMessage.positions: object expected");r.positions={};for(let n=Object.keys(e.positions),i=0;i<n.length;++i)typeof e.positions[n[i]]=="string"?N.base64.decode(e.positions[n[i]],r.positions[n[i]]=N.newBuffer(N.base64.length(e.positions[n[i]])),0):e.positions[n[i]].length>=0&&(r.positions[n[i]]=e.positions[n[i]])}return r},t.toObject=function(e,r){r||(r={});let n={};(r.objects||r.defaults)&&(n.data={},n.positions={}),r.defaults&&(n.id=0),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id);let i;if(e.data&&(i=Object.keys(e.data)).length){n.data={};for(let a=0;a<i.length;++a)n.data[i[a]]=e.data[i[a]]}if(e.positions&&(i=Object.keys(e.positions)).length){n.positions={};for(let a=0;a<i.length;++a)n.positions[i[a]]=r.bytes===String?N.base64.encode(e.positions[i[a]],0,e.positions[i[a]].length):r.bytes===Array?Array.prototype.slice.call(e.positions[i[a]]):e.positions[i[a]]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/UpdatePresenceMessage"},t})(),mfe=J.AckMessage=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.message=0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(8).int32(e.id),r.uint32(16).int32(e.message),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.AckMessage;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 1:{i.id=e.int32();break}case 2:{i.message=e.int32();break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("message"))throw N.ProtocolError("missing required 'message'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":N.isInteger(e.id)?N.isInteger(e.message)?null:"message: integer expected":"id: integer expected"},t.fromObject=function(e){if(e instanceof J.AckMessage)return e;let r=new J.AckMessage;return e.id!=null&&(r.id=e.id|0),e.message!=null&&(r.message=e.message|0),r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(n.id=0,n.message=0),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.message!=null&&e.hasOwnProperty("message")&&(n.message=e.message),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/AckMessage"},t})(),ffe=J.BroadcastPresencesMessage=(()=>{function t(o){if(this.presences={},o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.presences=N.emptyObject,t.prototype.selfClientId="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Zi.create()),r.uint32(8).int32(e.id),e.presences!=null&&Object.hasOwnProperty.call(e,"presences"))for(let n=Object.keys(e.presences),i=0;i<n.length;++i)r.uint32(18).fork().uint32(10).string(n[i]),J.Presence.encode(e.presences[n[i]],r.uint32(18).fork()).ldelim().ldelim();return r.uint32(26).string(e.selfClientId),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.BroadcastPresencesMessage,a,c;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{i.id=e.int32();break}case 2:{i.presences===N.emptyObject&&(i.presences={});let u=e.uint32()+e.pos;for(a="",c=null;e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=J.Presence.decode(e,e.uint32());break;default:e.skipType(d&7);break}}i.presences[a]=c;break}case 3:{i.selfClientId=e.string();break}default:e.skipType(l&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("selfClientId"))throw N.ProtocolError("missing required 'selfClientId'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";if(e.presences!=null&&e.hasOwnProperty("presences")){if(!N.isObject(e.presences))return"presences: object expected";let r=Object.keys(e.presences);for(let n=0;n<r.length;++n){let i=J.Presence.verify(e.presences[r[n]]);if(i)return"presences."+i}}return N.isString(e.selfClientId)?null:"selfClientId: string expected"},t.fromObject=function(e){if(e instanceof J.BroadcastPresencesMessage)return e;let r=new J.BroadcastPresencesMessage;if(e.id!=null&&(r.id=e.id|0),e.presences){if(typeof e.presences!="object")throw TypeError(".BroadcastPresencesMessage.presences: object expected");r.presences={};for(let n=Object.keys(e.presences),i=0;i<n.length;++i){if(typeof e.presences[n[i]]!="object")throw TypeError(".BroadcastPresencesMessage.presences: object expected");r.presences[n[i]]=J.Presence.fromObject(e.presences[n[i]])}}return e.selfClientId!=null&&(r.selfClientId=String(e.selfClientId)),r},t.toObject=function(e,r){r||(r={});let n={};(r.objects||r.defaults)&&(n.presences={}),r.defaults&&(n.id=0,n.selfClientId=""),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id);let i;if(e.presences&&(i=Object.keys(e.presences)).length){n.presences={};for(let a=0;a<i.length;++a)n.presences[i[a]]=J.Presence.toObject(e.presences[i[a]],r)}return e.selfClientId!=null&&e.hasOwnProperty("selfClientId")&&(n.selfClientId=e.selfClientId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/BroadcastPresencesMessage"},t})(),gfe=J.BroadcastOperationMessage=(()=>{function t(o){if(o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id=0,t.prototype.operation=null,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Zi.create()),r.uint32(8).int32(e.id),J.ContentOperation.encode(e.operation,r.uint32(18).fork()).ldelim(),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.BroadcastOperationMessage;for(;e.pos<n;){let a=e.uint32();switch(a>>>3){case 1:{i.id=e.int32();break}case 2:{i.operation=J.ContentOperation.decode(e,e.uint32());break}default:e.skipType(a&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("operation"))throw N.ProtocolError("missing required 'operation'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isInteger(e.id))return"id: integer expected";{let r=J.ContentOperation.verify(e.operation);if(r)return"operation."+r}return null},t.fromObject=function(e){if(e instanceof J.BroadcastOperationMessage)return e;let r=new J.BroadcastOperationMessage;if(e.id!=null&&(r.id=e.id|0),e.operation!=null){if(typeof e.operation!="object")throw TypeError(".BroadcastOperationMessage.operation: object expected");r.operation=J.ContentOperation.fromObject(e.operation)}return r},t.toObject=function(e,r){r||(r={});let n={};return r.defaults&&(n.id=0,n.operation=null),e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.operation!=null&&e.hasOwnProperty("operation")&&(n.operation=J.ContentOperation.toObject(e.operation,r)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/BroadcastOperationMessage"},t})(),fl=J.Message=(()=>{function t(e){if(e)for(let r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}t.prototype.promptInit=null,t.prototype.init=null,t.prototype.update=null,t.prototype.updatePresence=null,t.prototype.broadcastPresences=null,t.prototype.broadcastOperation=null,t.prototype.ack=null;let o;return Object.defineProperty(t.prototype,"message",{get:N.oneOfGetter(o=["promptInit","init","update","updatePresence","broadcastPresences","broadcastOperation","ack"]),set:N.oneOfSetter(o)}),t.create=function(r){return new t(r)},t.encode=function(r,n){return n||(n=Zi.create()),r.promptInit!=null&&Object.hasOwnProperty.call(r,"promptInit")&&J.PromptInitMessage.encode(r.promptInit,n.uint32(10).fork()).ldelim(),r.init!=null&&Object.hasOwnProperty.call(r,"init")&&J.InitMessage.encode(r.init,n.uint32(18).fork()).ldelim(),r.update!=null&&Object.hasOwnProperty.call(r,"update")&&J.UpdateMessage.encode(r.update,n.uint32(26).fork()).ldelim(),r.updatePresence!=null&&Object.hasOwnProperty.call(r,"updatePresence")&&J.UpdatePresenceMessage.encode(r.updatePresence,n.uint32(34).fork()).ldelim(),r.broadcastPresences!=null&&Object.hasOwnProperty.call(r,"broadcastPresences")&&J.BroadcastPresencesMessage.encode(r.broadcastPresences,n.uint32(42).fork()).ldelim(),r.broadcastOperation!=null&&Object.hasOwnProperty.call(r,"broadcastOperation")&&J.BroadcastOperationMessage.encode(r.broadcastOperation,n.uint32(50).fork()).ldelim(),r.ack!=null&&Object.hasOwnProperty.call(r,"ack")&&J.AckMessage.encode(r.ack,n.uint32(58).fork()).ldelim(),n},t.encodeDelimited=function(r,n){return this.encode(r,n).ldelim()},t.decode=function(r,n){r instanceof Ce||(r=Ce.create(r));let i=n===void 0?r.len:r.pos+n,a=new J.Message;for(;r.pos<i;){let c=r.uint32();switch(c>>>3){case 1:{a.promptInit=J.PromptInitMessage.decode(r,r.uint32());break}case 2:{a.init=J.InitMessage.decode(r,r.uint32());break}case 3:{a.update=J.UpdateMessage.decode(r,r.uint32());break}case 4:{a.updatePresence=J.UpdatePresenceMessage.decode(r,r.uint32());break}case 5:{a.broadcastPresences=J.BroadcastPresencesMessage.decode(r,r.uint32());break}case 6:{a.broadcastOperation=J.BroadcastOperationMessage.decode(r,r.uint32());break}case 7:{a.ack=J.AckMessage.decode(r,r.uint32());break}default:r.skipType(c&7);break}}return a},t.decodeDelimited=function(r){return r instanceof Ce||(r=new Ce(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";let n={};if(r.promptInit!=null&&r.hasOwnProperty("promptInit")){n.message=1;{let i=J.PromptInitMessage.verify(r.promptInit);if(i)return"promptInit."+i}}if(r.init!=null&&r.hasOwnProperty("init")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.InitMessage.verify(r.init);if(i)return"init."+i}}if(r.update!=null&&r.hasOwnProperty("update")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.UpdateMessage.verify(r.update);if(i)return"update."+i}}if(r.updatePresence!=null&&r.hasOwnProperty("updatePresence")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.UpdatePresenceMessage.verify(r.updatePresence);if(i)return"updatePresence."+i}}if(r.broadcastPresences!=null&&r.hasOwnProperty("broadcastPresences")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.BroadcastPresencesMessage.verify(r.broadcastPresences);if(i)return"broadcastPresences."+i}}if(r.broadcastOperation!=null&&r.hasOwnProperty("broadcastOperation")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.BroadcastOperationMessage.verify(r.broadcastOperation);if(i)return"broadcastOperation."+i}}if(r.ack!=null&&r.hasOwnProperty("ack")){if(n.message===1)return"message: multiple values";n.message=1;{let i=J.AckMessage.verify(r.ack);if(i)return"ack."+i}}return null},t.fromObject=function(r){if(r instanceof J.Message)return r;let n=new J.Message;if(r.promptInit!=null){if(typeof r.promptInit!="object")throw TypeError(".Message.promptInit: object expected");n.promptInit=J.PromptInitMessage.fromObject(r.promptInit)}if(r.init!=null){if(typeof r.init!="object")throw TypeError(".Message.init: object expected");n.init=J.InitMessage.fromObject(r.init)}if(r.update!=null){if(typeof r.update!="object")throw TypeError(".Message.update: object expected");n.update=J.UpdateMessage.fromObject(r.update)}if(r.updatePresence!=null){if(typeof r.updatePresence!="object")throw TypeError(".Message.updatePresence: object expected");n.updatePresence=J.UpdatePresenceMessage.fromObject(r.updatePresence)}if(r.broadcastPresences!=null){if(typeof r.broadcastPresences!="object")throw TypeError(".Message.broadcastPresences: object expected");n.broadcastPresences=J.BroadcastPresencesMessage.fromObject(r.broadcastPresences)}if(r.broadcastOperation!=null){if(typeof r.broadcastOperation!="object")throw TypeError(".Message.broadcastOperation: object expected");n.broadcastOperation=J.BroadcastOperationMessage.fromObject(r.broadcastOperation)}if(r.ack!=null){if(typeof r.ack!="object")throw TypeError(".Message.ack: object expected");n.ack=J.AckMessage.fromObject(r.ack)}return n},t.toObject=function(r,n){n||(n={});let i={};return r.promptInit!=null&&r.hasOwnProperty("promptInit")&&(i.promptInit=J.PromptInitMessage.toObject(r.promptInit,n),n.oneofs&&(i.message="promptInit")),r.init!=null&&r.hasOwnProperty("init")&&(i.init=J.InitMessage.toObject(r.init,n),n.oneofs&&(i.message="init")),r.update!=null&&r.hasOwnProperty("update")&&(i.update=J.UpdateMessage.toObject(r.update,n),n.oneofs&&(i.message="update")),r.updatePresence!=null&&r.hasOwnProperty("updatePresence")&&(i.updatePresence=J.UpdatePresenceMessage.toObject(r.updatePresence,n),n.oneofs&&(i.message="updatePresence")),r.broadcastPresences!=null&&r.hasOwnProperty("broadcastPresences")&&(i.broadcastPresences=J.BroadcastPresencesMessage.toObject(r.broadcastPresences,n),n.oneofs&&(i.message="broadcastPresences")),r.broadcastOperation!=null&&r.hasOwnProperty("broadcastOperation")&&(i.broadcastOperation=J.BroadcastOperationMessage.toObject(r.broadcastOperation,n),n.oneofs&&(i.message="broadcastOperation")),r.ack!=null&&r.hasOwnProperty("ack")&&(i.ack=J.AckMessage.toObject(r.ack,n),n.oneofs&&(i.message="ack")),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/Message"},t})(),hfe=J.Presence=(()=>{function t(o){if(this.data={},this.positions={},o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.data=N.emptyObject,t.prototype.joinTimestamp=N.Long?N.Long.fromBits(0,0,!1):0,t.prototype.updateTimestamp=N.Long?N.Long.fromBits(0,0,!1):0,t.prototype.clientId="",t.prototype.positions=N.emptyObject,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Zi.create()),e.data!=null&&Object.hasOwnProperty.call(e,"data"))for(let n=Object.keys(e.data),i=0;i<n.length;++i)r.uint32(10).fork().uint32(10).string(n[i]).uint32(18).string(e.data[n[i]]).ldelim();if(r.uint32(16).int64(e.joinTimestamp),r.uint32(24).int64(e.updateTimestamp),r.uint32(34).string(e.clientId),e.positions!=null&&Object.hasOwnProperty.call(e,"positions"))for(let n=Object.keys(e.positions),i=0;i<n.length;++i)r.uint32(42).fork().uint32(10).string(n[i]).uint32(18).bytes(e.positions[n[i]]).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.Presence,a,c;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{i.data===N.emptyObject&&(i.data={});let u=e.uint32()+e.pos;for(a="",c="";e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=e.string();break;default:e.skipType(d&7);break}}i.data[a]=c;break}case 2:{i.joinTimestamp=e.int64();break}case 3:{i.updateTimestamp=e.int64();break}case 4:{i.clientId=e.string();break}case 5:{i.positions===N.emptyObject&&(i.positions={});let u=e.uint32()+e.pos;for(a="",c=[];e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=e.bytes();break;default:e.skipType(d&7);break}}i.positions[a]=c;break}default:e.skipType(l&7);break}}if(!i.hasOwnProperty("joinTimestamp"))throw N.ProtocolError("missing required 'joinTimestamp'",{instance:i});if(!i.hasOwnProperty("updateTimestamp"))throw N.ProtocolError("missing required 'updateTimestamp'",{instance:i});if(!i.hasOwnProperty("clientId"))throw N.ProtocolError("missing required 'clientId'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.data!=null&&e.hasOwnProperty("data")){if(!N.isObject(e.data))return"data: object expected";let r=Object.keys(e.data);for(let n=0;n<r.length;++n)if(!N.isString(e.data[r[n]]))return"data: string{k:string} expected"}if(!N.isInteger(e.joinTimestamp)&&!(e.joinTimestamp&&N.isInteger(e.joinTimestamp.low)&&N.isInteger(e.joinTimestamp.high)))return"joinTimestamp: integer|Long expected";if(!N.isInteger(e.updateTimestamp)&&!(e.updateTimestamp&&N.isInteger(e.updateTimestamp.low)&&N.isInteger(e.updateTimestamp.high)))return"updateTimestamp: integer|Long expected";if(!N.isString(e.clientId))return"clientId: string expected";if(e.positions!=null&&e.hasOwnProperty("positions")){if(!N.isObject(e.positions))return"positions: object expected";let r=Object.keys(e.positions);for(let n=0;n<r.length;++n)if(!(e.positions[r[n]]&&typeof e.positions[r[n]].length=="number"||N.isString(e.positions[r[n]])))return"positions: buffer{k:string} expected"}return null},t.fromObject=function(e){if(e instanceof J.Presence)return e;let r=new J.Presence;if(e.data){if(typeof e.data!="object")throw TypeError(".Presence.data: object expected");r.data={};for(let n=Object.keys(e.data),i=0;i<n.length;++i)r.data[n[i]]=String(e.data[n[i]])}if(e.joinTimestamp!=null&&(N.Long?(r.joinTimestamp=N.Long.fromValue(e.joinTimestamp)).unsigned=!1:typeof e.joinTimestamp=="string"?r.joinTimestamp=parseInt(e.joinTimestamp,10):typeof e.joinTimestamp=="number"?r.joinTimestamp=e.joinTimestamp:typeof e.joinTimestamp=="object"&&(r.joinTimestamp=new N.LongBits(e.joinTimestamp.low>>>0,e.joinTimestamp.high>>>0).toNumber())),e.updateTimestamp!=null&&(N.Long?(r.updateTimestamp=N.Long.fromValue(e.updateTimestamp)).unsigned=!1:typeof e.updateTimestamp=="string"?r.updateTimestamp=parseInt(e.updateTimestamp,10):typeof e.updateTimestamp=="number"?r.updateTimestamp=e.updateTimestamp:typeof e.updateTimestamp=="object"&&(r.updateTimestamp=new N.LongBits(e.updateTimestamp.low>>>0,e.updateTimestamp.high>>>0).toNumber())),e.clientId!=null&&(r.clientId=String(e.clientId)),e.positions){if(typeof e.positions!="object")throw TypeError(".Presence.positions: object expected");r.positions={};for(let n=Object.keys(e.positions),i=0;i<n.length;++i)typeof e.positions[n[i]]=="string"?N.base64.decode(e.positions[n[i]],r.positions[n[i]]=N.newBuffer(N.base64.length(e.positions[n[i]])),0):e.positions[n[i]].length>=0&&(r.positions[n[i]]=e.positions[n[i]])}return r},t.toObject=function(e,r){r||(r={});let n={};if((r.objects||r.defaults)&&(n.data={},n.positions={}),r.defaults){if(N.Long){let a=new N.Long(0,0,!1);n.joinTimestamp=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else n.joinTimestamp=r.longs===String?"0":0;if(N.Long){let a=new N.Long(0,0,!1);n.updateTimestamp=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else n.updateTimestamp=r.longs===String?"0":0;n.clientId=""}let i;if(e.data&&(i=Object.keys(e.data)).length){n.data={};for(let a=0;a<i.length;++a)n.data[i[a]]=e.data[i[a]]}if(e.joinTimestamp!=null&&e.hasOwnProperty("joinTimestamp")&&(typeof e.joinTimestamp=="number"?n.joinTimestamp=r.longs===String?String(e.joinTimestamp):e.joinTimestamp:n.joinTimestamp=r.longs===String?N.Long.prototype.toString.call(e.joinTimestamp):r.longs===Number?new N.LongBits(e.joinTimestamp.low>>>0,e.joinTimestamp.high>>>0).toNumber():e.joinTimestamp),e.updateTimestamp!=null&&e.hasOwnProperty("updateTimestamp")&&(typeof e.updateTimestamp=="number"?n.updateTimestamp=r.longs===String?String(e.updateTimestamp):e.updateTimestamp:n.updateTimestamp=r.longs===String?N.Long.prototype.toString.call(e.updateTimestamp):r.longs===Number?new N.LongBits(e.updateTimestamp.low>>>0,e.updateTimestamp.high>>>0).toNumber():e.updateTimestamp),e.clientId!=null&&e.hasOwnProperty("clientId")&&(n.clientId=e.clientId),e.positions&&(i=Object.keys(e.positions)).length){n.positions={};for(let a=0;a<i.length;++a)n.positions[i[a]]=r.bytes===String?N.base64.encode(e.positions[i[a]],0,e.positions[i[a]].length):r.bytes===Array?Array.prototype.slice.call(e.positions[i[a]]):e.positions[i[a]]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/Presence"},t})(),yfe=J.ContentOperation=(()=>{function t(o){if(this.payload={},o)for(let e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.id="",t.prototype.status=0,t.prototype.createdAt=N.Long?N.Long.fromBits(0,0,!1):0,t.prototype.updatedAt=N.Long?N.Long.fromBits(0,0,!1):0,t.prototype.updateId=0,t.prototype.expireAfter=0,t.prototype.cursor=0,t.prototype.target=0,t.prototype.payload=N.emptyObject,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Zi.create()),r.uint32(10).string(e.id),r.uint32(16).int32(e.status),r.uint32(24).int64(e.createdAt),r.uint32(32).int64(e.updatedAt),r.uint32(40).int32(e.updateId),r.uint32(48).int32(e.expireAfter),r.uint32(56).int32(e.cursor),r.uint32(64).int32(e.target),e.payload!=null&&Object.hasOwnProperty.call(e,"payload"))for(let n=Object.keys(e.payload),i=0;i<n.length;++i)r.uint32(74).fork().uint32(10).string(n[i]).uint32(18).string(e.payload[n[i]]).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof Ce||(e=Ce.create(e));let n=r===void 0?e.len:e.pos+r,i=new J.ContentOperation,a,c;for(;e.pos<n;){let l=e.uint32();switch(l>>>3){case 1:{i.id=e.string();break}case 2:{i.status=e.int32();break}case 3:{i.createdAt=e.int64();break}case 4:{i.updatedAt=e.int64();break}case 5:{i.updateId=e.int32();break}case 6:{i.expireAfter=e.int32();break}case 7:{i.cursor=e.int32();break}case 8:{i.target=e.int32();break}case 9:{i.payload===N.emptyObject&&(i.payload={});let u=e.uint32()+e.pos;for(a="",c="";e.pos<u;){let d=e.uint32();switch(d>>>3){case 1:a=e.string();break;case 2:c=e.string();break;default:e.skipType(d&7);break}}i.payload[a]=c;break}default:e.skipType(l&7);break}}if(!i.hasOwnProperty("id"))throw N.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("status"))throw N.ProtocolError("missing required 'status'",{instance:i});if(!i.hasOwnProperty("createdAt"))throw N.ProtocolError("missing required 'createdAt'",{instance:i});if(!i.hasOwnProperty("updatedAt"))throw N.ProtocolError("missing required 'updatedAt'",{instance:i});if(!i.hasOwnProperty("updateId"))throw N.ProtocolError("missing required 'updateId'",{instance:i});if(!i.hasOwnProperty("expireAfter"))throw N.ProtocolError("missing required 'expireAfter'",{instance:i});if(!i.hasOwnProperty("cursor"))throw N.ProtocolError("missing required 'cursor'",{instance:i});if(!i.hasOwnProperty("target"))throw N.ProtocolError("missing required 'target'",{instance:i});return i},t.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(!N.isString(e.id))return"id: string expected";switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:break}if(!N.isInteger(e.createdAt)&&!(e.createdAt&&N.isInteger(e.createdAt.low)&&N.isInteger(e.createdAt.high)))return"createdAt: integer|Long expected";if(!N.isInteger(e.updatedAt)&&!(e.updatedAt&&N.isInteger(e.updatedAt.low)&&N.isInteger(e.updatedAt.high)))return"updatedAt: integer|Long expected";if(!N.isInteger(e.updateId))return"updateId: integer expected";if(!N.isInteger(e.expireAfter))return"expireAfter: integer expected";if(!N.isInteger(e.cursor))return"cursor: integer expected";if(!N.isInteger(e.target))return"target: integer expected";if(e.payload!=null&&e.hasOwnProperty("payload")){if(!N.isObject(e.payload))return"payload: object expected";let r=Object.keys(e.payload);for(let n=0;n<r.length;++n)if(!N.isString(e.payload[r[n]]))return"payload: string{k:string} expected"}return null},t.fromObject=function(e){if(e instanceof J.ContentOperation)return e;let r=new J.ContentOperation;switch(e.id!=null&&(r.id=String(e.id)),e.status){default:if(typeof e.status=="number"){r.status=e.status;break}break;case"STARTING":case 0:r.status=0;break;case"RUNNING":case 1:r.status=1;break;case"SUCCESS":case 2:r.status=2;break;case"ERROR":case 3:r.status=3;break}if(e.createdAt!=null&&(N.Long?(r.createdAt=N.Long.fromValue(e.createdAt)).unsigned=!1:typeof e.createdAt=="string"?r.createdAt=parseInt(e.createdAt,10):typeof e.createdAt=="number"?r.createdAt=e.createdAt:typeof e.createdAt=="object"&&(r.createdAt=new N.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber())),e.updatedAt!=null&&(N.Long?(r.updatedAt=N.Long.fromValue(e.updatedAt)).unsigned=!1:typeof e.updatedAt=="string"?r.updatedAt=parseInt(e.updatedAt,10):typeof e.updatedAt=="number"?r.updatedAt=e.updatedAt:typeof e.updatedAt=="object"&&(r.updatedAt=new N.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber())),e.updateId!=null&&(r.updateId=e.updateId|0),e.expireAfter!=null&&(r.expireAfter=e.expireAfter|0),e.cursor!=null&&(r.cursor=e.cursor|0),e.target!=null&&(r.target=e.target|0),e.payload){if(typeof e.payload!="object")throw TypeError(".ContentOperation.payload: object expected");r.payload={};for(let n=Object.keys(e.payload),i=0;i<n.length;++i)r.payload[n[i]]=String(e.payload[n[i]])}return r},t.toObject=function(e,r){r||(r={});let n={};if((r.objects||r.defaults)&&(n.payload={}),r.defaults){if(n.id="",n.status=r.enums===String?"STARTING":0,N.Long){let a=new N.Long(0,0,!1);n.createdAt=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else n.createdAt=r.longs===String?"0":0;if(N.Long){let a=new N.Long(0,0,!1);n.updatedAt=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else n.updatedAt=r.longs===String?"0":0;n.updateId=0,n.expireAfter=0,n.cursor=0,n.target=0}e.id!=null&&e.hasOwnProperty("id")&&(n.id=e.id),e.status!=null&&e.hasOwnProperty("status")&&(n.status=r.enums===String?J.ContentOperationStatus[e.status]===void 0?e.status:J.ContentOperationStatus[e.status]:e.status),e.createdAt!=null&&e.hasOwnProperty("createdAt")&&(typeof e.createdAt=="number"?n.createdAt=r.longs===String?String(e.createdAt):e.createdAt:n.createdAt=r.longs===String?N.Long.prototype.toString.call(e.createdAt):r.longs===Number?new N.LongBits(e.createdAt.low>>>0,e.createdAt.high>>>0).toNumber():e.createdAt),e.updatedAt!=null&&e.hasOwnProperty("updatedAt")&&(typeof e.updatedAt=="number"?n.updatedAt=r.longs===String?String(e.updatedAt):e.updatedAt:n.updatedAt=r.longs===String?N.Long.prototype.toString.call(e.updatedAt):r.longs===Number?new N.LongBits(e.updatedAt.low>>>0,e.updatedAt.high>>>0).toNumber():e.updatedAt),e.updateId!=null&&e.hasOwnProperty("updateId")&&(n.updateId=e.updateId),e.expireAfter!=null&&e.hasOwnProperty("expireAfter")&&(n.expireAfter=e.expireAfter),e.cursor!=null&&e.hasOwnProperty("cursor")&&(n.cursor=e.cursor),e.target!=null&&e.hasOwnProperty("target")&&(n.target=e.target);let i;if(e.payload&&(i=Object.keys(e.payload)).length){n.payload={};for(let a=0;a<i.length;++a)n.payload[i[a]]=e.payload[i[a]]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xo.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/ContentOperation"},t})(),vfe=J.ContentOperationStatus=(()=>{let t={},o=Object.create(t);return o[t[0]="STARTING"]=0,o[t[1]="RUNNING"]=1,o[t[2]="SUCCESS"]=2,o[t[3]="ERROR"]=3,o})(),bs=J.UpdateFormatVersion=(()=>{let t={},o=Object.create(t);return o[t[0]="UNSPECIFIED"]=0,o[t[1]="V1"]=1,o[t[2]="V2"]=2,o})();var ZU=.9*1024*1024;function CD(t,o=0){let e=o;return{newMessageID:()=>(e+=1,e),write:r=>{if(r.init){let n=r.init;XC(n.update,(i,a,c)=>{t(Vh({init:{...n,index:a,count:c,update:i}}),n.id)})}else if(r.update){let n=r.update;XC(n.update,(i,a,c)=>{t(Vh({update:{...n,index:a,count:c,update:i}}),n.id)})}else if(r.promptInit){let n=r.promptInit;XC(n.stateVector,(i,a,c)=>{t(Vh({promptInit:{...n,index:a,count:c,stateVector:i}}),n.id)})}else t(Vh(r),r[Object.keys(r)[0]].id)}}}function Vh(t){let o=fl.verify(t);if(o)throw new Error(`ProtoBufObject message is not valid: ${o}`);let e=fl.create(t);return fl.encode(e).finish()}function XC(t,o){tR(t,ZU).forEach((r,n,i)=>{o(r,n,i.length)})}s();function xD(t){let o=new Map,e=(r,n)=>{if(!r.id||r.index===void 0||r.count===void 0)return n(r);let i=o.get(r.id)||[];if(i.push(r),o.set(r.id,i),i.length===r.count){let a=oR(i.sort((l,u)=>(l.index||0)-(u.index||0)).map(l=>"update"in l?l.update:l.stateVector)),c=n({...r,..."update"in r?{update:a}:{stateVector:a}});return o.delete(r.id),c}};return r=>QU(r,{promptInit:n=>e(n,i=>t.promptInit(i)),init:n=>e(n,i=>t.init(i)),update:n=>e(n,i=>t.update(i)),updatePresence:t.updatePresence,broadcastOperation:t.broadcastOperation,broadcastPresences:t.broadcastPresences,ack:t.ack})}function QU(t,o){let e=fl.decode(t),r=fl.toObject(e);if(r.promptInit)return o.promptInit(r.promptInit);if(r.init)return o.init(r.init);if(r.update)return o.update(r.update);if(r.updatePresence)return o.updatePresence(r.updatePresence);if(r.broadcastOperation)return o.broadcastOperation(r.broadcastOperation);if(r.broadcastPresences)return o.broadcastPresences(r.broadcastPresences);if(r.ack)return o.ack(r.ack)}s();var Pfe=lt("datasync:storage");function UC(t,o,e,r){switch(o){case null:case void 0:case bs.UNSPECIFIED:case bs.V1:{let n=Array.isArray(e)?NI(e):e;PI(t,n,r);break}case bs.V2:{let n=Array.isArray(e)?rg(e):e;_I(t,n,r);break}default:qe(o)}}s();var OD=li(t=>zs.create({key:t.getAttribute("key"),nodes:Gh(t),data:jC(t.getAttribute("data"))})),Gh=li(t=>ha.create(t.toArray().map(o=>{if(o instanceof gn)return ID(o);if(o instanceof _t)return JU(o);throw new Error(`Unknown node type: ${o}`)}))),JU=li(t=>{let e=t.toDelta().map(r=>nI.create({text:r.insert,marks:ej(r.attributes||{})}));return Vf.create({key:t.getAttribute("key"),leaves:ha.create(e)})}),ID=li(t=>{let o=t.getAttribute("key");switch(t.nodeName){case"block":{let e=t;return Gt.create({key:o,type:e.getAttribute("type"),isVoid:e.getAttribute("isVoid"),data:jC(e.getAttribute("data")),nodes:Gh(t),fragments:kD(e.getAttribute("fragments"))})}case"inline":{let e=t;return np.create({key:o,type:e.getAttribute("type"),isVoid:e.getAttribute("isVoid"),data:jC(e.getAttribute("data")),nodes:Gh(t),fragments:kD(e.getAttribute("fragments"))})}case"fragment":{let e=t;return iI.create({key:o,type:e.getAttribute("type"),fragment:e.getAttribute("fragment"),nodes:Gh(t)})}default:throw new Error(`Unknown object type: ${t.nodeName}`)}}),kD=li(t=>oI.create(t.toArray().map(o=>{if(!(o instanceof gn))throw new Error(`Unknown node type: ${o}`);let e=ID(o);return[e.fragmentKey,e]})));function ej(t){return Wf.create(Object.keys(t).map(o=>rI.create({type:o,data:t[o]})))}var jC=li(t=>iu.create(t.toJSON()));s();function gl(t){let o=t.object;switch(o){case"block":return oj(t);case"inline":return rj(t);case"text":return ij(t);default:throw new Error(`Unknown node type: ${o}`)}}function tj(t){return t.toArray().map(o=>gl(o))}function YC(t,o){t.delete(0,t.length),t.insert(0,tj(o))}function oj(t,o=new gn(t.object)){return o.setAttribute("key",t.key),o.setAttribute("isVoid",t.isVoid),o.setAttribute("type",t.type),PD(o,t.data),YC(o,t.nodes),_D(o,t.fragments),o}function rj(t,o=new gn(t.object)){return o.setAttribute("key",t.key),o.setAttribute("isVoid",t.isVoid),o.setAttribute("type",t.type),PD(o,t.data),YC(o,t.nodes),_D(o,t.fragments),o}function nj(t,o=new VS){return o.delete(0,o.length),t.forEach(e=>{o.push([$C(e)])}),o}function _D(t,o){let e=t.getAttribute("fragments");e||(e=new VS,t.setAttribute("fragments",e)),nj(o,e)}function $C(t,o=new gn(t.object)){return o.setAttribute("key",t.key),t.type&&o.setAttribute("type",t.type),t.fragment&&o.setAttribute("fragment",t.fragment),YC(o,t.nodes),o}function ij(t,o=new _t){let e=0;return o.setAttribute("key",t.key),o.delete(0,o.length),t.leaves.forEach(r=>{o.insert(e,r.text,Hh(r.marks)),e+=r.text.length}),o}function Hh(t){if(t.size===0)return{};let o={};return t.forEach(e=>{o[e.type]=e.data.toObject()}),o}function PD(t,o){let e=t.getAttribute("data");e||(e=new ui,t.setAttribute("data",e)),ZC(o,e)}function ZC(t,o=new ui){return o.clear(),t.forEach((e,r)=>{o.set(r,Ku(e))}),o}function Ku(t){if(t==null||typeof t=="number"||typeof t=="string"||typeof t=="boolean")return t;if(Array.isArray(t)){let o=new up;return t.forEach(e=>{o.push([Ku(e)])}),o}else{let o=new ui;return Object.keys(t).forEach(e=>{o.set(e,Ku(t[e]))}),o}}s();s();function Or(t,o){let e=t;for(let r=0;r<o.length;r++){let n=o[r];if(e instanceof _t)throw new Error("Invalid path, expected a node with descendants");if(n<e.length)e=e.get(n);else{let i=e.getAttribute("fragments");i&&(e=i.get(n-e.length))}if(!e)throw new Error("Invalid path, expected a node")}return e}function hl(t,o){let e=o.slice(0,-1),r=Or(t,e);if(r instanceof _t)throw new Error("Invalid path, expected a node with descendants");let n=o[o.length-1];return{parent:r,index:n}}function tm(t,o){let e=t;for(let r=0;r<o.length;r++){let n=o[r],i=e,a=i.get(n);if(a===void 0){let[c,l]=aj(o.slice(r+1));return i.set(n,c),l}else{if(!(a instanceof ui))throw new Error(`Invalid data path (${o.slice(0,r+1).join(".")}), expected a map`);e=a}}return e}function aj(t){let o=new ui,e=o;for(let r=0;r<t.length;r++){let n=new ui;e.set(t[r],n),e=n}return[o,e]}function QC(t,o){t.operations.forEach(([e,r,n])=>{sj(o,e,r.document,n.document)})}function sj(t,o,e,r){switch(o.type){case"insert_text":cj(t,e,o);break;case"remove_text":lj(t,e,o);break;case"add_mark":uj(t,o);break;case"remove_mark":dj(t,o);break;case"remove_node":pj(t,o);break;case"insert_node":mj(t,o);break;case"set_node":yj(t,o);break;case"move_node":fj(t,e,r,o);break;case"split_node":gj(t,e,o);break;case"merge_node":hj(t,e,o);break;case"insert_fragment":vj(t,o);break;case"remove_fragment":bj(t,o);break;case"set_data":Sj(t,o);break;case"remove_data":wj(t,o);break;case"insert_array_data":Cj(t,o);break;case"remove_array_data":xj(t,o);break;case"set_selection":break;default:throw new Error(`Unsupported operation type: ${o.type}`)}}function cj(t,o,e){let r=Or(t,[...e.path]);if(!(r instanceof _t))throw new Error("Invalid operation path, expected a text node");r.insert(e.offset,e.text,Hh(e.marks))}function lj(t,o,e){let r=Or(t,[...e.path]);if(!(r instanceof _t))throw new Error("Invalid operation path, expected a text node");r.delete(e.offset,e.text.length)}function uj(t,o){let e=Or(t,[...o.path]);if(!(e instanceof _t))throw new Error("Invalid operation path, expected a text node");e.format(o.offset,o.length,Hh(Wf.create([o.mark])))}function dj(t,o){let e=Or(t,[...o.path]);if(!(e instanceof _t))throw new Error("Invalid operation path, expected a text node");e.format(o.offset,o.length,{[o.mark.type]:null})}function pj(t,o){let{parent:e,index:r}=hl(t,[...o.path]);e.delete(r)}function mj(t,o){let{parent:e,index:r}=hl(t,[...o.path]);e.insert(r,[gl(o.node)])}function fj(t,o,e,r){let{parent:n,index:i}=hl(t,[...r.path]),{parent:a,index:c}=hl(t,[...r.newPath]),l=e.assertPath(r.path),u=o.assertNode(l.key),d=gl(u);n.delete(i),a.insert(c,[d])}function gj(t,o,e){let{parent:r,index:n}=hl(t,[...e.path]),i=o.assertNode(r.getAttribute("key"));if(i.object==="text")throw new Error("Invalid operation path, expected a node with descendants for split_node");let a=i.nodes.get(n);if(!a)throw new Error("Node not found in parent nodes");let c=i.nodes.get(n+1);if(!c)throw new Error("New node not found in parent nodes");r.delete(n),r.insert(n,[gl(a),gl(c)])}function hj(t,o,e){let{parent:r,index:n}=hl(t,[...e.path]),i=o.assertNode(r.getAttribute("key"));if(i.object==="text")throw new Error("Invalid operation path, expected a node with descendants for merge_node");let a=i.nodes.get(n-1);if(!a)throw new Error("Merged node not found in parent nodes");r.delete(n-1,2),r.insert(n-1,[gl(a)])}function yj(t,o){let e=Or(t,[...o.path]);if(typeof o.properties!="string"){if("key"in o.properties&&o.properties.key!==void 0&&e.setAttribute("key",o.properties.key),"type"in o.properties&&o.properties.type!==void 0&&e.setAttribute("type",o.properties.type),"isVoid"in o.properties&&o.properties.isVoid!==void 0){if(e instanceof _t)throw new Error("Should not set isVoid on a text");e.setAttribute("isVoid",o.properties.isVoid)}if("data"in o.properties&&o.properties.data!==void 0){if(e instanceof _t)throw new Error("Should not set data on a text");ZC(iu.create(o.properties.data),e.getAttribute("data"))}}}function vj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Expect a fragment node");let r=e,n=o.fragmentPath[o.fragmentPath.length-1]-1,i=$C(o.node);r.getAttribute("fragments").insert(n,[i])}function bj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Expect a fragment node");let r=e,n=o.fragmentPath[o.fragmentPath.length-1]-1;r.getAttribute("fragments").delete(n)}function Sj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Should not set data on a text");let r=Ku(o.data),n=tm(e.getAttribute("data"),o.dataPath.slice(0,-1)),i=o.dataPath[o.dataPath.length-1];n.set(i,r)}function wj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Should not set data on a text");let r=tm(e.getAttribute("data"),o.dataPath.slice(0,-1)),n=o.dataPath[o.dataPath.length-1];r.delete(n)}function Cj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Should not set data on a text");let r=tm(e.getAttribute("data"),o.dataPath.slice(0,-1)),n=o.dataPath[o.dataPath.length-1],i=r.get(n);if(!i||!(i instanceof up))return;let a=Ku(o.data);i.insert(o.dataIndex,[a])}function xj(t,o){let e=Or(t,[...o.path]);if(e instanceof _t)throw new Error("Should not set data on a text");let r=tm(e.getAttribute("data"),o.dataPath.slice(0,-1)),n=o.dataPath[o.dataPath.length-1],i=r.get(n);if(!i||!(i instanceof up))return;let a;for(;a=i.toArray().findIndex(c=>c===o.data)!==-1;)i.delete(a)}s();function om(t){return t.get("data",gn)}s();function TD(t,o,e){let r=om(o);return rp.isBlockRange(e)?{anchor:e.anchorBlock?ED(r,t,e.anchorBlock):void 0,focus:e.focusBlock?ED(r,t,e.focusBlock):void 0}:{anchor:e.anchorKey?RD(r,t,e.anchorKey,e.anchorOffset):void 0,focus:e.focusKey?RD(r,t,e.focusKey,e.focusOffset):void 0}}function MD(t,o){if(!(!o.anchor||!o.focus)){if(o.anchor.type instanceof _t){if(!(o.focus.type instanceof _t))return;let e=o.anchor.type.getAttribute("key"),r=o.focus.type.getAttribute("key");return ye.create({anchorKey:e,anchorOffset:o.anchor.index,focusKey:r,focusOffset:o.focus.index}).normalize(t)}if(o.anchor.type instanceof gn){if(!(o.focus.type instanceof gn))return;let e=o.anchor.type.getAttribute("key"),r=o.focus.type.getAttribute("key"),n=t.getDescendant(e),i=t.getDescendant(r);if(!n||!i||!n.isBlock()||!i.isBlock())return;let a=n.nodes.get(o.anchor.index),c=i.nodes.get(o.focus.index);return!a||!c?void 0:rp.create({anchorBlock:a.key,focusBlock:c==null?void 0:c.key}).normalize(t)}}}function RD(t,o,e,r){let n=o.getPath(e);return n?{type:Or(t,n),index:r,assoc:0}:void 0}function ED(t,o,e){let r=o.getPath(e);return r?{type:Or(t,r.slice(0,-1)),index:r[r.length-1],assoc:0}:void 0}s();var kj=lt("hive-core:normalizeYDocument");function LD(t){let o=new Set,e=new Set;return DD(t,o,e),e.size>0&&kj.warning(`Found ${e.size} duplicated keys in Y document. This is a bug in Hive.`),e.size}function DD(t,o,e){ND(t,o,e);let r=t.getAttribute("fragments");r&&Oj(r,o,e)}function Oj(t,o,e){ND(t,o,e)}function ND(t,o,e){let r=0;t.forEach((n,i)=>{let a=n.getAttribute("key");if(o.has(a)){e.add(a),OI(t),t.delete(i-r),r++;return}o.add(a),!(n instanceof _t)&&DD(n,o,e)})}s();s();s();s();s();s();s();var ir=crypto;var Ss=new TextEncoder,Kn=new TextDecoder,qge=2**32;var AD=t=>{let o=atob(t),e=new Uint8Array(o.length);for(let r=0;r<o.length;r++)e[r]=o.charCodeAt(r);return e},uc=t=>{let o=t;o instanceof Uint8Array&&(o=Kn.decode(o)),o=o.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return AD(o)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}};s();s();s();var Kh=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(o){var e;super(o),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(e=Error.captureStackTrace)===null||e===void 0||e.call(Error,this,this.constructor)}};var wn=class extends Kh{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};s();s();var Xh=ir.getRandomValues.bind(ir);s();s();s();s();s();s();s();s();s();function Mj(t){return typeof t=="object"&&t!==null}function tn(t){if(!Mj(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let o=t;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(t)===o}s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();var Xj=Symbol();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();s();var tx=uc;s();function ox(t){if(typeof t!="string")throw new wn("JWTs must use Compact JWS serialization, JWT must be a string");let{1:o,length:e}=t.split(".");if(e===5)throw new wn("Only JWTs using Compact JWS serialization can be decoded");if(e!==3)throw new wn("Invalid JWT");if(!o)throw new wn("JWTs must contain a payload");let r;try{r=tx(o)}catch(i){throw new wn("Failed to parse the base64url encoded payload")}let n;try{n=JSON.parse(Kn.decode(r))}catch(i){throw new wn("Failed to parse the decoded payload as JSON")}if(!tn(n))throw new wn("Invalid JWT Claims Set");return n}s();s();s();s();function UD(t){let o=ox(t);return{expiration:o.exp?o.exp*1e3:Date.now()+6*60*60*1e3,payload:{userId:o.userId,content:o.content}}}s();var sY=new hu(lg,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"name",weight:.7},{name:"keywords",weight:.3}]});function Yh(t){return sY.search(t).map(o=>o.item)}s();var oy=x(O());s();var cN=x(yp(),1),lN=x(ZD(),1);s();var aN=x(yp(),1),sN=x(iN(),1);var ks=lt("HiveSocket");var $h=class{constructor(o){this.state="closed";this.openBackoffDelay=1e3;this.pendingMessages=[];this.events=new aN.EventEmitter;this.getSocketURL=o}async open(){if(this.webSocket)throw new Error("WebSocket already opened");this.clearScheduledReconnection();let o=await this.getSocketURL();return new Promise((e,r)=>{ks.info("Opening WebSocket:",o),this.webSocket=new sN.default.w3cwebsocket(o),this.setState("connecting");try{this.webSocket.binaryType="arraybuffer"}catch(n){}this.webSocket.onopen=()=>{ks.warning("WebSocket opened"),this.setState("open"),this.sendPendingMessages(),e()},this.webSocket.onclose=n=>{let i=this.state;if(this.close("closed"),i==="connecting"){ks.error("Websocket closed before initial connection",n),r(new Error("Websocket closed before initial connection"));return}i==="open"&&(ks.warning("WebSocket unexpectedly closed, reconnecting:",n.code,n.reason),this.scheduleReconnection())},this.webSocket.onerror=n=>{let i=this.state;if(this.close("errored"),i==="connecting"){ks.error("Websocket error with initial connection"),r(new Error("Websocket errored before being opened"));return}ks.error("WebSocket error, reconnecting:",n),this.scheduleReconnection()},this.webSocket.onmessage=n=>{let i=n.data;i instanceof ArrayBuffer&&this.events.emit("message",new Uint8Array(i))}})}close(o="closed"){this.setState(o),this.openBackoffTimer&&(clearTimeout(this.openBackoffTimer),this.openBackoffTimer=void 0),this.webSocket&&(ks.info("Closing WebSocket"),this.webSocket.close(),this.webSocket=void 0)}scheduleReconnection(){this.openBackoffTimer||(this.webSocket&&this.close(),ks.info("Scheduling reconnection in",this.openBackoffDelay,"ms"),this.openBackoffTimer=setTimeout(()=>{this.open(),this.openBackoffDelay=Math.min(this.openBackoffDelay*2,3e4)},this.openBackoffDelay))}async forceScheduledReconnection(){if(!this.openBackoffTimer)throw new Error("No scheduled reconnection");await this.open()}clearScheduledReconnection(){this.openBackoffTimer&&(clearTimeout(this.openBackoffTimer),this.openBackoffTimer=void 0)}listen(o,e){return this.events.addListener(o,e),()=>{this.events.removeListener(o,e)}}send(o){if(this.state!=="open"||!this.webSocket){this.pendingMessages.push(o);return}this.webSocket.send(o)}sendPendingMessages(){let o=this.webSocket;this.state!=="open"||!o||(this.pendingMessages.forEach(e=>o.send(e)),this.pendingMessages=[])}setState(o){this.state!==o&&(ks.info("socket changing state from",this.state,"to",o),this.state=o,this.events.emit("state",o))}};var Cn=lt("hive:HiveDataSyncClient");var Uu=class{constructor(o,e={}){this.state="closed";this.operation=null;this.clientId=null;this.socket=null;this.encoder=null;this.currentPresence=null;this.beforeTransactionPresence=null;this.pendingMessages=new Set;this.pendingMessagesResolves=[];this.destroyed=!1;this.events=new cN.EventEmitter;this.batchUpdates=[];let{YType:r=ui,readOnly:n=!1}=e;if(typeof globalThis.window>"u")throw new Error("HiveDataSyncClient can only be used in the browser, or in node process when running tests");this.client=o,this.doc=new II,this.presences=[],this.YType=r,this.readOnly=n;let i=this.doc.get("data",r);this.undoManager=new DI(i,{trackedOrigins:new Set(["local"])}),this.undoManager.on("stack-item-added",a=>{var c,l;a.stackItem.meta.set("positionsBefore",(c=this.beforeTransactionPresence)==null?void 0:c.positions),a.stackItem.meta.set("positions",(l=this.currentPresence)==null?void 0:l.positions)}),this.undoManager.on("stack-item-updated",a=>{var c;a.stackItem.meta.set("positions",(c=this.currentPresence)==null?void 0:c.positions)}),this.undoManager.on("stack-item-popped",a=>{let c=a.type==="undo"?this.undoManager.redoStack:this.undoManager.undoStack,l=c[c.length-1];l&&(l.meta.set("positions",a.stackItem.meta.get("positionsBefore")),l.meta.set("positionsBefore",a.stackItem.meta.get("positions")));let u=a.stackItem.meta.get("positionsBefore");u&&this.events.emit("restorePositions",u)}),this.doc.on("updateV2",(a,c)=>{c!=="remote"&&(this.dangerouslyPaused?this.dangerouslyPaused.push(a):this.batchUpdate(a)),Cn.info("call update listeners"),this.events.emit("update",c)})}updateState(){let o="closed";if(this.socket)switch(this.socket.state){case"connecting":o="connecting";break;case"open":this.doc.isSynced?o="open":o="connecting";break;case"errored":o="errored";break}o!==this.state&&(this.state=o,this.events.emit("state",o))}get presence(){return this.currentPresence||null}get clock(){let o=this.doc.get("data",this.YType);return kI(o)}open(o,e,r,n={}){if(this.assertNotDestroyed(),this.socket)return this.socket.state==="errored"?Promise.reject(new Error("Connection failed to establish with the server")):this.doc.isSynced?void 0:this.doc.whenSynced;Cn.info("opening datasync socket",e,r,n);let i=this.client.getSocket(o,e,r,n);this.socket=i;let a=()=>{this.doc.emit("sync",[!0]),Cn.info("connection is ready"),this.updateState()},c=xD({promptInit:d=>{this.sendInit(d.stateVector)},init:({update:d,version:p})=>{UC(this.doc,p,d,"remote"),a()},update:({update:d,version:p})=>{UC(this.doc,p,d,"remote")},updatePresence:()=>{},broadcastOperation:d=>{this.operation={...d.operation,payload:d.operation.payload||{},createdAt:Number(d.operation.createdAt),updatedAt:Number(d.operation.updatedAt)},this.events.emit("operation",this.operation)},broadcastPresences:d=>{Cn.info("received broadcast presences message");let p=this.clientId;this.clientId=d.selfClientId,p!==d.selfClientId&&(Cn.info("client id changed to",d.selfClientId),this.events.emit("clientId",d.selfClientId)),this.presences=Object.values(d.presences||{}).map(m=>({clientId:m.clientId,joinTimestamp:Number(m.joinTimestamp),updateTimestamp:Number(m.updateTimestamp),data:m.data||{},positions:Object.fromEntries(Object.entries(m.positions||{}).map(([f,h])=>[f,LI(h)]))})).sort((m,f)=>m.joinTimestamp-f.joinTimestamp),this.events.emit("presences")},ack:d=>{this.ackMessage(d.message)}});this.encoder=CD((d,p)=>{this.pendingMessages.add(p),i.send(d)}),i.listen("state",d=>{this.updateState(),d==="open"?(this.sendPromptInit(),this.sendPresence()):this.doc.emit("sync",[!1])}),i.listen("message",d=>{c(d)});let l=new Ni(`hive:datasync:open:${e}`);l.setLabels(r),l.wrapPromise(i.open());let u=new Ni(`hive:datasync:sync:${e}`);return u.setLabels(r),u.wrapPromise(this.doc.whenSynced)}close(){if(this.assertNotDestroyed(),!this.socket){Cn.info("closing datasync, but socket is already closed");return}Cn.info("closing datasync socket"),this.socket.close(),this.socket=null,this.encoder=null}destroy(){var o;this.close(),(o=this.batchDebounceFlush)==null||o.cancel(),this.undoManager.destroy(),this.doc.destroy(),this.events.removeAllListeners(),this.destroyed=!0}listen(o,e){return this.assertNotDestroyed(),this.events.addListener(o,e),()=>{this.events.removeListener(o,e)}}waitForSync(){if(this.assertNotDestroyed(),this.pendingMessages.size!==0)return Cn.info("waiting for sync, pending messages count is",this.pendingMessages.size),new Promise(o=>{this.pendingMessagesResolves.push(o)})}transact(o){return this.assertNotDestroyed(),Cn.info("start transaction on document"),this.beforeTransactionPresence=this.currentPresence,this.doc.transact(()=>o(this.doc),"local")}setPresence(o){var e;this.assertNotDestroyed(),Cn.info("set presence",o),this.currentPresence={data:o.data||((e=this.currentPresence)==null?void 0:e.data)||{},positions:Object.fromEntries(Object.entries(o.positions||{}).map(([r,n])=>n?[r,TI(n.type,n.index,n.assoc)]:null).filter(fe))},this.sendPresence()}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}stopCapturing(){this.undoManager.stopCapturing()}hasBatchingEnabled(){return!!this.batchDebounceFlush}hasBatchedUpdates(){return this.batchUpdates.length>0}resetBatchingInterval(o,e=o*5){var r;o?((r=this.batchDebounceFlush)==null||r.cancel(),this.batchDebounceFlush=(0,lN.default)(()=>{this.flushBatchUpdates()},o,{maxWait:e})):(this.flushBatchUpdates(),this.batchDebounceFlush=void 0)}disableBatching(){this.resetBatchingInterval(0)}flushBatchUpdates(){var r;if((r=this.batchDebounceFlush)==null||r.cancel(),this.batchUpdates.length===0)return;let o=this.batchUpdates;this.batchUpdates=[];let e=rg(o);this.sendUpdate(e)}sendPresence(){!this.encoder||!this.currentPresence||(Cn.info("sending presence to server"),this.encoder.write({updatePresence:{id:this.encoder.newMessageID(),data:this.currentPresence.data,positions:Object.fromEntries(Object.entries(this.currentPresence.positions).map(([o,e])=>[o,MI(e)]))}}))}sendPromptInit(){this.encoder&&(Cn.info("sending prompt to init to server"),this.encoder.write({promptInit:{id:this.encoder.newMessageID(),stateVector:EI(this.doc),version:bs.V2}}))}sendInit(o){this.encoder&&(Cn.info("sending init to server"),this.encoder.write({init:{id:this.encoder.newMessageID(),update:RI(this.doc,o),version:bs.V2}}))}batchUpdate(o){if(!this.batchDebounceFlush){this.sendUpdate(o);return}this.batchUpdates.push(o),this.batchDebounceFlush()}sendUpdate(o){this.encoder&&(Cn.info("sending update to server",o.byteLength),this.encoder.write({update:{id:this.encoder.newMessageID(),update:o,version:bs.V2}}))}ackMessage(o){this.pendingMessages.delete(o),this.pendingMessages.size===0&&(this.pendingMessagesResolves.forEach(e=>e()),this.pendingMessagesResolves=[])}assertNotDestroyed(){if(this.destroyed)throw new Error("datasync is destroyed")}dangerouslyPauseSync(){throw new Error("dangerouslyPauseSync should only be used for testing")}async dangerouslyResumeSync(){throw new Error("dangerouslyPauseSync should only be used for testing")}};s();var uN=x(yp(),1);var cm,sm=class{constructor(o,e){this.events=new uN.default;Pf(this,cm,void 0);this.manager=o,this.contentId=e.contentId,this.branchId=e.branchId,this.dataSync=new Uu(o.client),this._change=wD(zh(this.dataSync.doc)),this.dataSync.listen("update",()=>{this.dataSync.doc.transact(()=>{cD(zh(this.dataSync.doc))},"local"),Qc(this,cm,vD(zh(this.dataSync.doc))),this.events.emit("update")})}get revision(){return ru(this,cm)}get presences(){return this.dataSync.presences}keepAlive(){return this.manager.keepAlive(this)}open(o={}){return this.dataSync.presence||this.dataSync.setPresence({data:o}),this.dataSync.open(this.contentId,"/branches/:branchId/datasync",{branchId:this.branchId},this.manager.clientId?{clientId:this.manager.clientId}:{})}close(){this.manager.close(this)}destroy(){this.dataSync.destroy()}waitForSync(){return this.dataSync.waitForSync()}listen(o,e){return o==="update"?(this.events.addListener(o,e),()=>{this.events.removeListener(o,e)}):this.dataSync.listen(o,e)}openPage(o){let e=this.dataSync.presence;this.manager.touch(this),e&&this.dataSync.setPresence({data:{...e.data,pageId:o}})}syncChange(o){return this.manager.touch(this),this.dataSync.transact(r=>o(this._change))}async change(o){let e=this.syncChange(o);return await this.waitForSync(),e}};cm=new WeakMap;s();var dN=x(yp(),1);var Ra,lm=class{constructor(o,e,r={}){this.events=new dN.EventEmitter;Pf(this,Ra,void 0);var n;this.manager=o,this.contentId=e.contentId,this.branchId=e.branchId,this.pageId=e.pageId,this.singleEditBatchingInterval=(n=r.singleEditBatchingInterval)!=null?n:1500,Qc(this,Ra,ip.create()),this.dataSync=new Uu(o.client,{YType:gn}),this.dataSync.resetBatchingInterval(this.singleEditBatchingInterval),this.dataSync.listen("restorePositions",i=>{let a=this.createSelectionFromRelatives(this.value.document,i);a=a?a.normalize(this.value.document):ye.create(),ru(this,Ra).selection.isFocused&&(a=a.focus()),Qc(this,Ra,ru(this,Ra).merge({selection:a})),this.events.emit("value")}),this.dataSync.listen("update",i=>{i==="local"||this.createSlateValue(),this.events.emit("value")}),this.dataSync.listen("presences",()=>{this.dataSync.presences.length>0?this.dataSync.hasBatchingEnabled()&&this.dataSync.disableBatching():this.dataSync.hasBatchingEnabled()||this.dataSync.resetBatchingInterval(this.singleEditBatchingInterval),this.updateSelections()}),this.dataSync.listen("state",i=>{i==="open"&&this.updateSelections()})}get value(){return ru(this,Ra)}createSlateValue(){let o=om(this.dataSync.doc);this.dataSync.doc.transact(()=>LD(o),"local");let e=OD(o);Qc(this,Ra,this.dataSync.doc.transact(()=>{let r=this.value.selection,n=wI[e.data.get("schemaType")||"document"],i=ip.create({document:e},{normalize:!1}).setSchema(n);if(i.document!==e)throw new Error("Document should not be modified by creation of Value");let a=i.change({save:!1}).normalize();a.value.document!==i.document&&(i=i.merge({document:a.value.document}),QC(a,o));let c=this.dataSync.presence?this.createSelectionFromRelatives(i.document,this.dataSync.presence.positions):void 0;return c&&(c=c.normalize(e)),c&&r.isFocused&&(c=c.focus()),i=i.merge({selection:c!=null?c:ye.create()}),i},"local"))}keepAlive(){return this.manager.keepAlive(this)}open(o={}){return this.dataSync.presence||this.dataSync.setPresence({data:o}),this.dataSync.open(this.contentId,"/branches/:branchId/pages/:pageId/document/datasync",{branchId:this.branchId,pageId:this.pageId},this.manager.clientId?{clientId:this.manager.clientId}:{})}close(){this.manager.close(this)}destroy(){this.dataSync.destroy()}waitForSync(){return this.dataSync.waitForSync()}listen(o,e){return this.events.addListener(o,e),()=>{this.events.removeListener(o,e)}}applyChange(o){var r;this.manager.touch(this);let e=this.value;if(Qc(this,Ra,o.value),e.document!==o.value.document?(this.dataSync.transact(n=>{QC(o,om(n))}),this.updateSelections()):this.events.emit("value"),o.value.selection!==e.selection){let n=o.value.selection;this.dataSync.setPresence({data:{...((r=this.dataSync.presence)==null?void 0:r.data)||{}},positions:TD(o.value.document,this.dataSync.doc,n)})}o.value.selection.isBlurred&&this.dataSync.flushBatchUpdates()}async change(o){let e=this.value.change();return o(e),this.applyChange(e),this.waitForSync()}updateSelections(){this.dataSync.state!=="open"?this.selections=ha.create():this.selections=ha.create(this.dataSync.presences.map(o=>{let e=this.createSelectionFromRelatives(this.value.document,o.positions);return e?e.merge({data:iu.create({clientId:o.clientId,...o.data})}):null}).filter(fe)),this.events.emit("selections")}undo(){return this.dataSync.undo()}redo(){return this.dataSync.redo()}createSelectionFromRelatives(o,e){let r=this.dataSync.doc;return MD(o,{anchor:e.anchor&&zS(e.anchor,r)||void 0,focus:e.focus&&zS(e.focus,r)||void 0})}};Ra=new WeakMap;s();var Zh=class{constructor(o){this.browserCache=h_("hive-tokens"),this.cache=Zr({getKey:e=>e,getValue:async e=>{let r=await o(e),n=Array.isArray(r)?r:[r],i={};if(n.forEach(a=>{let c=UD(a),l={token:a,metadata:c};Object.keys(c.payload.content).forEach(u=>{i[u]=l,e!==u&&this.cache.write(u,l)})}),!i[e])throw new Di.Forbidden(`No authentication for content "${e}"`);return i[e]},ttl:e=>e.metadata.expiration-(Date.now()+5*60*1e3),effects:[this.browserCache.effect]})}async getParsedToken(o){return await this.cache.readAsync(o)}async getToken(o){let{token:e}=await this.getParsedToken(o);return e}async clearCache(){this.cache.clearAll(),await this.browserCache.clearCache()}};s();var pN=lt("hive:HiveDataSyncManager"),Qh=class{constructor(o,e={}){this.syncs=new Map;this.ids=new WeakMap;var r;this.client=o,this.ttl=(r=e.ttl)!=null?r:1e3*60*5}close(o){let e=this.ids.get(o);if(!e)throw new Error("Unknown sync client");let r=this.syncs.get(e);if(!r)throw new Error("Expected sync client to be registered");r.sync.destroy(),this.syncs.delete(e),this.ids.delete(o)}closeAll(){this.stopGarbageCollect(),[...this.syncs.values()].map(o=>o.sync.close()),this.syncs=new Map,this.ids=new WeakMap}touch(o){let e=this.ids.get(o);if(!e)return!1;let r=this.syncs.get(e);if(!r)throw new Error("Expected sync client to be registered");return r.activeAt=Date.now(),!0}keepAlive(o){this.touch(o);let e=setInterval(()=>{this.touch(o)||r()},this.ttl/2),r=()=>{e&&clearInterval(e),e=void 0};return r}branch(o,e,r){let n=this.getSync(`${o}/${e}`,()=>new sm(this,{contentId:o,branchId:e}),r);if(n&&!(n instanceof sm))throw new Error(`Expected HiveBranchRevision, got ${n.constructor.name}`);return n}pageDocument(o,e,r,n){let i=this.getSync(`${o}/${e}/${r}`,()=>new lm(this,{contentId:o,branchId:e,pageId:r},n),n);if(i&&!(i instanceof lm))throw new Error(`Expected HiveBranchDocument, got ${i.constructor.name}`);return i}getSync(o,e,r){let n=this.syncs.get(o);if(n)return n.sync;if((r==null?void 0:r.autoInit)===!1)return;let i=e();return this.syncs.set(o,{sync:i,activeAt:Date.now()}),this.ids.set(i,o),i.dataSync.listen("clientId",a=>{this.clientId=a}),pN.info(`initialize sync for "${o}"`),this.startGarbageCollect(),i}garbageCollect(){let o=Date.now();for(let[e,{sync:r,activeAt:n}]of this.syncs.entries())o-n>this.ttl&&(pN.info(`garbage collection "${e}", last active ${o-n}ms ago`),this.close(r));this.syncs.size===0&&this.stopGarbageCollect()}startGarbageCollect(){this.gcInterval||(this.gcInterval=setInterval(()=>this.garbageCollect(),this.ttl/2))}stopGarbageCollect(){this.gcInterval&&(clearInterval(this.gcInterval),this.gcInterval=void 0)}};s();var Jh=class{constructor(o){this.branchesCache=Zr({getValue:async o=>{try{return await this.client.getBranch(o.contentId,o.branchId)}catch(e){if(e.statusCode===404)return;throw e}}});this.revisionsCache=Zr({getValue:async o=>{try{return await this.client.getRevision(o.contentId,o.revisionId)}catch(e){if(e.statusCode===404)return;throw e}}});this.branchesHistoryCache=Zr({getValue:async o=>await this.client.getBranchHistory(o.contentId,o.branchId,{page:o.initialRevisionId,limit:o.size,...o.git!==void 0?{git:o.git}:{}})});this.documentsCache=Zr({getValue:async o=>{try{return await this.client.getDocument(o.contentId,o.documentId)}catch(e){if(e.statusCode===404)return;throw e}},toJS:o=>o!==void 0?cI(o):"undefined",fromJS:o=>o!=="undefined"?sI(o):void 0});this.client=o}getBranchHistory(o,e,r){return vu(this.branchesHistoryCache.readCacheState({contentId:o,branchId:e,initialRevisionId:r.page,size:r.limit,...r.git!==void 0?{git:r.git}:{}}))}getBranchRevision(o,e){let r=this.client.sync.branch(o,e,{autoInit:!1});return r?r.revision:gg(vu(this.branchesCache.readCacheState({contentId:o,branchId:e})),n=>{if(n)return this.getRevision(o,n.revision)})}getBranchPageDocument(o,e,r){let n=this.client.sync.pageDocument(o,e,r,{autoInit:!1});return n?n.value.document:gg(vu(this.branchesCache.readCacheState({contentId:o,branchId:e})),i=>{if(i)return gg(this.getRevision(o,i.revision),a=>{if(a){let c=a.pages[r];return(c==null?void 0:c.type)!=="document"?void 0:c.document?this.getDocument(o,c.document):pu(c.id).document}})})}getRevision(o,e){return vu(this.revisionsCache.readCacheState({contentId:o,revisionId:e}))}getDocument(o,e){return vu(this.documentsCache.readCacheState({contentId:o,documentId:e}))}toJSON(){return{documents:this.documentsCache.toJS(),revisions:this.revisionsCache.toJS(),branches:this.branchesCache.toJS()}}fromJSON(o){o.documents&&this.documentsCache.fromJS(o.documents),o.revisions&&this.revisionsCache.fromJS(o.revisions),o.branches&&this.branchesCache.fromJS(o.branches)}};s();s();var mN=x(yp(),1);var ey=class{constructor(o,e,r,n,i){this.id=void 0;this.state=null;this.events=new mN.default;this.client=o,this.contentId=e,this.path=r,this.pathParams=n,i&&(this.id=i)}async start(o={}){if(this.id)throw new Error("Operation already started");let r=await(await this.client.request(this.contentId,this.path,{path:this.pathParams},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)})).json();return this.setState(r),r}async update(o){if(!this.id)throw new Error("Operation not started or HiveContentOperation() is called without an existing operation ID");let r=await(await this.client.request(this.contentId,this.path,{path:this.pathParams},{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({...o,id:this.id})})).json();return this.setState(r),r}async markAsSucceeded(){return this.update({status:2})}setState(o){this.id=o.id,this.state=o,this.events.emit("update",o)}listen(o){return this.events.on("update",o),()=>{this.events.off("update",o)}}};var _Y=lt("hive-client"),fN=typeof globalThis.window<"u"||!1,ty=class{constructor(o,e,r={}){this.isRunningAtEdge=fN;let n;this.getEndpoint=typeof o=="string"?()=>Promise.resolve(o):async()=>(n||(n=await o()),n),this.auth=new Zh(e),this.store=new Jh(this),this.sync=new Qh(this),this.clientId=ba(),r.locationHint&&(this.isRunningAtEdge=r.locationHint)}close(){this.sync.closeAll()}async clearAuthCache(){await this.auth.clearCache(),this.close()}getSocket(o,e,r,n){if(!this.isRunningAtEdge||!fN)throw new Error("HiveClient#getSocket can only be called from the edge");let i=async()=>{let a=gN(o,e,r),c=await this.auth.getToken(o),l=await this.getEndpoint(),u=new URL(a,l);if(u.protocol=u.protocol.replace("http","ws"),n)for(let[d,p]of Object.entries(n))u.searchParams.set(d,p);return u.searchParams.set("authToken",c),u.toString()};return new $h(i)}async getBranch(o,e){return await(await this.request(o,"/branches/:branchId",{path:{branchId:e}})).json()}async getBranchRevision(o,e,r){return await(await this.request(o,"/branches/:branchId/save",{path:{branchId:e},query:r?{mask:r.join(",")}:{}},{method:"POST"})).json()}async saveBranch(o,e){return{revisionId:(await this.getBranchRevision(o,e,["id"])).id}}async getBranchHistory(o,e,r={}){let{limit:n=10,page:i,git:a,refresh:c}=r;return await(await this.request(o,"/branches/:branchId/history",{path:{branchId:e},query:{limit:n.toString(),...i?{page:i}:{},...a!==void 0?{git:`${a}`}:{},...c!==void 0?{refresh:`${c}`}:{}}})).json()}async getRevision(o,e,r){return await(await this.request(o,"/revisions/:revisionId",{path:{revisionId:e},query:r?{mask:r.join(",")}:{}})).json()}getRevisionInfo(o,e){return this.getRevision(o,e,xI)}async mergeBranch(o,e){if(!this.isRunningAtEdge)throw new Error("HiveClient#mergeBranch can only be called from the edge");return await(await this.request(o,"/branches/:branchId/merge",{path:{branchId:e}},{method:"POST"})).json()}async rollbackBranch(o,e,r){await this.request(o,"/branches/:branchId/rollback",{path:{branchId:e}},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})}async updateBranch(o,e){return await(await this.request(o,"/branches/:branchId/update",{path:{branchId:e}},{method:"POST"})).json()}async checkoutBranch(o,e,r,n={}){return(await this.request(o,"/branches/:branchId/checkout",{path:{branchId:e}},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...PY(n.operationId)},body:JSON.stringify(r)})).json()}async getDocument(o,e){let n=await(await this.request(o,"/documents/:documentId",{path:{documentId:e}},{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).arrayBuffer();return AS(new Uint8Array(n))}async getPageDocument(o,e,r){if(!this.isRunningAtEdge)throw new Error("HiveClient#getPageDocument can only be called from the edge");let i=await(await this.request(o,"/branches/:branchId/pages/:pageId/document",{path:{branchId:e,pageId:r}})).arrayBuffer();return AS(new Uint8Array(i))}async createDocument(o,e,r={}){return await(await this.request(o,"/documents",{query:r.documentId?{documentId:r.documentId}:{}},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/octet-stream"},body:lI(r.skipNormalization?e:CI(e),{preserveKeys:!0})})).json()}async createRevision(o,e){return await(await this.request(o,"/revisions",{},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}getContentOperation(o,e,r,n){return new ey(this,o,e,r,n)}getBranchContentOperation(o,e,r){return this.getContentOperation(o,"/branches/:branchId/operation",{branchId:e},r)}async createFileBlob(o,e,r){let n=await this.request(o,"/blobs",{query:{name:e.name}},{method:"POST",headers:{Accept:"application/json","Content-Type":e.contentType},body:r}),{blobId:i}=await n.json();return{blobId:i,downloadURL:YL(await this.getEndpoint(),o,{blobId:i,name:e.name})}}async updateRevisionMetadata(o,e,r){return await(await this.request(o,"/revisions/:revisionId",{path:{revisionId:e}},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()}async duplicateContent(o,e){return(await this.request(o.contentId,"/branches/:branchId/duplicate",{path:{branchId:o.branchId}},{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({origin:e,page:o.pageId})})).json()}async triggerAlarm(o,e={force:!1}){o.pageId?await this.request(o.contentId,"/branches/:branchId/pages/:pageId/document/alarm",{path:{branchId:o.branchId,pageId:o.pageId},query:{force:String(e.force)}},{method:"POST"}):await this.request(o.contentId,"/branches/:branchId/alarm",{path:{branchId:o.branchId},query:{force:String(e.force)}},{method:"POST"})}async request(o,e,r,n={},i={}){let{retries:a=3}=i,{path:c={},query:l={}}=r,u=ba(),d=new Ni(`hive:request:${(n.method||"GET").toLowerCase()}:${e}`);return d.label("contentId",o),d.setLabels({requestId:u,clientId:this.clientId,locationHint:this.isRunningAtEdge,...r}),d.wrap(async()=>{let p=gN(o,e,c),m=await this.auth.getToken(o),f=await this.getEndpoint(),h=new URL(p,f);h.search=new URLSearchParams(l).toString();let y=new Headers(n.headers||{});y.set("Authorization",`Bearer ${m}`),y.set("X-Request-Id",u),y.set("X-Client-Id",this.clientId),typeof this.isRunningAtEdge=="string"&&y.set("X-Hive-Location-Hint",this.isRunningAtEdge);let w=await hN(()=>fetch(h.toString(),{...n,headers:y}),a),C=w.headers.get("cf-ray");if(d.label("rayId",C),!w.ok)try{let k="";try{k=(await w.clone().json()).error.message}catch(_){k=`Unexpected text response: ${await w.text()}`}throw Di.fromStatusCode(w.status,k)}catch(k){throw k.statusCode?k:new Error(`Unexpected response with status code ${w.status}: ${k.message}`)}return w})}};function gN(t,o,e){for(let[r,n]of Object.entries(e))o=o.replace(`:${r}`,n);return`content/${t}${o}`}function PY(t){return t?{"X-Content-Operation-Id":t}:{}}async function hN(t,o=3,e=500){if(o<=0)return t();try{let r=await t();if(r.status===504||r.status===503)throw Di.fromStatusCode(r.status,r.statusText);return r}catch(r){if(_Y.error("retry because of error",r,{attemptsLeft:o,delay:e}),o>0)return await new Promise(n=>setTimeout(n,e)),hN(t,o-1,e*2);throw r}}function ix(t){let{children:o}=t,e=oy.useMemo(()=>{if(t.client)return t.client;let r=new ty(t.endpoint,t.fetchContentAuthToken);return t.store&&r.store.fromJSON(t.store),r},[t.client,t.endpoint,t.fetchContentAuthToken,t.store]);return oy.createElement(y_.Provider,{value:e},o)}s();var ju=x(O());var RY=ju.createContext(null);function Ut(){return ju.useContext(RY)}s();var yN=x(O());function vN(t){let e=Se().sync.pageDocument(t.branch.contentId,t.branch.branchId,t.pageId),r=e.open(t.presence);if(r)throw r;return yN.useEffect(()=>{let n=e.keepAlive();return()=>{e.dataSync.state==="open"&&e.dataSync.setPresence({positions:{}}),n()}},[e]),e}s();var mc=x(O());function bN(t){let o=mc.useMemo(()=>({getCurrentValue:()=>t.value,subscribe:a=>t.listen("value",a)}),[t]),e=mc.useMemo(()=>({getCurrentValue:()=>t.selections,subscribe:a=>t.listen("selections",a)}),[t]),r=mc.useSyncExternalStore(o.subscribe,o.getCurrentValue),n=mc.useSyncExternalStore(e.subscribe,e.getCurrentValue),i=mc.useCallback(a=>{t.applyChange(a)},[t]);return[r,n,i]}s();var ry=x(O());function SN(t){let o=t.dataSync,e=ry.useMemo(()=>({getCurrentValue:()=>o.presences,subscribe:r=>o.listen("presences",r)}),[o]);return ry.useSyncExternalStore(e.subscribe,e.getCurrentValue)}s();var wN=x(O());function CN(t){return wN.useMemo(()=>({onKeyDown(o,e){if(YS.isRedo(o))return t.redo(),o.preventDefault(),e;if(YS.isUndo(o))return t.undo(),o.preventDefault(),e}}),[t])}s();var ax=x(O());function xN(t){let o=ax.default.useMemo(()=>({getCurrentValue:()=>{if(t)return t.clock},subscribe:e=>t?t.listen("update",e):()=>{}}),[t]);return ax.default.useSyncExternalStore(o.subscribe,o.getCurrentValue,()=>{})}s();function kN(t){let{r:o,g:e,b:r}=w_(t);return Math.sqrt(.299*(o*o)+.587*(e*e)+.114*(r*r))}function Ea(t){return kN(t)>150?"light":"dark"}function ny(t){let o=kN(t);return o>240?"lightest":o>215?"light":o>190?"semiLight":o>165?"medium":o>140?"semiDark":o>115?"dark":"darkest"}s();var Yu=x(O()),iy=x(DF());function ON(t=2e3){let[o,e]=Yu.useState(!1),r=Yu.useRef(null);return Yu.useEffect(()=>(!o&&typeof window<"u"&&(r.current=setTimeout(()=>(0,iy.unstable_runWithPriority)(iy.unstable_IdlePriority,()=>e(!0)),t)),()=>{r.current&&clearTimeout(r.current)}),[]),o}s();var IN=x(O());function _N(){let t=IN.useRef();return bu(()=>{t.current=window},[]),t}s();var $u=x(O());function PN(){let t=$u.useRef(new WeakMap);return $u.useCallback(o=>(t.current.has(o)||t.current.set(o,$u.createRef()),t.current.get(o)),[])}s();var RN=x(O());function ay(t,o){let e=bo(t);RN.default.useEffect(()=>{let r=()=>e.current(),n=window.setTimeout(r,o);return()=>window.clearTimeout(n)},[o])}s();var um=x(O());s();var EN=x(O());function sy(t,o=500){let e=EN.useRef(0);return r=>e.current&&Date.now()-e.current<o?(t(r),e.current=0,!0):(e.current=Date.now(),!1)}s();var TN=x(O());function MN(t,o){let{scope:e=document,exact:r=!1}=o||{},n=bo(t);TN.useEffect(()=>{if(!t)return;let i=a=>{var l;(r?a.target===e:e.contains(a.target))&&a.key==="Tab"&&(a.defaultPrevented||a.preventDefault(),(l=n.current)==null||l.call(n,a.shiftKey))};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[n,!!t,e,r])}function LN(t){let{anchor:o,children:e,wrapper:r,onClose:n,...i}=t,a=um.useRef(null);return Ks({...i,onClose:n},a),um.createElement(Ca,{ref:a,opened:i.opened,anchor:o,wrapper:r},um.createElement(xg.Provider,{value:n},e))}s();var Ta=x(O());G();function cy(t,o={}){let e=Ta.createContext(null);function r(i){let{children:a,...c}=i,l=typeof t=="object"?t:t(i),[u,d]=Ta.useState(l),[p,m]=Ta.useState(!1),f=h=>{let{layout:y}=h.nativeEvent;(!u||o.width!==!1&&y.width!==u.width||o.height!==!1&&y.height!==u.height)&&(d(y),m(!0))};return Ta.createElement(e.Provider,{value:{ready:p,dimensions:u}},Ta.createElement(S,{...c,onLayout:f},a))}function n(){let i=Ta.useContext(e);if(!i||!i.dimensions)throw new Error("Dimensions not available");return[i.dimensions,i.ready]}return{View:r,useDimensions:n}}s();var vl=x(O());G();s();var ly=x(O());G();var EY=Z.createResponsiveComponent(Ve);function DN(t){let[,o]=I(LY),{close:e}=wo(),r=Su()==="mobile",n=t.closeable||r,i=()=>{t.onClose&&t.onClose(),e(t.id)},a=Us({mount:TY,unmount:MY});return ly.createElement(S,{ref:a},ly.createElement(EY,{mobileStyle:o.toastMobile,desktopStyle:o.toastDesktop,onPress:()=>{t.onOpen&&t.onOpen(),n&&i()}},ly.createElement(vi,{...t,onClose:n?i:void 0,style:o.alert,mainBackground:!0})))}var TY={duration:zi.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},MY={duration:zi.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},LY=z.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:g.small},toastMobile:{width:"100%",minWidth:0},alert:t=>({...t.shadows.pop,borderColor:t.colors.border.main})});function AN(t){let o=Hr(K_),e=Hr(H_),r=vl.useRef(null),n=NY[o];return vl.createElement(yn,{ref:r},vl.createElement(Z.View,{style:[DY.toaster],mobileStyle:n.mobile,desktopStyle:n.desktop},vl.createElement(W_,null,e.map(i=>vl.createElement(DN,{...i,key:i.id})))))}var DY=Q.create({toaster:{position:"fixed",zIndex:200}}),NY={"bottom-right":Q.create({desktop:{bottom:g.medium,right:g.medium},mobile:{bottom:g.medium,right:g.medium,left:g.medium}}),"bottom-right-with-bar":Q.create({desktop:{bottom:g.xxlarge,right:g.medium},mobile:{bottom:g.xxlarge+g.xlarge+g.medium,right:g.medium,left:g.medium}})};s();var Xn=x(O());G();var AY=H.createInteractiveComponent(zn);function Ma(t){let{icon:o,title:e,subtitle:r,details:n,style:i,buttons:a=[],...c}=t,[,l]=I(B);return Xn.createElement(us,{style:[b.alignCenter,g.Padding.medium,i],...c},o?Xn.createElement(BY,{icon:o}):null,Xn.createElement(S,{style:[b.flex1]},Xn.createElement(S,{style:[b.directionRow,b.alignCenter]},Xn.createElement(AY.Child,{style:[l.Body,l.Medium,l.text],activeStyle:l.primary,descendantOf:us.interactiveHandle},e),r?Xn.createElement(zn,{style:[l.Label,l.textMuted,g.Margin.mediumLeft]},r):null),n?Xn.createElement(S,null,Xn.createElement(F,{style:[l.Label,l.textMid]},n)):null),a.length>0?Xn.createElement(S,{style:[b.directionRow,b.alignCenter,g.Margin.mediumLeft]},a.map((u,d)=>u?Xn.createElement(S,{style:[g.Margin.smallLeft],key:d},u):null)):null)}function BY(t){let{icon:o}=t,[,e]=I(B),r=H.useInteractiveComponent(o);return Xn.createElement(S,{style:[g.Margin.mediumRight]},Xn.createElement(r.Child,{size:M.S,style:[e.textMuted],hoverStyle:e.primary}))}s();async function BN(t){let o=()=>{let r=t;for(;r&&(r=r.parentElement,!(r===document.querySelector("body")||r!=null&&r.hasAttribute("data-virtualparent"))););return r},e;return new Promise(r=>{let n=o();if(!n||!n.firstChild)return;let i=()=>{e.disconnect(),r()},a=!1;e=new IntersectionObserver(l=>{let[u]=l;u.isIntersecting&&requestAnimationFrame(()=>{i(),a=!0})},{rootMargin:"-50% 0% -50% 0%"});let c=()=>{Mg(n,{scrollMode:"if-needed",block:"center",inline:"center",behavior:"smooth"}),setTimeout(()=>{a||c()},500)};c(),e.observe(n)})}s();var dx=x(O());s();var Zt=x(O());G();s();var nt=x(O());G();s();var Ee=x(O());G();var qN=Ee.forwardRef(function(o,e){let{command:r,query:n,active:i,executeCommand:a,onHoverIn:c}=o,[l,u]=I(B),[,d]=I(qY),[p,m]=Sr(!1),f=u.text,h=u.textMid,y=u.primary,w=l.colors.background.main;i&&(f=u.textStandout,h=u.textMid,w=l.colors.background.muted);let C=[u.Bold],k=Ee.useCallback(()=>{let R=a(r);R instanceof Promise&&m(()=>R)},[r,a]),_=Ee.useCallback(()=>c(r),[r,c]),P=H.useInteractiveState({onHoverIn:_});return Ee.createElement(hn,{ref:e,component:Ve,...P.events,onMouseDown:R=>{R.preventDefault()},onPress:k,backgroundColor:w,style:[b.directionRow,b.alignCenter,d.commandItem,g.Margin.smallHorizontal,g.Padding.xsmallVertical,g.Padding.smallHorizontal,{height:sx(r)}],testID:r.testID},p?Ee.createElement(S,{style:[g.Padding.mediumRight]},Ee.createElement(Ie,{size:"medium"})):r.icon?Ee.createElement(S,{style:[g.Padding.mediumRight]},Ee.createElement(Ee.Suspense,{fallback:Ee.createElement(S,{style:{width:M.ICON_M,height:M.ICON_M}})},Ee.createElement(r.icon,{size:M.ICON_M,style:y}))):null,Ee.createElement(S,{style:b.flex1},Ee.createElement(S,{style:b.directionRow},Ee.createElement(S,{style:b.flex1},r.title?Ee.createElement(S,null,Ee.createElement(F,{style:[u.Label,f,r.subtitle?u.Bold:u.Medium],numberOfLines:1},Ee.createElement(Bg,{query:n,text:r.title,highlight:C}))):null,r.subtitle?Ee.createElement(S,null,Ee.createElement(F,{style:[u.Caption,h],numberOfLines:1},Ee.createElement(Bg,{query:n,text:r.subtitle,highlight:C}))):null)),r.body?Ee.createElement(S,{style:[d.commandBody,g.Padding.smallLeft,g.Margin.smallTop]},r.body.map((R,T)=>Ee.createElement(S,{key:T},Ee.createElement(F,{style:[u.Caption,u.textMid],numberOfLines:1},Ee.createElement(Bg,{query:n,text:R,highlight:C}))))):null),r.label?Ee.createElement(S,null,Ee.createElement(G_,{size:"medium",kind:r.label.kind,icon:r.label.icon},r.label.title)):Ee.createElement(Ee.Fragment,null,r.descendant?Ee.createElement(S,{style:[g.Padding.mediumLeft]},Ee.createElement(v.ChevronRight,{size:M.ICON_S,style:[u.textMuted]})):null,r.type===1?Ee.createElement(S,{style:[g.Padding.mediumLeft]},Ee.createElement($s,{value:r.selected,onValueChange:k,size:M.ICON_S})):null,r.type===0?Ee.createElement(S,{style:[g.Padding.mediumLeft]},Ee.createElement(Ag,{value:r.selected,onValueChange:k,size:M.ICON_S})):null,r.type===2?Ee.createElement(S,{style:[g.Padding.mediumLeft]},Ee.createElement(Ng,{value:r.enabled,onValueChange:()=>{}})):null))});function sx(t){let o=0;return o+=2*g.small,o+=Math.max(t.title&&Ye.Label.lineHeight||0,t.icon?M.ICON_M:0,typeof t.selected=="boolean"||typeof t.enabled=="boolean"?M.ICON_S:0),t.subtitle&&(o+=Ye.Caption.lineHeight||0),t.body&&(o+=g.small,o+=t.body.length*(Ye.Caption.lineHeight||0)),o}var qY=z.create({commandItem:t=>({borderRadius:t.radiuses.medium}),commandBody:t=>({borderLeftWidth:1,borderLeftColor:t.colors.border.mid})});s();function uy({getItemHeight:t,getItemSeparatorHeight:o=()=>0,getSectionSeparatorHeight:e=()=>0,getSectionHeaderHeight:r=()=>0,getSectionFooterHeight:n=()=>0,listHeaderHeight:i=0,stickySectionHeadersEnabled:a}){return(c,l)=>{let u=0,d=typeof i=="function"?i():i,p=0,m=c.length;for(let f=0;f<m&&(p<l||f===0);f++){let h=c[f],y=c[f].data,w=y.length,C=c[f-1],k=c[f+1],_={section:h,index:f},P=e({section:h,index:f,leadingItem:void 0,trailingItem:y[0],leadingSection:C,trailingSection:k});d+=u+P+(a&&f===1?r({section:c[0],index:0}):0),u=a&&f===0?0:r(_),f!==0&&p++;for(let R=0;R<w&&(p<l||f===0&&R===0);R++){d+=u;let T=y[R],E=R>0&&R<w-1?o({item:T,section:h,index:R,leadingItem:y[R-1],trailingItem:y[R+1],leadingSection:C,trailingSection:k}):0;u=t({item:T,section:h,index:R})+E,p++}if(p<l&&(d+=e({section:h,index:f,leadingItem:y[y.length-1],trailingItem:void 0,leadingSection:C,trailingSection:k})),p<l){let R=e({section:h,index:f,leadingItem:y[y.length-1],trailingItem:void 0,leadingSection:C,trailingSection:k});d+=u+R,u=n(_),p++}}return{index:l,length:u,offset:d}}}function WN(t){var V;let{computed:{listId:o,items:e,sections:r,areMoreLoading:n},withKeyboardInteractions:i,palette:a,setPalette:c,setTopPalette:l}=t,u=Su(),d=nt.useRef(null),p=PN(),m=nt.useCallback(async q=>{let Y=await dP(a,q);Y?c(Y):l(null)},[c,l]),f=nt.useCallback(q=>{c(Y=>{if(!Y)return null;let te=p(q),X=pP(Y,q,te);return X||(Y.descendant?{...Y,descendant:void 0}:Y)})},[c,p]),h=nt.useCallback(()=>{c(q=>q!=null&&q.parent?null:q)},[c]),y=nt.useCallback(q=>{let Y=-1;return{sectionIndex:r.findIndex(X=>(Y=X.data.findIndex(re=>re.key===q),Y>=0)),itemIndex:Y,viewPosition:.5}},[r]),w=nt.useCallback(q=>{var Y;return(Y=d.current)==null?void 0:Y.scrollToLocation(y(q.key))},[y]),C=fP({active:i,items:e,onSelect:m,onOpen:f,onClose:h,scrollTo:w}),k=r.length>1,_=nt.useCallback(q=>{C.hoverItem(q),f(q)},[C.hoverItem,f]),P=nt.useMemo(()=>uy({getItemHeight:({item:q})=>sx(q),getSectionSeparatorHeight:({section:q,leadingItem:Y,leadingSection:te,trailingItem:X,trailingSection:re})=>te&&!Y&&!q.group.title?2*(g.small-1)+1:re&&!X?M.S/4:0,getSectionHeaderHeight:({section:q})=>k&&q.group.title?M.S:0}),[k]),R=nt.useMemo(()=>k?({section:q})=>q.group.title?nt.createElement(FY,{group:q.group}):null:void 0,[k]),T=nt.useCallback(q=>nt.createElement(zY,{...q}),[]),E=nt.useCallback(({item:q})=>{var Y;return nt.createElement(qN,{ref:p(q),active:u==="desktop"&&q.key===((Y=C.cursor.current)==null?void 0:Y.key),command:q,query:a.query.text,executeCommand:m,onHoverIn:_})},[m,p,(V=C.cursor.current)==null?void 0:V.key,_,u,a.query.text]),A=n;if(!A&&e.length===0){let q=a.placeholder||(Cp(a)?null:"No items found");return q?nt.createElement(WY,{placeholder:q}):null}return nt.createElement(S,{style:[b.flex1]},nt.createElement(Ef,{key:o,ref:d,sections:r,extraData:C.cursor,getItemLayout:P,renderItem:E,SectionSeparatorComponent:T,renderSectionHeader:R,contentContainerStyle:[g.Padding.smallVertical],ListFooterComponent:A?nt.createElement(S,{style:[b.directionRow,b.justifyContentCenter,g.Padding.medium]},nt.createElement(Ie,{size:"large"})):null}))}function WY(t){let{placeholder:o}=t,[,e]=I(B);return nt.createElement(S,{style:[g.Padding.smallHorizontal,g.Padding.mediumVertical]},nt.createElement(S,{style:[g.Padding.mediumHorizontal]},nt.createElement(F,{style:[e.Caption,e.textMuted]},o)))}function FY(t){let{group:o}=t,[,e]=I(B);return nt.createElement(S,{style:[VY.paletteGroupHeader,b.directionRow,b.alignCenter,g.Padding.smallHorizontal]},nt.createElement(S,{style:[g.Padding.smallHorizontal]},nt.createElement(F,{style:[e.GroupTitle,e.textMuted]},o.title)))}function zY(t){let{leadingSection:o,section:e,leadingItem:r,trailingSection:n,trailingItem:i}=t,[,a]=I(GY);return o&&!r&&!e.group.title?nt.createElement(S,{style:a.paletteDividerUntitled}):(n&&!i&&(S,a.paletteDividerFooter),null)}var VY=Q.create({paletteGroupHeader:{height:M.S}}),GY=z.create({paletteDividerUntitled:(t,o)=>({marginTop:g.small-1,marginBottom:g.small-1,borderTopColor:o.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:M.S/4}});s();var Zu=x(O());G();function FN(t){let{error:o}=t,[,e]=I(B);return console.error(o),Zu.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.smallVertical,g.Padding.mediumHorizontal]},Zu.createElement(S,{style:[g.Padding.mediumRight,g.Padding.xsmallTop]},Zu.createElement(v.Warning,{size:M.ICON_S,style:e.danger})),Zu.createElement(S,{style:[b.flex1,b.directionRow,b.alignCenter]},Zu.createElement(F,{style:[e.danger,e.Label]},ga(o))))}s();var xn=x(O());G();var zN=xn.forwardRef(function(o,e){let{palette:r,setPalette:n,withItems:i,placement:a}=o,[,c]=I(HY),[l,u]=I(B),[d,p]=Hs(r.query.text,[r]),m=h=>{p(h),n(y=>!r||!y?r:Zs({...y,descendant:void 0},h))},f=h=>{(h.nativeEvent.key==="Escape"||h.nativeEvent.key==="Backspace"&&r.query.text.length===0)&&n(null)};return xn.createElement(S,{style:i&&c.paletteInputWrapperWithBottomBorder},xn.createElement(S,{style:[b.directionRow,b.alignCenter]},r.parent&&a==="right"?xn.createElement(S,{style:[g.Padding.smallLeft]},xn.createElement(v.ChevronLeft,{size:M.ICON_M,style:u.textMuted})):null,xn.createElement(S,{style:[b.flex1,b.directionRow,b.alignCenter,c.paletteInput,g.Margin.small]},xn.createElement(S,{style:[b.flex1]},xn.createElement(ai,{ref:e,value:d,placeholder:r.search,placeholderTextColor:l.colors.text.muted,onChangeText:m,onKeyPress:f,style:[u.Caption,u.text,g.Padding.mediumHorizontal,g.Padding.smallVertical]})),xn.createElement(Z.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[g.Margin.smallHorizontal]},xn.createElement(W,{icon:v.X,size:"large",onPress:()=>n(null)}))),r.parent&&a==="left"?xn.createElement(S,{style:[g.Padding.smallRight]},xn.createElement(v.ChevronRight,{size:M.ICON_M,style:u.textMuted})):null))}),HY=z.create({paletteInputWrapperWithBottomBorder:(t,o)=>({borderBottomColor:o.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:t=>({backgroundColor:t.colors.background.muted,borderRadius:t.radiuses.large})});s();var Qu=x(O());function VN(t){let[o,e]=Qu.useState(!1),r=vp(()=>new WeakMap),n=Qu.useRef(null);return Qu.useMemo(()=>{let i=[],a=[],c;t.groups.forEach(d=>{let p;try{p=KY(t,d)}catch(m){c=m;return}if(p instanceof Promise){let m=r.current.get(d);m&&i.push(m),a.push(p)}else p&&(r.current.set(d,p),i.push(p))});let l=i.filter(d=>d.data.length>0).sort((d,p)=>d.priority>p.priority?-1:d.priority<p.priority?1:0),u=l.reduce((d,p)=>(d.push(...p.data),d),[]);if(a.length>0){e(!0);let d=n.current=Promise.all(a);d.then(()=>{d===n.current&&(e(!1),n.current=null)}).catch(p=>Nf(new Error(p)))}return{listId:Date.now(),items:u,sections:l,areMoreLoading:o,error:c}},[t.groups,t.query,o,r])}function KY(t,o){try{let e=typeof o.commands=="function"?o.commands(t):o.commands,r=typeof o.commands!="function"||o.commands.length===0,n=o.priority||5;if(r){let i=XY(t.query.text,e);n=i.reduce((a,c)=>typeof c.score<"u"?Math.max((1-c.score)*10,a):a,n),e=i.map(a=>a.item)}return{group:o,priority:n,data:e}}catch(e){if(e instanceof Promise)return e;throw e}}function XY(t,o){return t?new hu(o,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(t):o.map(r=>({item:r,score:void 0}))}s();var ux=x(zf()),fy=x(O());var cx=204,dy=246,lx=384,UY=630,py=180,my=355;function GN(t,o,e){let r=fy.useMemo(()=>YY(o,e),[o.position,!!o.parent,e]),n=fy.useCallback(l=>jY(l,o.position),[o.position]),[i,a,c]=E_(t,n,r);return[i,a,c]}function jY(t,o){let e,r=(o==null?void 0:o.width)||"medium";switch(r){case"small":e={width:cx,maxWidth:cx,minWidth:cx,minHeight:0,height:py,maxHeight:my};break;case"medium":e={width:dy,maxWidth:dy,minWidth:dy,minHeight:0,height:py,maxHeight:my};break;case"large":e={width:lx,maxWidth:lx,minWidth:lx,minHeight:0,height:py,maxHeight:my};break;case"anchor":let n=Math.max(dy,t.width),i=(0,ux.default)(t.width,n,UY);e={width:(0,ux.default)(t.width,n,i),maxWidth:i,minWidth:n,minHeight:0,height:py,maxHeight:my};break;default:qe(r)}return e}function YY(t,o){var r,n;let e={cover:(r=t.position)==null?void 0:r.cover,spacingWithAnchor:g.small};return t.parent?(e.offset={top:-g.small},e.spacingWithAnchor=g.medium,e.allowedPlacements=o==="left"?["left","right"]:["right","left"]):((n=t.position)==null?void 0:n.width)==="anchor"&&(e.allowedPlacements=["bottom","top"]),e}var $Y=Z.createResponsiveComponent(hn);function HN(t){let{paletteState:{palette:o},setPaletteState:e}=t,r=Zt.useRef(null),[,n]=I(XN),i=()=>e(null),a=Us(zi.fade),c=__("OUTSIDE_CLICK");return Ks({opened:!0,closeOnEsc:!Cp(o),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:i},r),I_(),Zt.createElement(yn,{ref:r},Zt.createElement(mo,{onPressIn:()=>{c&&i()}},Zt.createElement(S,{ref:a,style:[n.paletteBackdrop]},Zt.createElement(KN,{...t,setTopPaletteState:e}))))}function KN(t){let{paletteState:{palette:o,anchorRef:e},setPaletteState:r,setTopPaletteState:n,parentPlacement:i}=t,[a,c]=GN(e,o,i),l=Us(zi.slideToL[c]);return Zt.createElement(Zt.Fragment,null,Zt.createElement(ZY,{ref:l,palette:o,setPalette:p=>{r(m=>{if(!m)return null;let f=typeof p=="function"?p(m.palette):p;return f?{...m,palette:f}:null})},setTopPalette:p=>{n(m=>{if(!m)return null;let f=typeof p=="function"?p(m.palette):p;return f?{...m,palette:f}:null})},positionStyle:a,placement:c}),o.descendant?Zt.createElement(KN,{paletteState:o.descendant,setTopPaletteState:n,setPaletteState:p=>{r(m=>m?{...m,palette:{...m.palette,descendant:(typeof p=="function"?p(m.palette.descendant||null):p)||void 0}}:null)},parentPlacement:c}):null)}var ZY=Zt.forwardRef(function(o,e){let{palette:r,setPalette:n,setTopPalette:i,positionStyle:a,placement:c}=o,l=Zt.useRef(null),[u,d]=I(XN),p=VN(r),m=!r.descendant;return Zt.useEffect(()=>{if(r.descendant)return;let f=l.current;f&&(document.activeElement===f||(f.select(),f.focus()))},[r]),Zt.createElement(mo,{onPress:f=>f.preventDefault()},Zt.createElement($Y,{ref:e,backgroundColor:u.colors.background.main,style:[d.palette],mobileStyle:d.paletteMobile,desktopStyle:[d.paletteInline,a],onStartShouldSetResponder:()=>!0},Cp(r)?Zt.createElement(zN,{ref:l,palette:r,setPalette:n,withItems:p.items.length>0,placement:c}):null,p.error?Zt.createElement(FN,{error:p.error}):Zt.createElement(WN,{computed:p,palette:r,withKeyboardInteractions:m,setPalette:n,setTopPalette:i})))}),XN=z.create({paletteBackdrop:t=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:"transparent"}),palette:t=>({borderRadius:t.radiuses.xlarge,borderColor:t.colors.border.main,borderWidth:1,overflow:"hidden",...t.shadows.pop}),paletteMobile:{position:"absolute",marginTop:0,top:g.small,left:g.small,right:g.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});function UN(t){let[o,e]=Kr(uP);return dx.createElement(B_,null,o?dx.createElement(HN,{paletteState:o,setPaletteState:e}):null)}s();var jN=x(O());var QY=[il["1f44d"],il["1f389"],il["1f604"],il["1f602"],il["1f44f"],il["1f44e"]];function Ju(t,o={}){let{withSearch:e=!0,max:r=5}=o;return ce({search:e?"Select an emoji\u2026":void 0,groups:[{key:"emojis",commands:n=>(n.query.text?Yh(n.query.text):QY).slice(0,r).map(a=>({key:a.code,title:a.shortname,icon:c=>jN.createElement(Ao,{...c,code:a.code}),trigger:()=>t(a.code)}))}]})}s();var fc=x(O());G();var Os=fc.forwardRef(function(o,e){let{displayMode:r="inline",value:n,style:i,placeholder:a,readOnly:c,onChangeText:l,...u}=o,[d]=I(),p=!c&&l,m=fc.useMemo(()=>p&&r==="inline"?Dg(n||a||"",Q.flatten([i])):0,[r,n,a,i,p]);if(!p){let f=fc.createElement(F,{style:[i],selectable:!0},n);return r==="inline"?f:fc.createElement(S,{style:YN.inputModeBlock},f)}return fc.createElement(ai,{ref:e,placeholderTextColor:d.colors.text.muted,...u,value:n,onChangeText:l,placeholder:a,style:[i,r==="inline"?{width:m}:YN.inputModeBlock]})}),YN=Q.create({inputModeBlock:{width:"100%"}});s();var gy=[{key:"blue",color:$.primary.base,title:"Blue"},{key:"purple",color:$.violet.base,title:"Purple"},{key:"orange",color:$.orange.base,title:"Orange"},{key:"red",color:$.scarlet.base,title:"Red"},{key:"yellow",color:$.YELLOW,title:"Yellow"},{key:"green",color:$.green.base,title:"Green"}],hy=[{key:"blue",color:$.primary.xlight,title:"Blue"},{key:"purple",color:$.violet.xlight,title:"Purple"},{key:"orange",color:$.orange.xlight,title:"Orange"},{key:"red",color:$.scarlet.xlight,title:"Red"},{key:"yellow",color:$.YELLOW_XXLIGHT,title:"Yellow"},{key:"green",color:$.green.xlight,title:"Green"}],BPe=[$.primary.light,$.violet.light,$.fuchsia.light,$.scarlet.light,$.orange.light,$.green.light];s();var Ke=x(O());G();s();var e6=9,mx=lg.reduce((t,o)=>{let e=t.find(n=>n.key===o.category);if(!e)return console.warn("Unknown emoji category","emoji"),t;(!e.data.length||e.data[e.data.length-1].emojis.length===e6)&&e.data.push({key:"",emojis:[]});let r=e.data[e.data.length-1];return r.key+=o.code,r.emojis.push(o),t},[{key:"people",title:"People",Icon:v.EmojiReaction,data:[]},{key:"nature",title:"Nature",Icon:v.RoleEditor,data:[]},{key:"food",title:"Food",Icon:v.Food,data:[]},{key:"activity",title:"Activity",Icon:v.Music,data:[]},{key:"travel",title:"Travel",Icon:v.EmojiBike,data:[]},{key:"objects",title:"Objects",Icon:v.EmojiWatch,data:[]},{key:"symbols",title:"Symbols",Icon:v.HeartOutlined,data:[]},{key:"flags",title:"Flags",Icon:v.EmojiFlag,data:[]}]);function t6(t){let o=Yh(t);return{key:"search",title:"Results",data:c$(o,e6),Icon:v.Search}}function c$(t,o){let e=t.length;if(e===0)return[];let r=Math.ceil(e/o);return Array.from({length:r},(n,i)=>{let a=i*o,c=t.slice(a,a+o);return{key:c.map(l=>l.code).join("-"),emojis:c}})}function vy(t){let{onPick:o,onRemove:e}=t,[r,n]=Ke.useState(""),[i,a]=Ke.useState(""),c=Ke.useRef(null);Ke.useEffect(()=>{let u=requestAnimationFrame(()=>{c.current&&c.current.focus()});return()=>{cancelAnimationFrame(u)}},[c]);let l=u=>{n(u),a(u)};return Ke.createElement(S,{style:dm.emojiPicker},Ke.createElement(S,{style:[dm.emojiPickerSearch,b.directionRow]},Ke.createElement(no,{kind:"search",size:"medium",ref:c,icon:v.Search,placeholder:"Search",value:r,onChangeText:l,cleareable:!0,style:b.flex1}),e?Ke.createElement(W,{icon:v.Trashcan,onPress:e,title:"Remove Emoji",size:"medium",kind:"secondary",style:g.Margin.smallLeft}):null),Ke.createElement(d$,{query:i,onPick:o}))}var l$=uy({getItemHeight:()=>yy,getSectionHeaderHeight:()=>o6,stickySectionHeadersEnabled:!0}),u$=({section:t})=>Ke.createElement(p$,{category:t}),d$=Ke.memo(function(o){let{query:e,onPick:r}=o,n=Ke.useRef(null),i=e?[t6(e)]:mx,a=l=>{n.current&&n.current.scrollToLocation({sectionIndex:l,itemIndex:0})},c=Ke.useCallback(({item:l})=>Ke.createElement(m$,{row:l,onPick:r}),[r]);return Ke.createElement(Ke.Fragment,null,!e&&Ke.createElement(S,{style:dm.emojiPickerCategories},mx.map((l,u)=>Ke.createElement(W,{key:l.key,icon:l.Icon,onPress:()=>{a(u)}}))),Ke.createElement(Ef,{ref:n,sections:i,stickySectionHeadersEnabled:!0,renderItem:c,renderSectionHeader:u$,getItemLayout:l$}))}),p$=Ke.memo(function(o){let{category:e}=o,[,r]=I(r6),[,n]=I(B);return Ke.createElement(S,{style:[r.emojiCategoryHeader]},Ke.createElement(F,{style:[n.GroupTitle,n.text]},e.title))},(t,o)=>t.category.title===o.category.title),m$=Ke.memo(function(o){let{row:e,onPick:r}=o;return Ke.createElement(S,{style:dm.emojiRow},e.emojis.map(n=>Ke.createElement(f$,{key:n.code,code:n.code,onPick:r})))},(t,o)=>t.row.key===o.row.key&&t.onPick===o.onPick),f$=Ke.memo(function(o){let{code:e,onPick:r}=o,[,n]=I(r6);return Ke.createElement(H.TouchableOpacity,{onPress:()=>r(e),style:[dm.emojiItem],activeStyle:n.emojiItemHovered},Ke.createElement(Ao,{code:e,size:24}))}),yy=40,o6=26,r6=z.create({emojiCategoryHeader:t=>({height:o6,backgroundColor:t.colors.background.main,paddingLeft:g.medium,paddingRight:g.medium,paddingTop:g.small,paddingBottom:g.small}),emojiItemHovered:t=>({backgroundColor:t.colors.itemHover})}),dm=Q.create({emojiPicker:{display:"flex",width:376,height:314},emojiPickerSearch:{padding:g.small},emojiPickerCategories:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:g.small,paddingBottom:0,paddingTop:0},emojiRow:{display:"flex",flexDirection:"row",paddingLeft:g.small,paddingRight:g.small},emojiItem:{width:yy,height:yy,borderRadius:yy,display:"flex",alignItems:"center",justifyContent:"center",outlineStyle:"none"}});s();var pm=x(O());s();var Is=JSON.parse('{"container":"container_UPXwU","darkestParentBackground":"darkestParentBackground_8TVPV","darkParentBackground":"darkParentBackground_ziFwB","semiDarkParentBackground":"semiDarkParentBackground_wgu6B","mediumParentBackground":"mediumParentBackground_BIBSL","semiLightParentBackground":"semiLightParentBackground_Yx9Vw","lightParentBackground":"lightParentBackground_INb4a","lightestParentBackground":"lightestParentBackground_FL4je","toggle":"toggle_siihR","toggleLightMode":"toggleLightMode_-FLG4","toggleDarkMode":"toggleDarkMode_uS4t3","toggleSwitch":"toggleSwitch_NtUzX","toggleButton":"toggleButton_ePBfn","toggleIcon":"toggleIcon_-vIfn"}');function n6(t){let{onValueChange:o,value:e=!1,backgroundColor:r,mode:n="switch",accesibilityLabel:i="Switch to dark mode"}=t,a=()=>{o()},c=n==="switch"?e?v.ThemeDark.CSS:v.ThemeLight.CSS:e?v.ThemeLight.CSS:v.ThemeDark.CSS,l=ny(r);return n==="switch"?pm.default.createElement(ee,{as:"button",type:"button",role:"switch","aria-label":i,"aria-checked":e,onClick:a,style:[Is.container,Is[`${l}ParentBackground`]]},pm.default.createElement(ee,{style:[Is.toggle,Is.toggleSwitch,D.backgroundColor.main,D.margin.xsmall,e?Is.toggleDarkMode:Is.toggleLightMode]},pm.default.createElement(c,{style:[Is.toggleIcon,D.padding.xsmall]}))):pm.default.createElement(ro,{label:i,role:"switch",iconOnly:!0,leadingIcon:c,rounded:!0,style:Is.toggleButton,kind:"muted",onClick:a,"aria-checked":e,"aria-label":i,preventFocusOnPress:!0})}s();s();s();function mm(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}var kt=x(O(),1);s();var gc=x(O(),1);var y$=gc.default.createContext(null);y$.displayName="PressResponderContext";var fm=null,v$=new Set,i6=!1,bl=!1,fx=!1;function gx(t,o){for(let e of v$)e(t,o)}function b$(t){return!(t.metaKey||!P_()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function a6(t){bl=!0,b$(t)&&(fm="keyboard",gx("keyboard",t))}function ed(t){fm="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(bl=!0,gx("pointer",t))}function S$(t){R_(t)&&(bl=!0,fm="virtual")}function w$(t){t.target===window||t.target===document||(!bl&&!fx&&(fm="virtual",gx("virtual",t)),bl=!1,fx=!1)}function C$(){bl=!1,fx=!0}function s6(){if(typeof window>"u"||i6)return;let t=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){bl=!0,t.apply(this,arguments)},document.addEventListener("keydown",a6,!0),document.addEventListener("keyup",a6,!0),document.addEventListener("click",S$,!0),window.addEventListener("focus",w$,!0),window.addEventListener("blur",C$,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",ed,!0),document.addEventListener("pointermove",ed,!0),document.addEventListener("pointerup",ed,!0)):(document.addEventListener("mousedown",ed,!0),document.addEventListener("mousemove",ed,!0),document.addEventListener("mouseup",ed,!0)),i6=!0}typeof document<"u"&&(document.readyState!=="loading"?s6():document.addEventListener("DOMContentLoaded",s6));function c6(){return fm}function x$(t){if(c6()==="virtual"){let o=document.activeElement;ZS(()=>{document.activeElement===o&&document.contains(t)&&Cg(t)})}else Cg(t)}function k$(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;let{display:o,visibility:e}=t.style,r=o!=="none"&&e!=="hidden"&&e!=="collapse";if(r){let{getComputedStyle:n}=t.ownerDocument.defaultView,{display:i,visibility:a}=n(t);r=i!=="none"&&a!=="hidden"&&a!=="collapse"}return r}function O$(t,o){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&o&&o.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function l6(t,o){return t.nodeName!=="#comment"&&k$(t)&&O$(t,o)&&(!t.parentElement||l6(t.parentElement,t))}var hx=kt.default.createContext(null),Nt=null;function u6(t){let{children:o,contain:e,restoreFocus:r,autoFocus:n}=t,i=(0,kt.useRef)(),a=(0,kt.useRef)(),c=(0,kt.useRef)([]),{parentNode:l}=(0,kt.useContext)(hx)||{},u=(0,kt.useMemo)(()=>new hm({scopeRef:c}),[c]);ls(()=>{let m=l||ao.root;if(ao.getTreeNode(m.scopeRef)&&Nt&&!Sy(Nt,m.scopeRef)){let f=ao.getTreeNode(Nt);f&&(m=f)}m.addChild(u),ao.addNode(u)},[u,l]),ls(()=>{let m=ao.getTreeNode(c);m.contain=e},[e]),ls(()=>{let m=i.current.nextSibling,f=[];for(;m&&m!==a.current;)f.push(m),m=m.nextSibling;c.current=f},[o]),T$(c,r,e),R$(c,e),L$(c,r,e),E$(c,n),(0,kt.useEffect)(()=>{if(c){let m=document.activeElement,f=null;if(Ir(m,c.current)){for(let h of ao.traverse())Ir(m,h.scopeRef.current)&&(f=h);f===ao.getTreeNode(c)&&(Nt=f.scopeRef)}return()=>{let h=ao.getTreeNode(c).parent.scopeRef;(c===Nt||Sy(c,Nt))&&(!h||ao.getTreeNode(h))&&(Nt=h),ao.removeTreeNode(c)}}},[c]);let d=(0,kt.useMemo)(()=>I$(c),[]),p=(0,kt.useMemo)(()=>({focusManager:d,parentNode:u}),[u,d]);return kt.default.createElement(hx.Provider,{value:p},kt.default.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),o,kt.default.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}function d6(){var t;return(t=(0,kt.useContext)(hx))===null||t===void 0?void 0:t.focusManager}function I$(t){return{focusNext(o={}){let e=t.current,{from:r,tabbable:n,wrap:i,accept:a}=o,c=r||document.activeElement,l=e[0].previousElementSibling,u=hc(Sl(e),{tabbable:n,accept:a},e);u.currentNode=Ir(c,e)?c:l;let d=u.nextNode();return!d&&i&&(u.currentNode=l,d=u.nextNode()),d&&_s(d,!0),d},focusPrevious(o={}){let e=t.current,{from:r,tabbable:n,wrap:i,accept:a}=o,c=r||document.activeElement,l=e[e.length-1].nextElementSibling,u=hc(Sl(e),{tabbable:n,accept:a},e);u.currentNode=Ir(c,e)?c:l;let d=u.previousNode();return!d&&i&&(u.currentNode=l,d=u.previousNode()),d&&_s(d,!0),d},focusFirst(o={}){let e=t.current,{tabbable:r,accept:n}=o,i=hc(Sl(e),{tabbable:r,accept:n},e);i.currentNode=e[0].previousElementSibling;let a=i.nextNode();return a&&_s(a,!0),a},focusLast(o={}){let e=t.current,{tabbable:r,accept:n}=o,i=hc(Sl(e),{tabbable:r,accept:n},e);i.currentNode=e[e.length-1].nextElementSibling;let a=i.previousNode();return a&&_s(a,!0),a}}}var vx=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],_$=vx.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";vx.push('[tabindex]:not([tabindex="-1"]):not([disabled])');var P$=vx.join(':not([hidden]):not([tabindex="-1"]),');function Sl(t){return t[0].parentElement}function by(t){let o=ao.getTreeNode(Nt);for(;o&&o.scopeRef!==t;){if(o.contain)return!1;o=o.parent}return!0}function R$(t,o){let e=(0,kt.useRef)(),r=(0,kt.useRef)(null);ls(()=>{let n=t.current;if(!o){r.current&&(cancelAnimationFrame(r.current),r.current=null);return}let i=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!by(t))return;let u=document.activeElement,d=t.current;if(!Ir(u,d))return;let p=hc(Sl(d),{tabbable:!0},d);p.currentNode=u;let m=l.shiftKey?p.previousNode():p.nextNode();m||(p.currentNode=l.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,m=l.shiftKey?p.previousNode():p.nextNode()),l.preventDefault(),m&&_s(m,!0)},a=l=>{(!Nt||Sy(Nt,t))&&Ir(l.target,t.current)?(Nt=t,e.current=l.target):by(t)&&!yx(l.target,t)?e.current?e.current.focus():Nt&&wy(Nt.current):by(t)&&(e.current=l.target)},c=l=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{by(t)&&!yx(document.activeElement,t)&&(Nt=t,document.body.contains(l.target)?(e.current=l.target,e.current.focus()):Nt&&wy(Nt.current))})};return document.addEventListener("keydown",i,!1),document.addEventListener("focusin",a,!1),n.forEach(l=>l.addEventListener("focusin",a,!1)),n.forEach(l=>l.addEventListener("focusout",c,!1)),()=>{document.removeEventListener("keydown",i,!1),document.removeEventListener("focusin",a,!1),n.forEach(l=>l.removeEventListener("focusin",a,!1)),n.forEach(l=>l.removeEventListener("focusout",c,!1))}},[t,o]),(0,kt.useEffect)(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function p6(t){return yx(t)}function Ir(t,o){return o.some(e=>e.contains(t))}function yx(t,o=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:e}of ao.traverse(ao.getTreeNode(o)))if(Ir(t,e.current))return!0;return!1}function Sy(t,o){var e;let r=(e=ao.getTreeNode(o))===null||e===void 0?void 0:e.parent;for(;r;){if(r.scopeRef===t)return!0;r=r.parent}return!1}function _s(t,o=!1){if(t!=null&&!o)try{x$(t)}catch(e){}else if(t!=null)try{t.focus()}catch(e){}}function wy(t,o=!0){let e=t[0].previousElementSibling,r=hc(Sl(t),{tabbable:o},t);r.currentNode=e;let n=r.nextNode();o&&!n&&(r=hc(Sl(t),{tabbable:!1},t),r.currentNode=e,n=r.nextNode()),_s(n)}function E$(t,o){let e=kt.default.useRef(o);(0,kt.useEffect)(()=>{e.current&&(Nt=t,Ir(document.activeElement,Nt.current)||wy(t.current)),e.current=!1},[t])}function T$(t,o,e){ls(()=>{if(o||e)return;let r=t.current,n=i=>{let a=i.target;Ir(a,t.current)?Nt=t:p6(a)||(Nt=null)};return document.addEventListener("focusin",n,!1),r.forEach(i=>i.addEventListener("focusin",n,!1)),()=>{document.removeEventListener("focusin",n,!1),r.forEach(i=>i.removeEventListener("focusin",n,!1))}},[t,o,e])}function M$(t){let o=ao.getTreeNode(Nt);for(;o&&o.scopeRef!==t;){if(o.nodeToRestore)return!1;o=o.parent}return(o==null?void 0:o.scopeRef)===t}function L$(t,o,e){let r=(0,kt.useRef)(typeof document<"u"?document.activeElement:null);ls(()=>{let n=t.current;if(!o||e)return;let i=()=>{(!Nt||Sy(Nt,t))&&Ir(document.activeElement,t.current)&&(Nt=t)};return document.addEventListener("focusin",i,!1),n.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{document.removeEventListener("focusin",i,!1),n.forEach(a=>a.removeEventListener("focusin",i,!1))}},[t,e]),ls(()=>{if(!o)return;ao.getTreeNode(t).nodeToRestore=r.current;let n=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey)return;let a=document.activeElement;if(!Ir(a,t.current))return;let c=ao.getTreeNode(t).nodeToRestore,l=hc(document.body,{tabbable:!0});l.currentNode=a;let u=i.shiftKey?l.previousNode():l.nextNode();if((!document.body.contains(c)||c===document.body)&&(c=null,ao.getTreeNode(t).nodeToRestore=null),(!u||!Ir(u,t.current))&&c){l.currentNode=c;do u=i.shiftKey?l.previousNode():l.nextNode();while(Ir(u,t.current));i.preventDefault(),i.stopPropagation(),u?_s(u,!0):p6(c)?_s(c,!0):a.blur()}};return e||document.addEventListener("keydown",n,!0),()=>{e||document.removeEventListener("keydown",n,!0);let i=ao.getTreeNode(t).nodeToRestore;if(o&&i&&(Ir(document.activeElement,t.current)||document.activeElement===document.body&&M$(t))){let a=ao.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let c=a.getTreeNode(t);for(;c;){if(c.nodeToRestore&&document.body.contains(c.nodeToRestore)){_s(c.nodeToRestore);return}c=c.parent}for(c=a.getTreeNode(t);c;){if(c.scopeRef&&ao.getTreeNode(c.scopeRef)){wy(c.scopeRef.current,!0);return}c=c.parent}}})}}},[t,o,e])}function hc(t,o,e){let r=o!=null&&o.tabbable?P$:_$,n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var a;return!(o==null||(a=o.from)===null||a===void 0)&&a.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&l6(i)&&(!e||Ir(i,e))&&(!(o!=null&&o.accept)||o.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return o!=null&&o.from&&(n.currentNode=o.from),n}var gm=class{get size(){return this.fastMap.size}getTreeNode(o){return this.fastMap.get(o)}addTreeNode(o,e,r){let n=this.fastMap.get(e!=null?e:null),i=new hm({scopeRef:o});n.addChild(i),i.parent=n,this.fastMap.set(o,i),r&&(i.nodeToRestore=r)}addNode(o){this.fastMap.set(o.scopeRef,o)}removeTreeNode(o){if(o===null)return;let e=this.fastMap.get(o),r=e.parent;for(let i of this.traverse())i!==e&&e.nodeToRestore&&i.nodeToRestore&&e.scopeRef.current&&Ir(i.nodeToRestore,e.scopeRef.current)&&(i.nodeToRestore=e.nodeToRestore);let n=e.children;r.removeChild(e),n.size>0&&n.forEach(i=>r.addChild(i)),this.fastMap.delete(e.scopeRef)}*traverse(o=this.root){if(o.scopeRef!=null&&(yield o),o.children.size>0)for(let e of o.children)yield*this.traverse(e)}clone(){let o=new gm;for(let e of this.traverse())o.addTreeNode(e.scopeRef,e.parent.scopeRef,e.nodeToRestore);return o}constructor(){mm(this,"fastMap",new Map),this.root=new hm({scopeRef:null}),this.fastMap.set(null,this.root)}},hm=class{addChild(o){this.children.add(o),o.parent=this}removeChild(o){this.children.delete(o),o.parent=void 0}constructor(o){mm(this,"children",new Set),mm(this,"contain",!1),this.scopeRef=o.scopeRef}},ao=new gm;var Si=x(O());s();var bx=JSON.parse('{"toolbar":"toolbar_hJES6","toolbarGroup":"toolbarGroup_mD69e"}');var m6=Si.default.forwardRef(function(o,e){let{disabled:r=!1,orientation:n="horizontal",children:i,onTabToExit:a}=o;return Si.default.createElement(ee,{role:"toolbar",style:bx.toolbar,ref:e,"aria-orientation":n},Si.default.createElement(u6,{restoreFocus:!0},Si.default.createElement(D$,{disabled:r,orientation:n,onTabToExit:a},i)))});function D$(t){let{children:o,disabled:e,orientation:r,onTabToExit:n}=t,i=d6();return Si.default.createElement(Si.default.Fragment,null,Si.default.Children.map(o,a=>{var c,l,u;return a?typeof a=="object"?Si.default.cloneElement(a,{onKeyDown(d){var m;let p={ArrowLeft:()=>{r==="horizontal"&&(i.focusPrevious(),d.preventDefault())},ArrowRight:()=>{r==="horizontal"&&(i.focusNext(),d.preventDefault())},ArrowUp:()=>{r==="vertical"&&(i.focusPrevious(),d.preventDefault())},ArrowDown:()=>{r==="vertical"&&(i.focusNext(),d.preventDefault())},Home:()=>{i.focusFirst(),d.preventDefault()},End:()=>{i.focusLast(),d.preventDefault()},Tab:()=>{n==null||n(d.shiftKey),d.preventDefault()}};(m=p[d.key])==null||m.call(p)},kind:(l=(c=a.props)==null?void 0:c.kind)!=null?l:"menuitem",disabled:((u=a.props)==null?void 0:u.disabled)||e}):a:null}))}function ym(t){let{onKeyDown:o,label:e,disabled:r=!1,children:n}=t;return Si.default.createElement(ee,{role:"group",as:"span",style:bx.toolbarGroup,"aria-label":e},Si.default.Children.map(n,i=>{var a;return i?Si.default.cloneElement(i,{onKeyDown:o,kind:(a=i.props.kind)!=null?a:"menuitem",disabled:i.props.disabled||r}):null}))}s();var td=x(O());function f6(t){let{children:o,...e}=t;return td.createElement(x_,null,td.createElement(z_,null,td.createElement(D_,null,td.createElement(UN,{...e}),td.createElement(AN,null),o)))}s();var od=x(O());s();var yc=JSON.parse('{"buttonTabs":"buttonTabs_ihLP4","buttonTabsItem":"buttonTabsItem_9vRT7","buttonTabsItemActive":"buttonTabsItemActive_PnjM4","buttonTabsItemIcon":"buttonTabsItemIcon_wUvLo","buttonTabsItemText":"buttonTabsItemText_Oa-uN","buttonTabsSizeMedium":"buttonTabsSizeMedium_Cra41","buttonTabsItemDisabled":"buttonTabsItemDisabled_XW4rD"}');function g6(t){let{tabs:o,activeTab:e,onPress:r,size:n="medium"}=t;return od.createElement(ee,{style:[yc.buttonTabs,n==="medium"&&yc.buttonTabsSizeMedium]},o.map(i=>{let a=e===i.key,c=i.icon;return od.createElement(yi,{key:i.key,tooltip:i.tooltip},(l,u)=>od.createElement(wP,{ref:u,onPress:()=>{i.disabled||r(i.key)},style:[yc.buttonTabsItem,{[yc.buttonTabsItemActive]:a,[yc.buttonTabsItemDisabled]:i.disabled}],...l.domEvents},c?od.createElement(c,{style:yc.buttonTabsItemIcon}):null,i.label?od.createElement(wr,{style:[yc.buttonTabsItemText]},i.label):null))}))}s();var vm=x(O());s();var Sx=JSON.parse('{"grabber":"grabber_p72PX","grabberIcon":"grabberIcon_ebrbU"}');var h6=vm.forwardRef(function(o,e){let{style:r,size:n="small"}=o;return vm.createElement(ee,{ref:e,style:[r,Sx.grabber]},vm.createElement(v.GrabberVertical.CSS,{style:[Sx.grabberIcon,D.icons[n]]}))});s();var Cy=x(O());var y6=lt("auth"),wx=m_(t=>{let{customToken:o,waitUserReady:e=!0}=t;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!o&&!e?{customToken:o}:new Ni("auth.initialize").wrap(async()=>{var n;if(o)try{y6.info("authenticating with custom token before subscribing to auth"),await Lf.auth().signInWithCustomToken(o),await((n=Lf.auth().currentUser)==null?void 0:n.getIdToken(!0))}catch(i){y6.critical("Error during auth with custom token",i)}return e!==!1&&await new Promise((i,a)=>{let c=Lf.auth().onAuthStateChanged(()=>{c(),i()},a)}),{customToken:o}})});function v6(t){return wx.readAsync(t)}function xy(t){let{children:o}=t;if(typeof window<"u"){if(wx.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");wx.read({})}return Cy.createElement(Cy.Fragment,null,o)}s();s();s();function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},rd.apply(this,arguments)}var nd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nd||(nd={}));var b6=function(t){return t};var S6="beforeunload";var N$="popstate";function x6(t){t===void 0&&(t={});var o=t,e=o.window,r=e===void 0?document.defaultView:e,n=r.history;function i(){var E=r.location,A=E.pathname,V=E.search,q=E.hash,Y=n.state||{};return[Y.idx,b6({pathname:A,search:V,hash:q,state:Y.usr||null,key:Y.key||"default"})]}var a=null;function c(){if(a)f.call(a),a=null;else{var E=nd.Pop,A=i(),V=A[0],q=A[1];if(f.length){if(V!=null){var Y=d-V;Y&&(a={action:E,location:q,retry:function(){R(Y*-1)}},R(Y))}}else k(E)}}r.addEventListener(N$,c);var l=nd.Pop,u=i(),d=u[0],p=u[1],m=C6(),f=C6();d==null&&(d=0,n.replaceState(rd({},n.state,{idx:d}),""));function h(E){return typeof E=="string"?E:Cx(E)}function y(E,A){return A===void 0&&(A=null),b6(rd({pathname:p.pathname,hash:"",search:""},typeof E=="string"?xx(E):E,{state:A,key:A$()}))}function w(E,A){return[{usr:E.state,key:E.key,idx:A},h(E)]}function C(E,A,V){return!f.length||(f.call({action:E,location:A,retry:V}),!1)}function k(E){l=E;var A=i();d=A[0],p=A[1],m.call({action:l,location:p})}function _(E,A){var V=nd.Push,q=y(E,A);function Y(){_(E,A)}if(C(V,q,Y)){var te=w(q,d+1),X=te[0],re=te[1];try{n.pushState(X,"",re)}catch(_e){r.location.assign(re)}k(V)}}function P(E,A){var V=nd.Replace,q=y(E,A);function Y(){P(E,A)}if(C(V,q,Y)){var te=w(q,d),X=te[0],re=te[1];n.replaceState(X,"",re),k(V)}}function R(E){n.go(E)}var T={get action(){return l},get location(){return p},createHref:h,push:_,replace:P,go:R,back:function(){R(-1)},forward:function(){R(1)},listen:function(A){return m.push(A)},block:function(A){var V=f.push(A);return f.length===1&&r.addEventListener(S6,w6),function(){V(),f.length||r.removeEventListener(S6,w6)}}};return T}function w6(t){t.preventDefault(),t.returnValue=""}function C6(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(r){return r!==e})}},call:function(e){t.forEach(function(r){return r&&r(e)})}}}function A$(){return Math.random().toString(36).substr(2,8)}function Cx(t){var o=t.pathname,e=o===void 0?"/":o,r=t.search,n=r===void 0?"":r,i=t.hash,a=i===void 0?"":i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function xx(t){var o={};if(t){var e=t.indexOf("#");e>=0&&(o.hash=t.substr(e),t=t.substr(0,e));var r=t.indexOf("?");r>=0&&(o.search=t.substr(r),t=t.substr(0,r)),t&&(o.pathname=t)}return o}var kx=lt("history");function k6(){let t=x6(),o=[],e=!1,r=()=>{let i=o.shift();return i?(i(),!1):!0},n=i=>{e?o.push(i):i()};return{get location(){return t.location},listen:i=>t.listen(a=>{i({location:a.location,action:a.action})}),push:i=>{let{state:a,...c}=i;n(()=>{kx.info("push",c,a),t.push(c,a)})},replace:i=>{let{state:a,...c}=i;n(()=>{kx.info("replace",c,a),t.replace(c,a)})},go:i=>{n(()=>{kx.info("go",i),t.go(i)})},transaction:i=>{if(e)i();else{let a=t.listen(()=>{r()&&a()});e=!0,i(),e=!1,r()&&a()}}}}s();function I6(t){let{basename:o="",location:e="/",context:r}=t,n=(a,c)=>{r.action=c,r.location=B$(o,O6(a)),r.url=Cx(r.location)};return{staticContext:r,location:q$(o,O6(xx(e))),push:a=>{n(a,"PUSH")},replace:a=>{n(a,"REPLACE")},go:()=>{},listen:()=>()=>{},transaction:a=>{a()}}}function _6(t){return t.charAt(0)==="/"?t:`/${t}`}function B$(t,o){return t?{...o,pathname:_6(t)+o.pathname}:o}function q$(t,o){if(!t||!o.pathname)return o;let e=_6(t);return o.pathname.indexOf(e)!==0?o:{...o,pathname:o.pathname.substr(e.length)}}function O6(t){let o={hash:"",search:"",pathname:"",...t,key:"",state:void 0};return o.search&&o.search.charAt(0)!=="?"&&(o.search=`?${o.search}`),o.hash&&o.hash.charAt(0)!=="#"&&(o.hash=`#${o.hash}`),o}s();var wl=x(O()),P6=x(F_());function Ox(t){let{history:o,children:e}=t,r=wl.useMemo(()=>o||k6(),[o]),n=wl.useMemo(()=>({getCurrentValue:()=>r.location,subscribe:a=>r.listen(a)}),[r]),i=(0,P6.useSubscription)(n);return wl.createElement(_P.Provider,{value:r},wl.createElement(PP.Provider,{value:i},e))}function R6(t){let{children:o,...e}=t,r=I6(e);return wl.createElement(Ox,{history:r},o)}s();var Ix=x(O());function E6(t,o){var l,u;let{navigate:e}=we(),r=Ia(),n=HI(t),i=(0,Ix.useCallback)(d=>e({screen:{sideSheet:{type:t,tab:d}}},{replace:!0}),[e,t]),a=(0,Ix.useCallback)(()=>e({screen:{sideSheet:void 0}}),[e]),c=(l="sideSheet"in r.screen&&r.screen.sideSheet&&"tab"in r.screen.sideSheet&&r.screen.sideSheet.tab?r.screen.sideSheet.tab:o)!=null?l:n[0];return{opened:"sideSheet"in r.screen&&((u=r.screen.sideSheet)==null?void 0:u.type)===t,selectedTab:c,changeSelectedTab:i,close:a}}s();var W$=Lt({key:"firestoreReacheable",default:!0,effects:[t=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{t.setSelf(!1)})}]});function T6(){return Hr(W$)}s();var F$=(t,o)=>{fs.write(t,o,"cached")};function M6(t){return V1(o=>(o.listenToDocument(F$),t(o)))}s();function z$(t){var o;return t.themePreset?$.PRIMARY:(o=t.primaryColor)!=null?o:$.PRIMARY}function V$(t,o,e){let r=$.WHITE,n=$.darkModeGreyScale.dark;switch(t){case"default":return o==="dark"?n:r;case"bold":return e;case"contrast":return o==="dark"?r:n;case"custom":return $.fuchsia.light;default:qe(t)}}function G$(t,o,e){switch(t){case"default":case"contrast":return o;case"bold":case"custom":return Ea(e)==="light"?$.lightModeText.base:$.darkModeText.base;default:qe(t)}}function L6(t){return K1(t.headerTheme,t.themeMode)==="none"}function H$(t,o){var f;let{primaryColor:e,headerBackgroundColor:r,headerLinksColor:n}=((f=t.themeCustomizations)==null?void 0:f[o])||{},a=L6(t)?"default":Ai(t),c=z$(t),l=e!=null?e:c,u=V$(a,o,l),d=r!=null?r:u,p=G$(a,l,d),m=n!=null?n:p;return{primaryColor:l,headerBackgroundColor:d,headerLinksColor:m}}function K$(t,o){var i,a,c;let e=(i=o!=null?o:t.themeMode)!=null?i:tp,{headerLogoURL:r,footerLogoURL:n}=((a=t.themeCustomizations)==null?void 0:a[e])||{};return{headerLogoURL:r!=null?r:t.logoURL,footerLogoURL:n!=null?n:(c=t.footer)==null?void 0:c.logoURL}}function ky(t,o){var r;let e=(r=o!=null?o:t.themeMode)!=null?r:tp;return{...H$(t,e),...K$(t,e),headerDisabled:L6(t)}}s();var D6=x(O());var X$=lt("app:events"),U$=t=>(t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function j$(){let t=document.cookie?document.cookie.split("; "):[],o={};for(let e=0;e<t.length;e++){let r=t[e].split("="),n=r.slice(1).join("=");try{let i=decodeURIComponent(r[0]);o[i]=U$(n)}catch(i){X$.warning(`Couldn't parse cookie ${t[e]}. Error: `,i)}}return o}function N6(t,o){return D6.useEffect(()=>{Y$(t,o)},[t.key,o]),null}async function Y$(t,o){if(!t.integrations||!o)return;let e=await p_(),r=j$(),n=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await ec()).analytics.trackViewInSpaceById(t.key,{pageId:o,visitor:{anonymousId:e,cookies:r,userAgent:a},url:n,referrer:i})}s();function A6(t,o){let e=o.type==="space"&&typeof o.changeRequest=="string"?o.changeRequest:void 0;return FP(t,e)}s();var B6=x(O());function Oy(t){let o=$I(t),[e]=_a([o]);return B6.useEffect(()=>{!e&&t&&z1(o,{url:t})},[e,t]),[e||{url:t}]}s();var q6=x(O());function W6(t){let o=t?new URL(t).hostname:null,[e]=MP([o?i_(o):null]);return q6.useMemo(()=>{if(!e||!t)return;let r=yu(dg(e),t);if(!r)return;let n=e.find(i=>i.name===r.integrationKey);if(n)return{integration:n,block:r.block}},[e,t])}s();var F6=x(O());var _x=Lt({key:"hoveredCommentNodeAtom",default:null}),KTe=E1({key:"newCommentValueAtom",default:()=>du("","comment")});function z6(){let t=Li(_x);return F6.useMemo(()=>({highlight:(o,e={highlighting:!0,postButton:!0})=>{let r=o?qi.getOriginalKey(o):null;t(n=>r?(n&&n.node===r&&n.postButton&&(e.postButton=n.postButton),{node:r,...e}):null)}}),[t])}s();var G6=x(O());var V6=Lt({key:"filesManagerAtom",default:null});function Ot(){let t=Li(V6),o=M1();return G6.useMemo(()=>({prompt:e=>new Promise(r=>{t({options:e,onComplete:r})}),isOpen:()=>{let{isModified:e}=o(V6);return e}}),[t])}s();var H6=x(O());var Px=Lt({key:"mediaGalleryState",default:{medias:[],currentIndex:0}});function id(){let t=Li(Px);return H6.useMemo(()=>({open:(o,e=0)=>{t({medias:o,currentIndex:e})}}),[t])}s();var bm=Lt({key:"mobileToCOpenedAtom",default:!1});s();var Iy=x(O());function K6(t){var n,i;let o=Iy.useContext(Qo),e=o.preview||o.mode!=="public-content"||!((n=t==null?void 0:t.intercom)!=null&&n.enabled)||(i=t==null?void 0:t.intercom)==null?void 0:i.appID,r=ON();return Fi(a=>{r&&e&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${e}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:e})}})}),Iy.useEffect(()=>()=>{window.Intercom&&(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}s();var Sm=x(O());var Rx=Sm.default.createContext(()=>({getCurrentValue:()=>[],subscribe:()=>()=>{}})),Cl=new Map;function X6(t){let{withComments:o,spaceKey:e,pageKey:r,changeRequestKey:n,children:i}=t,a={space:e,page:r,changeRequest:n||null},[c]=_a([o?q1(GI(a),W1("resolved","==",null),F1("postedAt","asc")):null]);Sm.default.useEffect(()=>{let u=(c||[]).reduce((d,p)=>{var m;return p.node?{...d,[p.node]:[...(m=d[p.node])!=null?m:[],p]}:d},{});Cl.forEach((d,p)=>{var y;let m=(y=u[p])!=null?y:[],[f,h]=d||[[],[]];$$(m,f)||(Cl.set(p,[m,h]),h.forEach(w=>w()))})},[c]);let l=Sm.default.useCallback(u=>({getCurrentValue:()=>{let d=Cl.get(u);return d?d[0]:[]},subscribe:d=>{let p=Cl.get(u),[m,f]=p||[[],[]];return Cl.set(u,[m,[...f,d]]),()=>{let h=Cl.get(u),[y,w]=h||[[],[]],C=w.filter(k=>k!==d);Cl.set(u,[y,C])}}}),[]);return Sm.default.createElement(Rx.Provider,{value:l},i)}function $$(t,o){return t.length!==o.length?!1:t.every(e=>{let r=o.find(n=>e.key===n.key);return r?Z$(e,r):!1})}function Z$(t,o){return!(t.key!==o.key||t.resolved!==o.resolved||TS(t.replies)!==TS(o.replies))}s();var Ex=1024,U6=Ex*1024;function wm(t){return t>U6?`${(t/U6).toFixed(0)}MB`:t>Ex?`${(t/Ex).toFixed(0)}KB`:`${t}B`}function j6(t){return Vs(t)?"Image":gu(t)?"Code":t.contentType==="application/pdf"?"PDF":t.contentType.startsWith("text/")?"Text":"Binary"}s();var _y=x(O());function $6(t){var r,n,i;let o=(0,_y.useContext)(Qo);Q$(o,t),vp(()=>Z6(o,t));let e=vp(()=>Y6(o,t));(0,_y.useEffect)(()=>(e.current=Y6(o,t),()=>{e.current&&window.gtag("config",e.current,{update:!0,groups:"not_tracking_views"})}),[(r=t==null?void 0:t.googleAnalytics)==null?void 0:r.enabled,(n=t==null?void 0:t.googleAnalytics)==null?void 0:n.trackingPrivateViews,(i=t==null?void 0:t.googleAnalytics)==null?void 0:i.trackingID,o])}function Tx(t){var o;return!!((o=t.googleAnalytics)!=null&&o.enabled&&typeof t.googleAnalytics.trackingID=="string")}function Q$(t,o){Fi(e=>{var r;Mx(t,o)||e.writeSafe({type:"script",src:`https://www.googletagmanager.com/gtag/js?l=dataLayer&id=${(r=o==null?void 0:o.googleAnalytics)==null?void 0:r.trackingID}`})})}function Z6(t,o){Mx(t,o)||typeof window>"u"||window!=null&&window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(...e){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",o.googleAnalytics.trackingID))}function Y6(t,o){var r;if(Mx(t,o)||typeof window>"u")return;window!=null&&window.gtag||Z6(t,o),window.gtag("config",o.googleAnalytics.trackingID,{send_page_view:!1,anonymize_ip:!0,groups:"tracking_views"});let e=fg()==="rejected";return window.gtag("consent","default",{ad_storage:e?"denied":"granted",analytics_storage:e?"denied":"granted"}),(r=o==null?void 0:o.googleAnalytics)==null?void 0:r.trackingID}function Mx(t,o){var e;return!o||!o.googleAnalytics||!Tx(o)||t.preview||t.mode!=="public-content"&&!((e=o==null?void 0:o.googleAnalytics)!=null&&e.trackingPrivateViews)}s();s();var at=x(O());G();s();var Rn=x(O());s();var ad=x(O());G();function Q6(t){let{node:o,editor:e}=t,{readOnly:r}=e,[,n]=I(J$),i=()=>{e.change(a=>{a.unwrapInlineByKey(o.key)})};return ad.createElement(Cr,{preferredAlignment:"start",kind:"large"},ad.createElement(S,{style:[n.annotationPopover,g.Padding.mediumHorizontal,g.Padding.mediumVertical]},ad.createElement(Qr,{fragment:va}),r?null:ad.createElement(S,{style:[n.toolbar]},ad.createElement(W,{size:"small",kind:"secondary",icon:v.Trashcan,title:"Remove annotation",onPress:i}))))}var J$=z.create({annotationPopover:{maxHeight:300},toolbar:{position:"absolute",top:g.medium,right:g.medium}});s();var Fo=x(O());s();var Lx=JSON.parse('{"hitArea":"hitArea_oHT6S","buttonWrapper":"buttonWrapper_3J38G","hideTransition":"hideTransition_k0Mlc"}');s();function it(t,o,e=[]){return ce({groups:[...e,{key:"block",commands:[{key:"delete",title:"Delete",icon:v.Trashcan,trigger:()=>{t.change(r=>{if(To(r.value.selection))return r.deleteBlockRangeForward();r.removeNodeByKey(o).focus()})}}]}]})}s();var Rr=x(O());s();var h7=[{key:"youtube",title:"Youtube",icon:J6()},{key:"soundcloud",title:"Soundcloud",icon:e7()},{key:"loom",title:"Loom",icon:t7()},{key:"github",title:"GitHub Gist",icon:o7(),iconDark:r7()},{key:"framer",title:"Framer",icon:n7(),iconDark:i7()},{key:"codepen",title:"Codepen",icon:a7(),iconDark:s7()},{key:"dribbble",title:"Dribbble",icon:c7()},{key:"trello",title:"Trello",icon:l7()},{key:"typeform",title:"Typeform",icon:u7(),iconDark:d7()},{key:"google-docs",title:"Google Docs",icon:p7()},{key:"google-sheets",title:"Google Sheets",icon:m7()},{key:"google-slides",title:"Google Slides",icon:f7()},{key:"google-form",title:"Google Forms",icon:g7()}];s();var La=x(O());G();s();var Ps=x(O());var Rs=cy(t=>t.isPDF?{width:793.92,height:1123.2}:{width:750,height:500},{height:!1}),Dx={uploadFiles:()=>{throw new Error("uploadFiles is not implemented, it should be passed as a prop to the ContentEditor component")},updateFile:()=>{throw new Error("updateFile is not implemented, it should be passed as a prop to the ContentEditor component")},logAnalyticsEvent:()=>{},blockLayoutComponent:({children:t})=>Ps.createElement(Ps.Fragment,null,t),integrationBlocksRemote:zP(()=>{throw new Error("not implemented")}),getIntegrationsBlocks:()=>({})},ze=Ps.createContext(Dx),wi=Ps.createContext({sections:lu(),active:null,selected:null,setActive:()=>{}}),vc=Ps.createContext("left"),kn=Ps.createContext("root");function y7(t){let{onInsert:o,onClose:e}=t,{logAnalyticsEvent:r}=La.useContext(ze),[n,i]=La.useState(""),a=si(n),c=()=>{if(!a)return;let l=qf(n);o(Zf.createEmbedBlock(l)),r({type:"edit_page_document_insert_block",from:"embed",blockType:yr,embedHostname:new URL(l).hostname})};return La.createElement(Co,{title:"Embed a URL",subtitle:"Insert a URL to embed a live preview. Works with YouTube, Google Drive, Vimeo, and more.",onClose:e,footer:La.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},La.createElement(W,{kind:"secondary",onPress:e,style:g.Margin.smallRight},"Cancel"),La.createElement(W,{kind:"primary",disabled:!a,onPress:c},"Insert"))},La.createElement(no,{autoFocus:!0,label:"URL",value:n,onChangeText:i,onSubmit:c,placeholder:"Paste a URL or type it",feedback:a||!n?{type:"none"}:{type:"danger"}}))}s();var vt=x(O());G();s();var Cm=x(O()),v7=Cm.default.createContext(null);function b7(t){let{value:o,children:e}=t,r=Cm.default.useMemo(()=>({space:o.space,page:o.page,..."changeRequest"in o&&o.changeRequest?{changeRequest:o.changeRequest}:{},..."revision"in o&&o.revision?{revision:o.revision}:{}}),[o.space,o.page,"changeRequest"in o?o.changeRequest:void 0,"revision"in o?o.revision:void 0]);return Cm.default.createElement(v7.Provider,{value:r},e)}function ut(){let t=Cm.default.useContext(v7);if(t===null)throw new Error("useContentReferenceContext expects a ContentReferenceContextProvider above it");return t}s();var Ax=x(O());s();var Qi=Zr({getKey:t=>{let[,...o]=t;return jS(o)},getValue:async([t,o,e,r])=>{let n=[];return!o||!YI(o,e)?[null,n,!1]:await gp(async()=>[await jI(o,e,{hiveClient:t,firestoreReader:{getDocument:a=>(n.some(c=>Za(c)===Za(a))||n.push(a),fs.readAsync(a)),getCollection:a=>(n.some(c=>Za(a)===Za(c))||n.push(a),fs.readAsync(a))}}),n,!1],[null,n,!0])},toJS(t){return[t[0],t[1].map(MS),t[2]]},fromJS(t){return[t[0],t[1].map(LS),t[2]]}}),Py=Zr({getKey:t=>{let[,...o]=t;return jS(o)},getValue:async([t,o,e])=>{let r=[];return await gp(async()=>[await sg(o,e,{hiveClient:t,firestoreReader:{getDocument:i=>(r.some(a=>Za(a)===Za(i))||r.push(i),fs.readAsync(i)),getCollection:i=>(r.some(a=>Za(i)===Za(a))||r.push(i),fs.readAsync(i))}}),r,!1],[null,r,!0])},toJS(t){return[t[0],t[1].map(MS),t[2]]},fromJS(t){return[t[0],t[1].map(LS),t[2]]}});s();var Da=x(O());s();var S7=Eg("0dc87861cc2f97f4b8aa90517de6c6f7d7add292c36eff9ffb4a127ad3126faa",()=>import("https://app.gitbook.com/public/app/chunks/ShareModalBody.lazycomponent-X3TAMHTN.min.js"));function w7(t){let{content:o}=t,{selectedTab:e,changeSelectedTab:r,opened:n,close:i}=E6("share");return Da.createElement(xt,null,n?Da.createElement(Co,{size:"xlarge",onClose:i},Da.createElement(Da.Suspense,{fallback:Da.createElement(gP,{sidebar:Da.createElement(No,{size:"large"})},Da.createElement(No,{size:"large"}))},Da.createElement(S7,{tab:e||UP(o),onChangeTab:r,...t}))):null)}s();var Ry=x(O());function bc(){let{navigate:t,getNavigationURL:o,getNavigationLinkProps:e}=we();return Ry.useMemo(()=>{let n=(l,u)=>{let d=oo(l,u);if(d!==null)return o({current:Nx(d)})},i=(l,u)=>{let d=oo(l,u);if(d!==null)return e({current:Nx(d)})},a=(l,u={})=>{let{replace:d=!1}=u;t({current:Nx(l,u)},{replace:d})};return{getNavigationHref:n,getNavigationProps:i,navigateToPagePath:a,navigateToPage:(l,u,d)=>{let p=oo(l,u);p!==null&&a(p,d)}}},[t])}function Nx(t,o={}){let{preserveSideSheet:e=!1,preserveComments:r=!0,sideSheet:n}=o;return i=>{var a;return{page:t,...!e&&!n?{sideSheet:void 0}:{},...n?{sideSheet:n}:{},comments:r&&i.type==="space"&&((a=i.sideSheet)==null?void 0:a.type)==="comments"?{...i.sideSheet,node:void 0}:void 0}}}function C7(t){let{to:o}=t;return Ry.createElement(Vg,{to:{screen:{page:o,sideSheet:void 0}}})}function Pr(t,o,e,r={}){let{document:n,...i}=o,{space:a}=o,{withSearch:c=!0,accept:l=["url","user","anchor","page","space","collection","file"],position:u}=r,d=[];return l.includes("url")&&d.push({key:"url",commands:p=>{let{text:m}=p.query;if(!m||!nu(m))return[];let f=ag(m);if(f){let[h]=Py.read([e,f,i]),[y]=Qi.read([e,h,i]);if(h&&y)return[{key:m,title:y.text,icon:v.ArrowUpRight,trigger:()=>{t(h)}}]}return[{key:m,title:`Link to "${m}"`,icon:v.Link,trigger:()=>{t({kind:"url",url:m})}}]}}),l.includes("anchor")&&n&&d.push({key:"anchors",commands:()=>k7(n,{},t)}),l.includes("page")&&o.space&&d.push(x7({spaceId:o.space,changeRequestId:"changeRequest"in o?o.changeRequest:void 0},e,t,{accept:l,withSearch:c,targetCurrentSpace:!0})),l.includes("space")&&d.push({key:"spaces",commands:p=>cl.read({query:p.query.text,types:["spaces"]}).map(f=>f.index!=="spaces"?null:{key:f.object.objectID,icon:({size:h})=>Ax.createElement(jg,{space:f.object,size:h}),title:f.object.title,trigger:()=>{t({kind:"space",space:f.object.objectID})},descendant:l.includes("page")?()=>ce({search:c?"Select page\u2026":void 0,groups:[x7({spaceId:f.object.objectID,changeRequestId:void 0},e,t,{accept:l,withSearch:c,targetCurrentSpace:f.object.objectID===a})]}):void 0}).filter(fe)}),l.includes("collection")&&d.push({key:"collections",commands:p=>cl.read({query:p.query.text,types:["collections"]}).map(f=>f.index!=="collections"?null:{key:f.object.objectID,title:f.object.title,trigger:()=>{t({kind:"collection",collection:f.object.objectID})}}).filter(fe)}),l.includes("user")&&d.push({key:"users",commands:p=>cl.read({query:p.query.text,hitsPerPage:8,types:["users"]}).map(f=>f.index!=="users"?null:{key:f.object.objectID,icon:({size:h})=>Ax.createElement(ll,{user:f.object,size:h}),title:f.object.displayName,subtitle:f.object.email,trigger:()=>{t({kind:"user",user:f.object.objectID})}}).filter(fe)}),ce({search:c?"Type url or reference\u2026":void 0,groups:d,position:u})}function yZ(t,o,e,r,n){return ce({search:"Select page or heading\u2026",groups:[{key:"page",commands:[{key:"pick",title:`Link to "${o.title}"`,icon:v.Page,trigger:()=>{r({kind:"page",page:o.id,space:n.targetCurrentSpace?void 0:t})}}]},{key:"anchors",commands:()=>vZ(t,o,e,{page:o.id,space:n.targetCurrentSpace?void 0:t},r)}]})}function x7(t,o,e,r){let{accept:n,withSearch:i,targetCurrentSpace:a}=r;return{key:"space",commands:()=>{let c=Fn(o.store.getBranchRevision(t.spaceId,t.changeRequestId?ng(t.changeRequestId):og));return c?Object.values(c.pages).filter(l=>l.type!=="link").map(l=>({key:l.id,title:l.title,subtitle:oo(c,l.id),icon:l.type==="group"?v.AddPageGroup:v.Page,trigger:()=>{e({kind:"page",page:l.id,space:a?void 0:t.spaceId})},descendant:n&&n.includes("anchor")&&l.type==="document"?()=>({...yZ(t.spaceId,l,o,e,{targetCurrentSpace:a}),...i?{}:{search:void 0}}):void 0})):[]}}}function vZ(t,o,e,r,n){if(!o.document)return[];let i=Fn(e.store.getDocument(t,o.document));return i?k7(i,r,n):[]}function k7(t,o,e){return tg(t).filter(n=>!!n.anchor).map(n=>{let i=(()=>{switch(n.type){case Fe:return v.Heading1;case Ge:return v.Heading2;case rt:return v.Heading3;case Mo:return v.Swagger;case qn:return v.BlockExpandable;case mn:case jr:return v.Tabs;case null:return v.Hash;default:qe(n.type)}})();return{key:n.key,icon:i,title:n.title,trigger:()=>{e({kind:"anchor",anchor:n.anchor,...o})}}})}s();var cd=x(O());s();var xl=x(O());G();function sd(t){let{file:o,size:e=M.ICON_M}=t,[,r]=I(SZ);return xl.createElement(S,{style:[r.fileTileIcon,{width:e,height:e}]},o&&Vs(o)?xl.createElement(Zo,{style:r.fileTilePreview,source:{uri:Gi(o.downloadURL,{width:e})},accessibilityLabel:o.name}):xl.createElement(bZ,{file:o,size:e*.65}))}function bZ(t){let{file:o,...e}=t;return o?gu(o)?xl.createElement(v.Swagger,{...e}):xl.createElement(v.Paperclip,{...e}):xl.createElement(v.Trashcan,{...e})}var SZ=z.create({fileTileIcon:t=>({backgroundColor:t.colors.background.muted,color:t.colors.text.muted,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:M.RADIUS_M}),fileTilePreview:{width:"100%",height:"100%",resizeMode:"cover",borderRadius:M.RADIUS_M,objectFit:"contain"}});function Bx(t){let{navigate:o,getNavigationURL:e}=we(),r=Se(),n=ut(),[i,a]=cd.useState(""),c=t.map(h=>[r,h,n,i]),l=Qi.readMultiple(c),u=Qi.readCacheUpdatesKey(c),d=LP(l.map(h=>h[1]).flat()),p=Ut(),m=xN(p==null?void 0:p.dataSync),f=typeof m<"u"?`${m}`:"";return cd.useEffect(()=>{a(`${d}${f}`)},[d,f]),cd.useMemo(()=>l.map(([h,y,w],C)=>{let k=t[C];return h?{title:h.text,icon:wZ(k,h),secondaryIcon:CZ(k),secondaryIconDescription:xZ(k,h),href:typeof h.target=="string"?h.target:e({screen:h.target}),open:()=>{typeof h.target=="string"?yP(h.target):o({screen:h.target})},resolution:h}:{title:w?"Access denied":"Broken link",icon:void 0,href:"",open:()=>{}}}),[u,e,o])}function tt(t){return Bx(t?[t]:[])[0]||{title:"Broken link",icon:null,href:"",open:()=>{}}}function wZ(t,o){var e,r,n,i;if(t.kind==="url")return v.ExternalLink;if((e=o.extra)!=null&&e.user)return wt(ll,{user:o.extra.user});if((r=o.extra)!=null&&r.file)return wt(sd,{file:o.extra.file});if((n=o.extra)!=null&&n.space)return wt(jg,{space:o.extra.space});if((i=o.extra)!=null&&i.page&&o.extra.page.emoji)return wt(Ao,{code:o.extra.page.emoji})}function CZ(t){switch(t.kind){case"user":return v.AtSign;case"anchor":return v.Hash;case"page":return v.Page;case"space":return v.Space;case"collection":return v.Collection;case"url":return v.ExternalLink}}function xZ(t,o){switch(t.kind){case"user":return"User mention";case"anchor":return"Link to a page's anchor";case"page":return"Link to a page";case"space":return"Link to a space";case"collection":return"Link to a acollection";case"url":return"External URL"}}function Ty(t){let{label:o,labelDescription:e,value:r,onChangeValue:n,placeholder:i,accept:a,size:c="large",disabled:l=!1}=t,[u,d]=vt.useState(!1),[p,m]=vt.useState(!1),[f,h]=vt.useState(""),y=vt.useRef(null),w=vt.useRef(null),[,C]=I(OZ),k=pe(y),_=Se(),P=ut();vt.useEffect(()=>{if(!f||!u||u&&!p){k.close();return}k.opened?k.typeQuery(f):k.open(Zs(Pr(E=>{n(E),m(!1),w.current&&w.current.blur()},P,_,{withSearch:!1,position:{width:"anchor"},accept:a}),f))},[f,u]),vt.useEffect(()=>{u&&w.current&&w.current.focus()},[u]);let R=E=>{h(E),m(!0)},T=()=>{f||(m(!1),n()),nu(f)&&(n({kind:"url",url:f}),m(!1)),d(!1)};return vt.createElement(S,null,o?vt.createElement(S,{style:g.Margin.smallBottom},vt.createElement(xu,null,o),e?vt.createElement(S,{style:g.Margin.xsmallTop},vt.createElement(Lg,null,e)):null):null,u||!r?vt.createElement(no,{testID:"contentRef.input",ref:w,wrapperRef:y,size:c,value:f,onChangeText:R,onBlur:T,onFocus:()=>d(!0),placeholder:i,disabled:l}):vt.createElement(Ve,{testID:"contentRef.fakeInput",onPress:()=>d(!0),style:[C.input,cP[c],b.directionRow,b.alignCenter]},vt.createElement(vt.Suspense,{fallback:vt.createElement(Ie,{size:"small"})},vt.createElement(kZ,{value:r,size:c}))))}function kZ(t){let{value:o,size:e}=t,[,r]=I(B),n=tt(o);return vt.createElement(S,{style:[b.flex1,b.directionRow,b.alignCenter]},n.icon?vt.createElement(S,{style:[g.Margin.smallRight]},vt.createElement(n.icon,{size:M.ICON_S,style:r.textMuted})):null,vt.createElement(S,{style:[b.flex1]},vt.createElement(zn,{style:[sP[e],r.text],testID:"contentRef.resolvedTitle"},n.title)))}var OZ=z.create({input:t=>({backgroundColor:t.colors.background.main,borderWidth:1,borderColor:t.colors.border.main})});s();async function O7(t,o,e){let[r]=await Qi.readAsync([t,o,e]);return{uri:r==null?void 0:r.target}}function My(t){var r,n,i,a;let o=tt(t);if(!o.href)return null;let e=(n=(r=o.resolution)==null?void 0:r.extra)==null?void 0:n.file;return{uri:o.href,width:(i=e==null?void 0:e.dimensions)==null?void 0:i.width,height:(a=e==null?void 0:e.dimensions)==null?void 0:a.height}}s();function Sc(t,o){return{href:t.href,onPress:e=>{if(o&&o(e),e){if(e.isDefaultPrevented()||e.nativeEvent.metaKey||e.nativeEvent.ctrlKey)return;e.preventDefault()}t.open()}}}s();var qx=x(O());function I7(t){let{block:o,style:e,size:r=M.ICON_M}=t;return o.icon?qx.createElement(Zo,{source:{uri:Gi(o.icon,{width:r})},style:[{width:r,height:r,borderRadius:r/8}]}):qx.createElement(v.Integrations,{size:r,style:e})}s();s();var On=x(O());s();var fd=x(O());s();var ko=x(O());G();s();var Ly=x(O());G();function _7(t){let{description:o,readOnly:e,blockProps:r}=t,{node:n}=r;return!o||e&&"fragment"in o&&ns(n.fragments.get(o.fragment))?null:Ly.createElement(S,{style:g.Margin.mediumTop},"text"in o?Ly.createElement(ku,{markdown:o.text}):Ly.createElement(Qr,{fragment:o.fragment}))}s();var xm=x(O());G();s();var kl={get:$.primary.base,post:$.green.base,put:$.orange.base,options:$.violet.base,head:$.orange.base,delete:$.scarlet.base,patch:$.orange.base,connect:$.orange.base,trace:$.orange.base};var IZ=Z.createResponsiveComponent(hn);function Dy(t){let{readOnly:o,method:e,setMethod:r}=t,[,n]=I(B),[,i]=I(_Z),a=xm.default.useRef(null),c=pe(a),l=ce({groups:[{key:"methods",commands:Ru.map(p=>({key:p,title:p.toUpperCase(),trigger:()=>{r&&r(p)}}))}]}),u=()=>{c.open(l)},d=xm.default.createElement(IZ,{style:i.badge,backgroundColor:kl[e]||$.orange.base,mobileStyle:[i.mobileMethodBadge],desktopStyle:[i.httpMethodBadge]},xm.default.createElement(Z.Text,{desktopStyle:[n.GroupTitle,n.Bold],mobileStyle:[n.MobileCaption,n.Bold],style:[n.textInsideColor,n.Bold,n.Uppercase]},e));return o?d:xm.default.createElement(Ve,{ref:a,onPress:u},d)}var _Z=z.create({badge:{width:"fit-content"},httpMethodBadge:{borderRadius:M.XS,height:M.XS,paddingHorizontal:g.small,justifyContent:"center"},mobileMethodBadge:{borderRadius:M.XXS,height:M.XXS,paddingHorizontal:g.small,justifyContent:"center"}});var P7=Z.createResponsiveComponent(H.View),PZ=Z.createResponsiveComponent(H.View.Child);function R7(t){let{readOnly:o,blockProps:e,baseUrl:r,summary:n,path:i,method:a,description:c,opened:l,setOpened:u}=t,{node:d,editor:p}=e,[,m]=I(B),f=ko.default.useRef(),h=ko.default.useRef(),y=ko.default.useRef();function w(){u(!l)}let C=H.useInteractiveComponent(l?v.ChevronDown:v.ChevronRight);return ko.default.createElement(S,{style:[b.directionColumn,b.flex1,g.Padding.smallBottom]},ko.default.createElement(Z.View,{style:[b.alignCenter,g.Padding.medium,b.wrap],mobileStyle:b.flex1,desktopStyle:b.directionRow},ko.default.createElement(H.TouchableOpacity,{style:g.Padding.mediumRight,onPress:w},ko.default.createElement(C.Child,{size:M.ICON_M,style:m.textMuted,activeStyle:m.primary})),ko.default.createElement(S,{style:[g.Margin.mediumRight]},ko.default.createElement(Dy,{readOnly:o,method:a,setMethod:k=>{p.change(_=>{Re.setMethod(_,d.key,k)})}})),ko.default.createElement(P7,{style:[b.wrap],mobileStyle:[b.flex1]},ko.default.createElement(Vn,{ref:f,component:Os,value:r,placeholder:"https://api.gitbook.com/v1",onChangeText:k=>{p.change(_=>{Re.setBaseUrl(_,d.key,k)})},style:[m.Label,m.textMuted,Ny.breakWord],selectTextOnFocus:!0,readOnly:o,onSubmitEditing:()=>{h.current&&h.current.focus()}})),ko.default.createElement(P7,{style:[b.directionRow],mobileStyle:[Ny.mobileEndpoint,g.Padding.xsmallTop]},ko.default.createElement(Vn,{ref:h,component:Os,value:i,placeholder:"/users",onChangeText:k=>{p.change(_=>{Re.setPath(_,d.key,k)})},style:[m.Label,m.text,m.Bold,Ny.breakWord],selectTextOnFocus:!0,readOnly:t.readOnly,onSubmitEditing:()=>{y.current&&y.current.focus()}}),ko.default.createElement(PZ,{style:[g.Margin.xsmallLeft,Ze.hidden],hoverStyle:[Ze.visible],mobileStyle:{display:"none"}},ko.default.createElement(Og,{size:"xsmall",content:`${r}${i}`})))),ko.default.createElement(S,{style:Ny.headerBody},ko.default.createElement(S,null,ko.default.createElement(Vn,{ref:y,component:Os,value:n,placeholder:"Operation summary",onChangeText:k=>{p.change(_=>{Re.setSummary(_,d.key,k)})},style:[m.Heading3,m.text],readOnly:o,displayMode:"block",onSubmitEditing:()=>{p.change(k=>{if(l&&c&&"fragment"in c){let _=d.fragments.get(c.fragment);_&&k.collapseToStartOf(_)}else Ct(k,d);k.focus()})}})),l?ko.default.createElement(_7,{readOnly:o,description:c,blockProps:e}):null))}var Ny=Q.create({breakWord:{wordWrap:"anywhere"},mobileEndpoint:{paddingLeft:g.medium+M.ICON_M,flexBasis:"100%",flexGrow:1},headerBody:{paddingLeft:g.medium+M.ICON_M+g.medium}});s();var Am=x(O());G();s();var km=x(O());G();function E7(t){let{blockProps:o}=t,{editor:e,node:r}=o,n=km.useRef(null),i=pe(n),a=ce({groups:[{key:"parameters",commands:Wx.map(({location:l,title:u,description:d})=>({key:l,title:u,subtitle:d,trigger:()=>{e.change(p=>{Re.addParameter(p,r.key,l)})}}))}]}),c=()=>{i.open(a)};return km.createElement(S,null,km.createElement(W,{ref:n,title:"Add Parameter",icon:i.opened?v.X:v.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>c()}))}var Wx=[{location:"path",title:"Path",description:"Params in the URL path"},{location:"query",title:"Query",description:"Params in the query string"},{location:"header",title:"Header",description:"Params sent in headers"},{location:"cookie",title:"Cookie",description:"Params set via cookie"},{location:"body",title:"Body",description:"Params passed in body"}];s();var Nm=x(O());G();s();var Oo=x(O());G();s();var sr=x(O());s();var T7=x(O(),1),Ay=(0,T7.createContext)({dragDropManager:void 0});s();var b2=x(AF(),1);s();s();s();s();s();s();function wc(t){return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},wc(t)}s();function Fx(t,o){if(wc(t)!=="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,o||"default");if(wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(t)}function zx(t){var o=Fx(t,"string");return wc(o)==="symbol"?o:String(o)}function By(t,o,e){return o=zx(o),o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function Ci(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var M7=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vx=function(){return Math.random().toString(36).substring(7).split("").join(".")},L7={INIT:"@@redux/INIT"+Vx(),REPLACE:"@@redux/REPLACE"+Vx(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vx()}};function RZ(t){if(typeof t!="object"||t===null)return!1;for(var o=t;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(t)===o}function Gx(t,o,e){var r;if(typeof o=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Ci(0));if(typeof o=="function"&&typeof e>"u"&&(e=o,o=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Ci(1));return e(Gx)(t,o)}if(typeof t!="function")throw new Error(Ci(2));var n=t,i=o,a=[],c=a,l=!1;function u(){c===a&&(c=a.slice())}function d(){if(l)throw new Error(Ci(3));return i}function p(y){if(typeof y!="function")throw new Error(Ci(4));if(l)throw new Error(Ci(5));var w=!0;return u(),c.push(y),function(){if(w){if(l)throw new Error(Ci(6));w=!1,u();var k=c.indexOf(y);c.splice(k,1),a=null}}}function m(y){if(!RZ(y))throw new Error(Ci(7));if(typeof y.type>"u")throw new Error(Ci(8));if(l)throw new Error(Ci(9));try{l=!0,i=n(i,y)}finally{l=!1}for(var w=a=c,C=0;C<w.length;C++){var k=w[C];k()}return y}function f(y){if(typeof y!="function")throw new Error(Ci(10));n=y,m({type:L7.REPLACE})}function h(){var y,w=p;return y={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Ci(11));function _(){k.next&&k.next(d())}_();var P=w(_);return{unsubscribe:P}}},y[M7]=function(){return this},y}return m({type:L7.INIT}),r={dispatch:m,subscribe:p,getState:d,replaceReducer:f},r[M7]=h,r}s();s();s();s();function de(t,o,...e){if(EZ()&&o===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(o===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;r=new Error(o.replace(/%s/g,function(){return e[n++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function EZ(){return typeof process<"u"&&!0}s();function D7(t,o,e){return o.split(".").reduce((r,n)=>r&&r[n]?r[n]:e||null,t)}function N7(t,o){return t.filter(e=>e!==o)}function qy(t){return typeof t=="object"}function A7(t,o){let e=new Map,r=i=>{e.set(i,e.has(i)?e.get(i)+1:1)};t.forEach(r),o.forEach(r);let n=[];return e.forEach((i,a)=>{i===1&&n.push(a)}),n}function B7(t,o){return t.filter(e=>o.indexOf(e)>-1)}s();s();var ld="dnd-core/INIT_COORDS",Cc="dnd-core/BEGIN_DRAG",ud="dnd-core/PUBLISH_DRAG_SOURCE",xc="dnd-core/HOVER",kc="dnd-core/DROP",Oc="dnd-core/END_DRAG";function Hx(t,o){return{type:ld,payload:{sourceClientOffset:o||null,clientOffset:t||null}}}var TZ={type:ld,payload:{clientOffset:null,sourceClientOffset:null}};function q7(t){return function(e=[],r={publishSource:!0}){let{publishSource:n=!0,clientOffset:i,getSourceClientOffset:a}=r,c=t.getMonitor(),l=t.getRegistry();t.dispatch(Hx(i)),MZ(e,c,l);let u=NZ(e,c);if(u==null){t.dispatch(TZ);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");LZ(a),d=a(u)}t.dispatch(Hx(i,d));let m=l.getSource(u).beginDrag(c,u);if(m==null)return;DZ(m),l.pinSource(u);let f=l.getSourceType(u);return{type:Cc,payload:{itemType:f,item:m,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!n}}}}function MZ(t,o,e){de(!o.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){de(e.getSource(r),"Expected sourceIds to be registered.")})}function LZ(t){de(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function DZ(t){de(qy(t),"Item must be an object.")}function NZ(t,o){let e=null;for(let r=t.length-1;r>=0;r--)if(o.canDragSource(t[r])){e=t[r];break}return e}s();function AZ(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function BZ(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){AZ(t,n,e[n])})}return t}function W7(t){return function(e={}){let r=t.getMonitor(),n=t.getRegistry();qZ(r),zZ(r).forEach((a,c)=>{let l=WZ(a,c,n,r),u={type:kc,payload:{dropResult:BZ({},e,l)}};t.dispatch(u)})}}function qZ(t){de(t.isDragging(),"Cannot call drop while not dragging."),de(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function WZ(t,o,e,r){let n=e.getTarget(t),i=n?n.drop(r,t):void 0;return FZ(i),typeof i>"u"&&(i=o===0?{}:r.getDropResult()),i}function FZ(t){de(typeof t>"u"||qy(t),"Drop result must either be an object or undefined.")}function zZ(t){let o=t.getTargetIds().filter(t.canDropOnTarget,t);return o.reverse(),o}s();function F7(t){return function(){let e=t.getMonitor(),r=t.getRegistry();VZ(e);let n=e.getSourceId();return n!=null&&(r.getSource(n,!0).endDrag(e,n),r.unpinSource()),{type:Oc}}}function VZ(t){de(t.isDragging(),"Cannot call endDrag while not dragging.")}s();s();function Om(t,o){return o===null?t===null:Array.isArray(t)?t.some(e=>e===o):t===o}function z7(t){return function(e,{clientOffset:r}={}){GZ(e);let n=e.slice(0),i=t.getMonitor(),a=t.getRegistry(),c=i.getItemType();return KZ(n,a,c),HZ(n,i,a),XZ(n,i,a),{type:xc,payload:{targetIds:n,clientOffset:r||null}}}}function GZ(t){de(Array.isArray(t),"Expected targetIds to be an array.")}function HZ(t,o,e){de(o.isDragging(),"Cannot call hover while not dragging."),de(!o.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){let n=t[r];de(t.lastIndexOf(n)===r,"Expected targetIds to be unique in the passed array.");let i=e.getTarget(n);de(i,"Expected targetIds to be registered.")}}function KZ(t,o,e){for(let r=t.length-1;r>=0;r--){let n=t[r],i=o.getTargetType(n);Om(i,e)||t.splice(r,1)}}function XZ(t,o,e){t.forEach(function(r){e.getTarget(r).hover(o,r)})}s();function V7(t){return function(){if(t.getMonitor().isDragging())return{type:ud}}}function G7(t){return{beginDrag:q7(t),publishDragSource:V7(t),hover:z7(t),drop:W7(t),endDrag:F7(t)}}var Wy=class{receiveBackend(o){this.backend=o}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let o=this,{dispatch:e}=this.store;function r(i){return(...a)=>{let c=i.apply(o,a);typeof c<"u"&&e(c)}}let n=G7(this);return Object.keys(n).reduce((i,a)=>{let c=n[a];return i[a]=r(c),i},{})}dispatch(o){this.store.dispatch(o)}constructor(o,e){this.isSetUp=!1,this.handleRefCountChange=()=>{let r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=o,this.monitor=e,o.subscribe(this.handleRefCountChange)}};s();s();function UZ(t,o){return{x:t.x+o.x,y:t.y+o.y}}function H7(t,o){return{x:t.x-o.x,y:t.y-o.y}}function K7(t){let{clientOffset:o,initialClientOffset:e,initialSourceClientOffset:r}=t;return!o||!e||!r?null:H7(UZ(o,r),e)}function X7(t){let{clientOffset:o,initialClientOffset:e}=t;return!o||!e?null:H7(o,e)}s();var dd=[],Fy=[];dd.__IS_NONE__=!0;Fy.__IS_ALL__=!0;function U7(t,o){return t===dd?!1:t===Fy||typeof o>"u"?!0:B7(o,t).length>0}var zy=class{subscribeToStateChange(o,e={}){let{handlerIds:r}=e;de(typeof o=="function","listener must be a function."),de(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId,i=()=>{let a=this.store.getState(),c=a.stateId;try{c===n||c===n+1&&!U7(a.dirtyHandlerIds,r)||o()}finally{n=c}};return this.store.subscribe(i)}subscribeToOffsetChange(o){de(typeof o=="function","listener must be a function.");let e=this.store.getState().dragOffset,r=()=>{let n=this.store.getState().dragOffset;n!==e&&(e=n,o())};return this.store.subscribe(r)}canDragSource(o){if(!o)return!1;let e=this.registry.getSource(o);return de(e,`Expected to find a valid source. sourceId=${o}`),this.isDragging()?!1:e.canDrag(this,o)}canDropOnTarget(o){if(!o)return!1;let e=this.registry.getTarget(o);if(de(e,`Expected to find a valid target. targetId=${o}`),!this.isDragging()||this.didDrop())return!1;let r=this.registry.getTargetType(o),n=this.getItemType();return Om(r,n)&&e.canDrop(this,o)}isDragging(){return!!this.getItemType()}isDraggingSource(o){if(!o)return!1;let e=this.registry.getSource(o,!0);if(de(e,`Expected to find a valid source. sourceId=${o}`),!this.isDragging()||!this.isSourcePublic())return!1;let r=this.registry.getSourceType(o),n=this.getItemType();return r!==n?!1:e.isDragging(this,o)}isOverTarget(o,e={shallow:!1}){if(!o)return!1;let{shallow:r}=e;if(!this.isDragging())return!1;let n=this.registry.getTargetType(o),i=this.getItemType();if(i&&!Om(n,i))return!1;let a=this.getTargetIds();if(!a.length)return!1;let c=a.indexOf(o);return r?c===a.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return K7(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return X7(this.store.getState().dragOffset)}constructor(o,e){this.store=o,this.registry=e}};s();s();s();s();s();var j7=typeof window<"u"?window:self,Y7=j7.MutationObserver||j7.WebKitMutationObserver;function Kx(t){return function(){let e=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(e),clearInterval(r),t()}}}function jZ(t){let o=1,e=new Y7(t),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){o=-o,r.data=o}}var $7=typeof Y7=="function"?jZ:Kx;var Vy=class{enqueueTask(o){let{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=o}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:o}=this;for(;this.index<o.length;){let e=this.index;if(this.index++,o[e].call(),this.index>this.capacity){for(let r=0,n=o.length-this.index;r<n;r++)o[r]=o[r+this.index];o.length-=this.index,this.index=0}}o.length=0,this.index=0,this.flushing=!1},this.registerPendingError=o=>{this.pendingErrors.push(o),this.requestErrorThrow()},this.requestFlush=$7(this.flush),this.requestErrorThrow=Kx(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};s();s();var Gy=class{call(){try{this.task&&this.task()}catch(o){this.onError(o)}finally{this.task=null,this.release(this)}}constructor(o,e){this.onError=o,this.release=e,this.task=null}};var Hy=class{create(o){let e=this.freeTasks,r=e.length?e.pop():new Gy(this.onError,n=>e[e.length]=n);return r.task=o,r}constructor(o){this.onError=o,this.freeTasks=[]}};var Z7=new Vy,YZ=new Hy(Z7.registerPendingError);function Q7(t){Z7.enqueueTask(YZ.create(t))}s();s();var Im="dnd-core/ADD_SOURCE",_m="dnd-core/ADD_TARGET",Pm="dnd-core/REMOVE_SOURCE",Ol="dnd-core/REMOVE_TARGET";function J7(t){return{type:Im,payload:{sourceId:t}}}function e2(t){return{type:_m,payload:{targetId:t}}}function t2(t){return{type:Pm,payload:{sourceId:t}}}function o2(t){return{type:Ol,payload:{targetId:t}}}s();function r2(t){de(typeof t.canDrag=="function","Expected canDrag to be a function."),de(typeof t.beginDrag=="function","Expected beginDrag to be a function."),de(typeof t.endDrag=="function","Expected endDrag to be a function.")}function n2(t){de(typeof t.canDrop=="function","Expected canDrop to be a function."),de(typeof t.hover=="function","Expected hover to be a function."),de(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ky(t,o){if(o&&Array.isArray(t)){t.forEach(e=>Ky(e,!1));return}de(typeof t=="string"||typeof t=="symbol",o?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}s();var Un;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Un||(Un={}));s();var $Z=0;function i2(){return $Z++}function ZZ(t){let o=i2().toString();switch(t){case Un.SOURCE:return`S${o}`;case Un.TARGET:return`T${o}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function a2(t){switch(t[0]){case"S":return Un.SOURCE;case"T":return Un.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function s2(t,o){let e=t.entries(),r=!1;do{let{done:n,value:[,i]}=e.next();if(i===o)return!0;r=!!n}while(!r);return!1}var Xy=class{addSource(o,e){Ky(o),r2(e);let r=this.addHandler(Un.SOURCE,o,e);return this.store.dispatch(J7(r)),r}addTarget(o,e){Ky(o,!0),n2(e);let r=this.addHandler(Un.TARGET,o,e);return this.store.dispatch(e2(r)),r}containsHandler(o){return s2(this.dragSources,o)||s2(this.dropTargets,o)}getSource(o,e=!1){return de(this.isSourceId(o),"Expected a valid source ID."),e&&o===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(o)}getTarget(o){return de(this.isTargetId(o),"Expected a valid target ID."),this.dropTargets.get(o)}getSourceType(o){return de(this.isSourceId(o),"Expected a valid source ID."),this.types.get(o)}getTargetType(o){return de(this.isTargetId(o),"Expected a valid target ID."),this.types.get(o)}isSourceId(o){return a2(o)===Un.SOURCE}isTargetId(o){return a2(o)===Un.TARGET}removeSource(o){de(this.getSource(o),"Expected an existing source."),this.store.dispatch(t2(o)),Q7(()=>{this.dragSources.delete(o),this.types.delete(o)})}removeTarget(o){de(this.getTarget(o),"Expected an existing target."),this.store.dispatch(o2(o)),this.dropTargets.delete(o),this.types.delete(o)}pinSource(o){let e=this.getSource(o);de(e,"Expected an existing source."),this.pinnedSourceId=o,this.pinnedSource=e}unpinSource(){de(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(o,e,r){let n=ZZ(o);return this.types.set(n,e),o===Un.SOURCE?this.dragSources.set(n,r):o===Un.TARGET&&this.dropTargets.set(n,r),n}constructor(o){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=o}};s();s();s();var QZ=(t,o)=>t===o;function c2(t,o){return!t&&!o?!0:!t||!o?!1:t.x===o.x&&t.y===o.y}function l2(t,o,e=QZ){if(t.length!==o.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],o[r]))return!1;return!0}function u2(t=dd,o){switch(o.type){case xc:break;case Im:case _m:case Ol:case Pm:return dd;case Cc:case ud:case Oc:case kc:default:return Fy}let{targetIds:e=[],prevTargetIds:r=[]}=o.payload,n=A7(e,r);if(!(n.length>0||!l2(e,r)))return dd;let a=r[r.length-1],c=e[e.length-1];return a!==c&&(a&&n.push(a),c&&n.push(c)),n}s();function JZ(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function eQ(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){JZ(t,n,e[n])})}return t}var d2={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function p2(t=d2,o){let{payload:e}=o;switch(o.type){case ld:case Cc:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case xc:return c2(t.clientOffset,e.clientOffset)?t:eQ({},t,{clientOffset:e.clientOffset});case Oc:case kc:return d2;default:return t}}s();function tQ(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function pd(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){tQ(t,n,e[n])})}return t}var oQ={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function m2(t=oQ,o){let{payload:e}=o;switch(o.type){case Cc:return pd({},t,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case ud:return pd({},t,{isSourcePublic:!0});case xc:return pd({},t,{targetIds:e.targetIds});case Ol:return t.targetIds.indexOf(e.targetId)===-1?t:pd({},t,{targetIds:N7(t.targetIds,e.targetId)});case kc:return pd({},t,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case Oc:return pd({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}s();function f2(t=0,o){switch(o.type){case Im:case _m:return t+1;case Pm:case Ol:return t-1;default:return t}}s();function g2(t=0){return t+1}function rQ(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function nQ(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){rQ(t,n,e[n])})}return t}function h2(t={},o){return{dirtyHandlerIds:u2(t.dirtyHandlerIds,{type:o.type,payload:nQ({},o.payload,{prevTargetIds:D7(t,"dragOperation.targetIds",[])})}),dragOffset:p2(t.dragOffset,o),refCount:f2(t.refCount,o),dragOperation:m2(t.dragOperation,o),stateId:g2(t.stateId)}}function y2(t,o=void 0,e={},r=!1){let n=iQ(r),i=new zy(n,new Xy(n)),a=new Wy(n,i),c=t(a,o,e);return a.receiveBackend(c),a}function iQ(t){let o=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Gx(h2,t&&o&&o({name:"dnd-core",instanceId:"dnd-core"}))}var jy=x(O(),1);function aQ(t,o){if(t==null)return{};var e=sQ(t,o),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(o.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function sQ(t,o){if(t==null)return{};var e={},r=Object.keys(t),n,i;for(i=0;i<r.length;i++)n=r[i],!(o.indexOf(n)>=0)&&(e[n]=t[n]);return e}var v2=0,Uy=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),S2=(0,jy.memo)(function(o){var{children:e}=o,r=aQ(o,["children"]);let[n,i]=cQ(r);return(0,jy.useEffect)(()=>{if(i){let a=w2();return++v2,()=>{--v2===0&&(a[Uy]=null)}}},[]),(0,b2.jsx)(Ay.Provider,{value:n,children:e})});function cQ(t){if("manager"in t)return[{dragDropManager:t.manager},!1];let o=lQ(t.backend,t.context,t.options,t.debugMode),e=!t.context;return[o,e]}function lQ(t,o=w2(),e,r){let n=o;return n[Uy]||(n[Uy]={dragDropManager:y2(t,o,e,r)}),n[Uy]}function w2(){return window}s();s();s();s();var C2=x(LF(),1),$y=x(O(),1);s();var Yy=x(O(),1),jn=typeof window<"u"?Yy.useLayoutEffect:Yy.useEffect;function x2(t,o,e){let[r,n]=(0,$y.useState)(()=>o(t)),i=(0,$y.useCallback)(()=>{let a=o(t);(0,C2.default)(r,a)||(n(a),e&&e())},[r,t,e]);return jn(i),[r,i]}function k2(t,o,e){let[r,n]=x2(t,o,e);return jn(function(){let a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(n,{handlerIds:[a]})},[t,n]),r}function Zy(t,o,e){return k2(o,t||(()=>({})),()=>e.reconnect())}s();var O2=x(O(),1);function Qy(t,o){let e=[...o||[]];return o==null&&typeof t!="function"&&e.push(t),(0,O2.useMemo)(()=>typeof t=="function"?t():t,e)}s();var Xx=x(O(),1);function I2(t){return(0,Xx.useMemo)(()=>t.hooks.dragSource(),[t])}function _2(t){return(0,Xx.useMemo)(()=>t.hooks.dragPreview(),[t])}s();var M2=x(O(),1);s();var Ux=!1,jx=!1,Jy=class{receiveHandlerId(o){this.sourceId=o}getHandlerId(){return this.sourceId}canDrag(){de(!Ux,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ux=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ux=!1}}isDragging(){if(!this.sourceId)return!1;de(!jx,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return jx=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{jx=!1}}subscribeToStateChange(o,e){return this.internalMonitor.subscribeToStateChange(o,e)}isDraggingSource(o){return this.internalMonitor.isDraggingSource(o)}isOverTarget(o,e){return this.internalMonitor.isOverTarget(o,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(o){return this.internalMonitor.subscribeToOffsetChange(o)}canDragSource(o){return this.internalMonitor.canDragSource(o)}canDropOnTarget(o){return this.internalMonitor.canDropOnTarget(o)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(o){this.sourceId=null,this.internalMonitor=o.getMonitor()}};s();var Yx=!1,ev=class{receiveHandlerId(o){this.targetId=o}getHandlerId(){return this.targetId}subscribeToStateChange(o,e){return this.internalMonitor.subscribeToStateChange(o,e)}canDrop(){if(!this.targetId)return!1;de(!Yx,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Yx=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Yx=!1}}isOver(o){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,o):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(o){this.targetId=null,this.internalMonitor=o.getMonitor()}};s();function P2(t,o,e){let r=e.getRegistry(),n=r.addTarget(t,o);return[n,()=>r.removeTarget(n)]}function R2(t,o,e){let r=e.getRegistry(),n=r.addSource(t,o);return[n,()=>r.removeSource(n)]}s();s();function Rm(t,o,e,r){let n=e?e.call(r,t,o):void 0;if(n!==void 0)return!!n;if(t===o)return!0;if(typeof t!="object"||!t||typeof o!="object"||!o)return!1;let i=Object.keys(t),a=Object.keys(o);if(i.length!==a.length)return!1;let c=Object.prototype.hasOwnProperty.bind(o);for(let l=0;l<i.length;l++){let u=i[l];if(!c(u))return!1;let d=t[u],p=o[u];if(n=e?e.call(r,d,p,u):void 0,n===!1||n===void 0&&d!==p)return!1}return!0}s();function Em(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}s();var Tm=x(O(),1);function uQ(t){if(typeof t.type=="string")return;let o=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${o} into a <div>, or turn it into a drag source or a drop target itself.`)}function dQ(t){return(o=null,e=null)=>{if(!(0,Tm.isValidElement)(o)){let i=o;return t(i,e),i}let r=o;return uQ(r),pQ(r,e?i=>t(i,e):t)}}function tv(t){let o={};return Object.keys(t).forEach(e=>{let r=t[e];if(e.endsWith("Ref"))o[e]=t[e];else{let n=dQ(r);o[e]=()=>n}}),o}function E2(t,o){typeof t=="function"?t(o):t.current=o}function pQ(t,o){let e=t.ref;return de(typeof e!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),e?(0,Tm.cloneElement)(t,{ref:r=>{E2(e,r),E2(o,r)}}):(0,Tm.cloneElement)(t,{ref:o})}var ov=class{receiveHandlerId(o){this.handlerId!==o&&(this.handlerId=o,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(o){this.dragSourceOptionsInternal=o}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(o){this.dragPreviewOptionsInternal=o}reconnect(){let o=this.reconnectDragSource();this.reconnectDragPreview(o)}reconnectDragSource(){let o=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?o?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=o,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,o,this.dragSourceOptions)),e):(this.lastConnectedDragSource=o,e):e}reconnectDragPreview(o=!1){let e=this.dragPreview,r=o||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Rm(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Rm(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(o){this.hooks=tv({dragSource:(e,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Em(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Em(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=o}};s();var rv=class{get connectTarget(){return this.dropTarget}reconnect(){let o=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();o&&this.disconnectDropTarget();let e=this.dropTarget;if(this.handlerId){if(!e){this.lastConnectedDropTarget=e;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions))}}receiveHandlerId(o){o!==this.handlerId&&(this.handlerId=o,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(o){this.dropTargetOptionsInternal=o}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Rm(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(o){this.hooks=tv({dropTarget:(e,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Em(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=o}};s();var T2=x(O(),1);function xi(){let{dragDropManager:t}=(0,T2.useContext)(Ay);return de(t!=null,"Expected drag drop context"),t}function L2(t,o){let e=xi(),r=(0,M2.useMemo)(()=>new ov(e.getBackend()),[e]);return jn(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),jn(()=>(r.dragPreviewOptions=o||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,o]),r}s();var D2=x(O(),1);function N2(){let t=xi();return(0,D2.useMemo)(()=>new Jy(t),[t])}s();s();var iv=x(O(),1);s();var nv=class{beginDrag(){let o=this.spec,e=this.monitor,r=null;return typeof o.item=="object"?r=o.item:typeof o.item=="function"?r=o.item(e):r={},r!=null?r:null}canDrag(){let o=this.spec,e=this.monitor;return typeof o.canDrag=="boolean"?o.canDrag:typeof o.canDrag=="function"?o.canDrag(e):!0}isDragging(o,e){let r=this.spec,n=this.monitor,{isDragging:i}=r;return i?i(n):e===o.getSourceId()}endDrag(){let o=this.spec,e=this.monitor,r=this.connector,{end:n}=o;n&&n(e.getItem(),e),r.reconnect()}constructor(o,e,r){this.spec=o,this.monitor=e,this.connector=r}};function A2(t,o,e){let r=(0,iv.useMemo)(()=>new nv(t,o,e),[o,e]);return(0,iv.useEffect)(()=>{r.spec=t},[t]),r}s();var B2=x(O(),1);function q2(t){return(0,B2.useMemo)(()=>{let o=t.type;return de(o!=null,"spec.type must be defined"),o},[t])}function W2(t,o,e){let r=xi(),n=A2(t,o,e),i=q2(t);jn(function(){if(i!=null){let[c,l]=R2(i,n,r);return o.receiveHandlerId(c),e.receiveHandlerId(c),l}},[r,o,e,n,i])}function Ic(t,o){let e=Qy(t,o);de(!e.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let r=N2(),n=L2(e.options,e.previewOptions);return W2(e,r,n),[Zy(e.collect,r,n),I2(n),_2(n)]}s();s();var F2=x(O(),1);function z2(t){return(0,F2.useMemo)(()=>t.hooks.dropTarget(),[t])}s();var V2=x(O(),1);function G2(t){let o=xi(),e=(0,V2.useMemo)(()=>new rv(o.getBackend()),[o]);return jn(()=>(e.dropTargetOptions=t||null,e.reconnect(),()=>e.disconnectDropTarget()),[t]),e}s();var H2=x(O(),1);function K2(){let t=xi();return(0,H2.useMemo)(()=>new ev(t),[t])}s();s();var X2=x(O(),1);function U2(t){let{accept:o}=t;return(0,X2.useMemo)(()=>(de(t.accept!=null,"accept must be defined"),Array.isArray(o)?o:[o]),[o])}s();var sv=x(O(),1);s();var av=class{canDrop(){let o=this.spec,e=this.monitor;return o.canDrop?o.canDrop(e.getItem(),e):!0}hover(){let o=this.spec,e=this.monitor;o.hover&&o.hover(e.getItem(),e)}drop(){let o=this.spec,e=this.monitor;if(o.drop)return o.drop(e.getItem(),e)}constructor(o,e){this.spec=o,this.monitor=e}};function j2(t,o){let e=(0,sv.useMemo)(()=>new av(t,o),[o]);return(0,sv.useEffect)(()=>{e.spec=t},[t]),e}function Y2(t,o,e){let r=xi(),n=j2(t,o),i=U2(t);jn(function(){let[c,l]=P2(i,n,r);return o.receiveHandlerId(c),e.receiveHandlerId(c),l},[r,o,n,e,i.map(a=>a.toString()).join("|")])}function on(t,o){let e=Qy(t,o),r=K2(),n=G2(e.options);return Y2(e,r,n),[Zy(e.collect,r,n),z2(n)]}G();s();var rA=x(O());s();s();s();s();function $x(t){let o=null;return()=>(o==null&&(o=t()),o)}function $2(t,o){return t.filter(e=>e!==o)}function Z2(t,o){let e=new Set,r=i=>e.add(i);t.forEach(r),o.forEach(r);let n=[];return e.forEach(i=>n.push(i)),n}var cv=class{enter(o){let e=this.entered.length,r=n=>this.isNodeInDocument(n)&&(!n.contains||n.contains(o));return this.entered=Z2(this.entered.filter(r),[o]),e===0&&this.entered.length>0}leave(o){let e=this.entered.length;return this.entered=$2(this.entered.filter(this.isNodeInDocument),o),e>0&&this.entered.length===0}reset(){this.entered=[]}constructor(o){this.entered=[],this.isNodeInDocument=o}};s();s();var lv=class{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(o=>{Object.defineProperty(this.item,o,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${o}" until the drop event.`),null}})})}loadDataTransfer(o){if(o){let e={};Object.keys(this.config.exposeProperties).forEach(r=>{let n=this.config.exposeProperties[r];n!=null&&(e[r]={value:n(o,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(o,e){return e===o.getSourceId()}endDrag(){}constructor(o){this.config=o,this.item={},this.initializeExposedProperties()}};s();var Mm={};I1(Mm,{FILE:()=>Zx,HTML:()=>ek,TEXT:()=>Jx,URL:()=>Qx});s();var Zx="__NATIVE_FILE__",Qx="__NATIVE_URL__",Jx="__NATIVE_TEXT__",ek="__NATIVE_HTML__";s();function uv(t,o,e){let r=o.reduce((n,i)=>n||t.getData(i),"");return r!=null?r:e}var dv={[Zx]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[ek]:{exposeProperties:{html:(t,o)=>uv(t,o,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Qx]:{exposeProperties:{urls:(t,o)=>uv(t,o,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Jx]:{exposeProperties:{text:(t,o)=>uv(t,o,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Q2(t,o){let e=dv[t];if(!e)throw new Error(`native type ${t} has no configuration`);let r=new lv(e);return r.loadDataTransfer(o),r}function pv(t){if(!t)return null;let o=Array.prototype.slice.call(t.types||[]);return Object.keys(dv).filter(e=>{let r=dv[e];return r!=null&&r.matchesTypes?r.matchesTypes.some(n=>o.indexOf(n)>-1):!1})[0]||null}s();s();var J2=$x(()=>/firefox/i.test(navigator.userAgent)),tk=$x(()=>!!window.safari);s();var Lm=class{interpolate(o){let{xs:e,ys:r,c1s:n,c2s:i,c3s:a}=this,c=e.length-1;if(o===e[c])return r[c];let l=0,u=a.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));let f=e[d];if(f<o)l=d+1;else if(f>o)u=d-1;else return r[d]}c=Math.max(0,u);let p=o-e[c],m=p*p;return r[c]+n[c]*p+i[c]*m+a[c]*p*m}constructor(o,e){let{length:r}=o,n=[];for(let h=0;h<r;h++)n.push(h);n.sort((h,y)=>o[h]<o[y]?-1:1);let i=[],a=[],c=[],l,u;for(let h=0;h<r-1;h++)l=o[h+1]-o[h],u=e[h+1]-e[h],a.push(l),i.push(u),c.push(u/l);let d=[c[0]];for(let h=0;h<a.length-1;h++){let y=c[h],w=c[h+1];if(y*w<=0)d.push(0);else{l=a[h];let C=a[h+1],k=l+C;d.push(3*k/((k+C)/y+(k+l)/w))}}d.push(c[c.length-1]);let p=[],m=[],f;for(let h=0;h<d.length-1;h++){f=c[h];let y=d[h],w=1/a[h],C=y+d[h+1]-f-f;p.push((f-y-C)*w),m.push(C*w*w)}this.xs=o,this.ys=e,this.c1s=d,this.c2s=p,this.c3s=m}};var mQ=1;function ok(t){let o=t.nodeType===mQ?t:t.parentElement;if(!o)return null;let{top:e,left:r}=o.getBoundingClientRect();return{x:r,y:e}}function Dm(t){return{x:t.clientX,y:t.clientY}}function fQ(t){var o;return t.nodeName==="IMG"&&(J2()||!(!((o=document.documentElement)===null||o===void 0)&&o.contains(t)))}function gQ(t,o,e,r){let n=t?o.width:e,i=t?o.height:r;return tk()&&t&&(i/=window.devicePixelRatio,n/=window.devicePixelRatio),{dragPreviewWidth:n,dragPreviewHeight:i}}function eA(t,o,e,r,n){let i=fQ(o),c=ok(i?t:o),l={x:e.x-c.x,y:e.y-c.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:p,anchorY:m}=r,{dragPreviewWidth:f,dragPreviewHeight:h}=gQ(i,o,u,d),y=()=>{let T=new Lm([0,.5,1],[l.y,l.y/d*h,l.y+h-d]).interpolate(m);return tk()&&i&&(T+=(window.devicePixelRatio-1)*h),T},w=()=>new Lm([0,.5,1],[l.x,l.x/u*f,l.x+f-u]).interpolate(p),{offsetX:C,offsetY:k}=n,_=C===0||C,P=k===0||k;return{x:_?C:w(),y:P?k:y()}}s();var mv=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var o;return!((o=this.globalContext)===null||o===void 0)&&o.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var o;return((o=this.optionsArgs)===null||o===void 0?void 0:o.rootElement)||this.window}constructor(o,e){this.ownerDocument=null,this.globalContext=o,this.optionsArgs=e}};function hQ(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function tA(t){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{},r=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){hQ(t,n,e[n])})}return t}var fv=class{profile(){var o,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((o=this.dragStartSourceIds)===null||o===void 0?void 0:o.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let o=this.rootElement;if(o!==void 0){if(o.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");o.__isReactDndBackendSetUp=!0,this.addEventListeners(o)}}teardown(){let o=this.rootElement;if(o!==void 0&&(o.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var e;(e=this.window)===null||e===void 0||e.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(o,e,r){return this.sourcePreviewNodeOptions.set(o,r),this.sourcePreviewNodes.set(o,e),()=>{this.sourcePreviewNodes.delete(o),this.sourcePreviewNodeOptions.delete(o)}}connectDragSource(o,e,r){this.sourceNodes.set(o,e),this.sourceNodeOptions.set(o,r);let n=a=>this.handleDragStart(a,o),i=a=>this.handleSelectStart(a);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",n),e.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(o),this.sourceNodeOptions.delete(o),e.removeEventListener("dragstart",n),e.removeEventListener("selectstart",i),e.setAttribute("draggable","false")}}connectDropTarget(o,e){let r=a=>this.handleDragEnter(a,o),n=a=>this.handleDragOver(a,o),i=a=>this.handleDrop(a,o);return e.addEventListener("dragenter",r),e.addEventListener("dragover",n),e.addEventListener("drop",i),()=>{e.removeEventListener("dragenter",r),e.removeEventListener("dragover",n),e.removeEventListener("drop",i)}}addEventListeners(o){o.addEventListener&&(o.addEventListener("dragstart",this.handleTopDragStart),o.addEventListener("dragstart",this.handleTopDragStartCapture,!0),o.addEventListener("dragend",this.handleTopDragEndCapture,!0),o.addEventListener("dragenter",this.handleTopDragEnter),o.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),o.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),o.addEventListener("dragover",this.handleTopDragOver),o.addEventListener("dragover",this.handleTopDragOverCapture,!0),o.addEventListener("drop",this.handleTopDrop),o.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(o){o.removeEventListener&&(o.removeEventListener("dragstart",this.handleTopDragStart),o.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),o.removeEventListener("dragend",this.handleTopDragEndCapture,!0),o.removeEventListener("dragenter",this.handleTopDragEnter),o.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),o.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),o.removeEventListener("dragover",this.handleTopDragOver),o.removeEventListener("dragover",this.handleTopDragOverCapture,!0),o.removeEventListener("drop",this.handleTopDrop),o.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let o=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(o);return tA({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let o=this.monitor.getSourceId(),e=this.sourcePreviewNodeOptions.get(o);return tA({anchorX:.5,anchorY:.5,captureDraggingState:!1},e||{})}isDraggingNativeItem(){let o=this.monitor.getItemType();return Object.keys(Mm).some(e=>Mm[e]===o)}beginDragNativeItem(o,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=Q2(o,e),this.currentNativeHandle=this.registry.addSource(o,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(o){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=o;let e=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var o;(o=this.window)===null||o===void 0||o.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(o,e){o.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(o,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(o,e){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(o,e){this.dropTargetIds.unshift(e)}constructor(o,e,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=n=>{let i=this.sourceNodes.get(n);return i&&ok(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=n=>!!(n&&this.document&&this.document.body&&this.document.body.contains(n)),this.endDragIfSourceWasRemovedFromDOM=()=>{let n=this.currentDragSourceNode;n==null||this.isNodeInDocument(n)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=n=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(n||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=n=>{if(n.defaultPrevented)return;let{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;let a=Dm(n);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});let{dataTransfer:c}=n,l=pv(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){let d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),m=this.sourcePreviewNodes.get(d)||p;if(m){let{anchorX:f,anchorY:h,offsetX:y,offsetY:w}=this.getCurrentSourcePreviewNodeOptions(),_=eA(p,m,a,{anchorX:f,anchorY:h},{offsetX:y,offsetY:w});c.setDragImage(m,_.x,_.y)}}try{c==null||c.setData("application/json",{})}catch(d){}this.setCurrentDragSourceNode(n.target);let{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(n.target&&!n.target.hasAttribute||!n.target.hasAttribute("draggable")))return;n.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=n=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}if(!this.enterLeaveCounter.enter(n.target)||this.monitor.isDragging())return;let{dataTransfer:c}=n,l=pv(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=n=>{let{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=n.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Dm(n)}),i.some(c=>this.monitor.canDropOnTarget(c))&&(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=n=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}},this.handleTopDragOver=n=>{let{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="none");return}this.altKeyPressed=n.altKey,this.lastClientOffset=Dm(n),this.scheduleHover(i),(i||[]).some(c=>this.monitor.canDropOnTarget(c))?(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?n.preventDefault():(n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=n=>{this.isDraggingNativeItem()&&n.preventDefault(),this.enterLeaveCounter.leave(n.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=n=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;n.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(n.dataTransfer)}else pv(n.dataTransfer)&&n.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=n=>{let{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Dm(n)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=n=>{let i=n.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(n.preventDefault(),i.dragDrop()))},this.options=new mv(e,r),this.actions=o.getActions(),this.monitor=o.getMonitor(),this.registry=o.getRegistry(),this.enterLeaveCounter=new cv(this.isNodeInDocument)}};s();var gv;function rk(){return gv||(gv=new Image,gv.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),gv}var oA=function(o,e,r){return new fv(o,e,r)};function nA(t){return rA.createElement(S2,{backend:oA},t.children)}s();function iA(t){switch(t.type){case"space":return{kind:"space",space:t.id};case"collection":return{kind:"collection",collection:t.id};case"page":return{kind:"page",space:t.space,page:t.id};case"block":case"tab":case"swagger-response":case"swagger-parameter":throw new Error(`Invalid DND item "${t.type}"`);default:qe(t)}}s();var aA=x(O());function Aa(t,o){let[e,r,n]=Ic(t,o);return(0,aA.useEffect)(()=>{n(rk(),{captureDraggingState:!0})},[n]),[e,r,n]}var sA=H.createInteractiveHandle("swagger-row");function hv(t){var q,Y;let{dragItem:o,columns:e,isLast:r,children:n,palette:i,onDropBefore:a,onDropAfter:c,onInsertBefore:l,onInsertAfter:u,readOnly:d,opened:p,setOpened:m,node:f,ancestors:h}=t,[,y]=I(yQ),w=md({node:f,ancestors:h}),[{dragging:C},k]=Aa({type:o.type,item:o,canDrag:()=>!t.readOnly,collect:te=>({dragging:te.isDragging()})}),[_,P]=on({accept:o.type,drop:(te,X)=>{X.didDrop()||a(te)},canDrop:te=>o.id!==te.id&&o.blockKey===te.blockKey,collect:te=>({highlighted:te.isOver()&&te.canDrop()})}),[R,T]=on({accept:o.type,drop:(te,X)=>{X.didDrop()||c(te)},canDrop:te=>o.id!==te.id&&o.blockKey===te.blockKey,collect:te=>({highlighted:te.isOver()&&te.canDrop()})}),E=sr.useRef(null),A=gi(E,k),V=pe(E);return sr.createElement(S,null,sr.createElement(S,null,sr.createElement(H.View,{handle:sA,style:[b.directionRow,b.alignCenter,g.Padding.largeRight,C?Ze.translucent:Ze.visible]},d?null:sr.createElement(Z.View,{style:[b.justifyContentCenter,(q=w.controlButtons)==null?void 0:q.position],mobileStyle:"hidden"},sr.createElement(H.View.Child,{descendantOf:sA,activeStyle:Ze.visible,inactiveStyle:V.opened?{}:Ze.hidden},sr.createElement(W,{ref:A,icon:v.GrabberVertical,size:(Y=w.controlButtons)==null?void 0:Y.size,rounded:!0,kind:"secondary",title:`Click for options.
Drag to move.`,onPress:()=>{V.open(i())}}))),sr.createElement(Z.View,{style:[b.flex1,b.directionRow],mobileStyle:[b.wrap,b.alignStart,g.Padding.smallVertical],desktopStyle:[b.alignStart,g.Padding.mediumVertical]},e.map((te,X)=>sr.createElement(Z.View,{key:X,style:[g.Padding.smallRight],desktopStyle:[te.desktopSize],mobileStyle:[y.columnResetWidth,te.mobileSize]},te.content))),n&&m?sr.createElement(S,{style:[g.Margin.mediumLeft]},sr.createElement(W,{icon:p?v.ChevronDown:v.ChevronRight,onPress:()=>m(!p)})):null),p?sr.createElement(S,null,n):null,r?null:sr.createElement(S,{style:y.borderLine})),d?null:sr.createElement(wp,{ref:P,position:"top",dropHovered:_.highlighted,button:{kind:"secondary",icon:v.Plus,onPress:l}}),r&&!d?sr.createElement(wp,{ref:T,position:"bottom",dropHovered:R.highlighted,button:{kind:"secondary",icon:v.Plus,onPress:u}}):null)}var yQ=z.create({borderLine:t=>({height:1,backgroundColor:t.colors.border.muted}),controlButtonWrapper:{position:"absolute",top:0,bottom:0,left:-M.BUTTON_S/2,width:M.BUTTON_S},columnResetWidth:{width:"auto"}});s();var Il=x(O());G();function yv(t){let{title:o,button:e,children:r}=t,[,n]=I(B);return Il.createElement(S,{style:g.Margin.largeTop},Il.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.mediumBottom]},Il.createElement(S,{style:b.flex1},Il.createElement(F,{style:[n.Heading3,n.text]},o)),e?Il.createElement(S,{style:g.Padding.smallHorizontal},e):null),Il.createElement(S,null,r))}function vv(t){let{readOnly:o,blockProps:e,parameter:r,isLast:n,beforeOrderIndex:i,afterOrderIndex:a}=t,{node:c,editor:l}=e,[,u]=I(B),d=Oo.useRef(),p={id:r.key,type:"swagger-parameter",blockKey:c.key,previewLabel:"Move parameter"},{name:m="",type:f="",required:h,description:y,properties:w={},items:C}=r.value,[,k]=I(SQ),[_,P]=Oo.useState(!1),R=Object.keys(w).length,T=R>0||!!C,E=c.fragments.get(r.key),A=X=>{l.change(re=>{Re.setParameterName(re,c.key,r.key,X)})},V=X=>{l.change(re=>{Re.setParameterType(re,c.key,r.key,X)})},q=X=>{l.change(re=>{Re.setParameterRequired(re,c.key,r.key,X)})},Y=()=>{l.change(X=>{Re.removeParameter(X,c.key,r.key)})},te=f==="object"&&R>0?Object.entries(w).map(([X,re],_e)=>Oo.createElement(vv,{key:X,...t,isLast:_e===R-1,parameter:{key:X,value:re}})):f==="array"&&C?Oo.createElement(vv,{...t,isLast:!0,parameter:{key:"items",value:C}}):null;return Oo.createElement(hv,{...T?{opened:_,setOpened:P}:{},...e,readOnly:t.readOnly,dragItem:p,isLast:n,palette:()=>ce({groups:[{key:"edit-parameter",commands:[{key:"delete-parameter",title:"Delete",icon:v.Trashcan,trigger:Y}]}]}),columns:[{content:o?Oo.createElement(F,{selectable:!0,style:[u.Code,u.textMid]},m,h?Oo.createElement(F,{style:[u.danger]},"*"):null):Oo.createElement(Os,{placeholder:"id",onChangeText:A,value:m,style:[u.Code,u.textMid],selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{d.current&&d.current.focus()}}),desktopSize:k.parameterColumnNameDesktop,mobileSize:k.parameterColumnNameMobile},{content:Oo.createElement(Os,{ref:d,placeholder:"String",onChangeText:V,value:f,style:[u.Label,u.textMid],readOnly:o,selectTextOnFocus:!0,displayMode:"block",onSubmitEditing:()=>{l.change(X=>{E&&X.collapseToStartOf(E).focus()})}}),desktopSize:k.parameterColumnTypeDesktop,mobileSize:k.parameterColumnTypeMobile},{content:Oo.createElement(Oo.Fragment,null,y?Oo.createElement(F,{style:[u.Label,u.textMid]},y):E?Oo.createElement(kn.Provider,{value:"swaggerParameter"},Oo.createElement(Qr,{fragment:r.key})):null),desktopSize:b.flex1,mobileSize:!y&&(!E||E.isEmpty)?k.parameterDescriptionEmptyColumnMobile:null},o?null:{content:Oo.createElement(hP,{value:h?"required":"optional",items:[{label:"Required",value:"required"},{label:"Optional",value:"optional"}],onValueChange:X=>q(X==="required")})}].filter(fe),onInsertBefore:()=>{l.change(X=>{Re.addParameter(X,c.key,r.value.in,{before:i,after:r.value.orderIndex})})},onDropBefore:X=>{l.change(re=>{Re.moveParameter(re,c.key,X.id,r.value.in,{before:i,after:r.value.orderIndex})})},onInsertAfter:()=>{l.change(X=>{Re.addParameter(X,c.key,r.value.in,{before:r.value.orderIndex,after:a})})},onDropAfter:X=>{l.change(re=>{Re.moveParameter(re,c.key,X.id,r.value.in,{after:a,before:r.value.orderIndex})})}},te&&Oo.createElement(S,{style:[k.borderTop]},te))}var SQ=z.create({parameterColumnNameDesktop:{width:200},parameterColumnNameMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%",marginBottom:g.small},parameterColumnTypeDesktop:{width:90},parameterColumnTypeMobile:{flexGrow:1,flexShrink:1,flexBasis:"50%"},parameterDescriptionEmptyColumnMobile:{display:"none"},borderTop:t=>({borderTopWidth:1,borderTopColor:t.colors.border.muted})});function cA(t){let{parametersGroup:o,location:e,isLast:r,...n}=t,[,i]=I(B),a=Wx.find(({location:c})=>c===e);return Nm.createElement(S,{style:g.Margin.smallTop},Nm.createElement(S,null,Nm.createElement(F,{style:[i.Label,i.Bold,i.text]},a.title)),o.map((c,l)=>{let u=o[l-1],d=o[l+1],p=l===o.length-1;return Nm.createElement(vv,{key:c.key,...n,parameter:c,isLast:p,beforeOrderIndex:u==null?void 0:u.value.orderIndex,afterOrderIndex:d==null?void 0:d.value.orderIndex})}))}function lA(t){let{parameters:o,readOnly:e,blockProps:r}=t,n=wQ(o),i=Object.keys(n).length,a=Re.SORTED_PARAMETERS_LOCATIONS.filter(c=>!!n[c]);return Am.createElement(yv,{title:"Parameters",button:t.readOnly?null:Am.createElement(E7,{blockProps:r})},a.length>0?a.map((c,l)=>{let u=n[c];return Am.createElement(cA,{key:c,readOnly:e,blockProps:r,location:c,parametersGroup:u,isLast:l===i-1})}):Am.createElement(F,null,"No parameters"))}function wQ(t){return t.reduce((o,e)=>{let r=o[e.value.in]||[];return o[e.value.in]=[...r,e],o},{})}s();var Bm=x(O());G();s();var bv=x(mA());var IQ={2:$.green.base,3:$.primary.base,4:$.orange.base,5:$.scarlet.base},_Q=Object.entries(bv.message).map(([t,o])=>({code:t,message:o})),PQ=new hu(_Q,{shouldSort:!0,threshold:.4,distance:100,keys:[{name:"code",weight:.6},{name:"message",weight:.4}]});function ik(t){return IQ[Math.floor(t/100)]||$.lightModeGreyScale.dark}function RQ(t){return PQ.search(t).map(o=>o.item)}function ak({code:t,message:o}){let e=o||bv.message[t];return e?`${t}: ${e}`:`${t}`}function gA(t){let[o,e]=t.split(": ");return{code:Number(o),message:e}}var fA=[200,201,204,400,401,403,404,500].map(t=>{let o=String(t),e=bv.message[o];return{code:o,message:e}});function Sv(t,o){let e={key:"responses",commands:n=>(n.query.text?RQ(n.query.text):fA).slice(0,fA.length).map(a=>{let c=ak(a);return{key:a.code,title:c,icon:wt(v.Dot,{style:{color:ik(parseInt(a.code,10))}}),trigger:()=>{t(c)}}})},r=o?[{key:"edit-response",commands:[{key:"delete-response",title:"Delete response",icon:v.Trashcan,trigger:()=>{o()}}]},e]:[e];return ce({search:"Type status code\u2026",groups:r})}function hA(t){let{blockProps:o}=t,{node:e,editor:r}=o,n=Bm.useRef(null),i=pe(n),a=Sv(l=>{r.change(u=>{Re.addResponse(u,e.key,l)})}),c=()=>{i.open(a)};return Bm.createElement(S,null,Bm.createElement(W,{ref:n,title:"Add Response",icon:i.opened?v.X:v.Plus,kind:i.opened?"primary":"secondary",size:"small",rounded:!0,onPress:()=>c()}))}s();var cr=x(O());G();s();var Es=x(O());G();s();var _l=x(O());function yA(t){let{examples:o}=t,e=Object.keys(o),r=_l.useRef(null),n=pe(r),[i,a]=_l.useState(e[0]);return i?_l.createElement(oP,{code:o[i],syntax:EQ(i),showToolbar:n.opened,toolbar:e.length>1?_l.createElement(W,{kind:"secondary",size:"small",ref:r,rightIcon:v.ChevronDown,onPress:()=>{n.open(ce({groups:[{key:"media-types",commands:e.map(c=>({key:c,title:c,trigger:()=>{a(c)}}))}]}))}},i):null}):null}function EQ(t){return t.includes("json")?"js":t.includes("xml")?"xml":"js"}s();var Te=x(O());G();function vA(t){let[,o]=I(CA);return Te.createElement(ma,{style:[o.container],horizontal:!0},Te.createElement(sk,{...t,isRoot:!0}))}function sk(t){let{schema:o}=t;if(o.type){let e=o.description||o.title;switch(o.type){case"object":return Te.createElement(bA,{name:"",properties:o.properties,requiredProperties:o.required,description:e,...t});case"array":return Te.createElement(SA,{name:"",items:o.items,description:e,...t});default:return Te.createElement(wA,{name:"",type:o.type,description:e,...t})}}else return o.anyOf?Te.createElement(wv,{type:"anyOf",options:o.anyOf}):o.oneOf?Te.createElement(wv,{type:"oneOf",options:o.oneOf}):o.allOf?Te.createElement(wv,{type:"allOf",options:o.allOf}):null}function bA(t){let{name:o,isRequired:e=!1,isRoot:r=!1,properties:n={},requiredProperties:i=[],description:a=""}=t,[c,l]=Te.useState(!1);return Te.createElement(xv,{name:o,type:"object",expandable:{expanded:c,setExpanded:l},required:e,isRoot:r,description:a},c?Object.entries(n).map(([u,d])=>{switch(d.type){case"object":let p=d.anyOf||d.oneOf||d.allOf;return p?Te.createElement(wv,{key:u,name:u,description:d.description||d.title,type:d.anyOf?"anyOf":d.oneOff?"oneOf":"allOf",options:p}):Te.createElement(bA,{key:u,name:u,properties:d.properties,requiredProperties:d.required,isRequired:i.includes(u),description:d.description});case"array":return Te.createElement(SA,{key:u,name:u,items:d.items,isRequired:i.includes(u),description:d.description});default:return Te.createElement(wA,{key:u,name:u,type:d.type,isRequired:i.includes(u),description:d.description})}}):null)}function SA(t){let{name:o,isRequired:e=!1,isRoot:r=!1,items:n={},description:i=""}=t,[a,c]=Te.useState(!1);return Te.createElement(xv,{name:o,type:`array[${n.type||""}]`,expandable:{expanded:a,setExpanded:c},description:i,required:e,isRoot:r},a?Te.createElement(sk,{schema:n}):null)}var Cv=M.ICON_S;function wv(t){let{name:o,type:e,options:r=[],isRoot:n=!1,description:i="",isRequired:a=!1}=t,[c,l]=Te.useState(!1);return Te.createElement(xv,{type:o?e:"",name:o||e,expandable:{expanded:c,setExpanded:l},description:i,isRoot:n,required:a,specialKeyword:!0},c?r.map((u,d)=>Te.createElement(sk,{key:d,schema:u})):null)}function wA(t){let{name:o,type:e,isRequired:r=!1,isRoot:n=!1,description:i=""}=t;return Te.createElement(xv,{name:o,type:e,isRoot:n,required:r,description:i})}function xv(t){let{name:o,type:e,description:r,required:n,isRoot:i,expandable:a,specialKeyword:c,children:l}=t,[,u]=I(B),[,d]=I(CA),p=[u.Body,u.Bold,u.text],m=[g.Margin.xsmallLeft];return Te.createElement(S,{style:[b.directionColumn,i?null:g.Margin.mediumTop]},Te.createElement(S,{style:[b.directionRow,b.alignCenter]},Te.createElement(Ve,{onPress:a?()=>a.setExpanded(f=>!f):void 0},a?a.expanded?Te.createElement(v.ChevronDown,{size:Cv,style:[u.textMuted]}):Te.createElement(v.ChevronRight,{size:Cv,style:[u.textMuted]}):Te.createElement(S,{style:[d.placeholderIconWidth,d.placeHolderIconHeight]})),Te.createElement(S,{style:[b.directionRow,m]},o?Te.createElement(S,{style:[g.Margin.mediumRight]},c?Te.createElement(F,{style:p},o):Te.createElement(F,{selectable:!0,style:p},o,n?Te.createElement(F,{style:[u.danger,d.textFontCode]},"*"):null)):null,e?Te.createElement(F,{style:[u.Body,u.primary,d.textFontCode]},e):null)),Te.createElement(S,{style:[b.directionRow]},Te.createElement(S,{style:d.placeholderIconWidth},a!=null&&a.expanded?Te.createElement(S,{style:d.verticalLine}):null),Te.createElement(S,{style:[b.directionColumn,m,g.Padding.mediumRight,d.descriptionWidth]},r?Te.createElement(S,{style:[g.Margin.xsmallTop]},Te.createElement(ku,{markdown:r,kind:"secondary"})):null,l)))}var CA=z.create({container:t=>({backgroundColor:t.colors.background.muted,padding:g.medium,borderRadius:t.radiuses.medium}),textFontCode:{fontFamily:hg},placeholderIconWidth:{width:Cv},placeHolderIconHeight:{height:Cv},verticalLine:t=>({width:1,height:"100%",backgroundColor:t.colors.border.main,marginHorizontal:"auto"}),descriptionWidth:{maxWidth:600}});function kv(t){let{examples:o,schema:e}=t,[r,n]=Es.useState("example");return Es.createElement(S,null,Es.createElement(Qs,null,Es.createElement(Qs.Tab,{active:r==="example",onPress:()=>n("example")},"Example"),e?Es.createElement(Qs.Tab,{active:r==="schema",onPress:()=>n("schema")},"Schema"):null),r==="example"?Es.createElement(yA,{examples:o||{}}):null,r==="schema"&&e?Es.createElement(vA,{schema:e}):null)}function kA(t){let{response:o,isLast:e,beforeOrderIndex:r,afterOrderIndex:n,blockProps:i}=t,{node:a,editor:c}=i,[,l]=I(B),[u,d]=cr.useState(!1),p={id:o.key,type:"swagger-response",blockKey:a.key,previewLabel:"Move response"},{status:m,description:f}=o.value,h="Response description",{code:y}=gA(m),w=a.fragments.get(o.key),C=w?ns(w):!1,k=o.value.examples||{},_=o.value.schema,P=!t.readOnly||w&&!C||Object.keys(k).length>0||typeof _<"u",R=T=>{c.change(E=>{Re.setResponseDescription(E,a.key,o.key,T)})};return cr.createElement(hv,{...i,readOnly:t.readOnly,dragItem:p,isLast:e,opened:u,setOpened:d,palette:()=>Sv(T=>{c.change(E=>{Re.setResponseStatus(E,a.key,o.key,T)})},()=>{c.change(T=>{Re.removeResponse(T,a.key,o.key)})}),columns:[{content:cr.createElement(S,{style:[b.directionRow,b.alignCenter]},cr.createElement(S,{style:[g.Margin.smallRight]},cr.createElement(v.Dot,{style:{color:ik(y)},size:M.ICON_M})),cr.createElement(S,{style:b.flex1},cr.createElement(F,{style:[l.Label,l.Bold,l.text]},m))),desktopSize:xA.responseColumnStatusDesktop,mobileSize:xA.responseColumnStatusMobile},{content:cr.createElement(Vn,{component:Os,placeholder:t.readOnly?void 0:h,onChangeText:R,value:f,style:[l.Label,l.textMid],readOnly:t.readOnly,displayMode:"block",onSubmitEditing:()=>{c.change(T=>{u&&w?T.collapseToStartOf(w):Ct(T,a),T.focus()})}}),desktopSize:b.flex1}],onDropAfter:T=>{c.change(E=>{Re.moveResponse(E,a.key,T.id,{before:o.value.orderIndex,after:n})})},onDropBefore:T=>{c.change(E=>{Re.moveResponse(E,a.key,T.id,{before:r,after:o.value.orderIndex})})},onInsertBefore:()=>{c.change(T=>{Re.addResponse(T,a.key,parseInt(o.value.status,10)-1,{before:r,after:o.value.orderIndex})})},onInsertAfter:()=>{c.change(T=>{Re.addResponse(T,a.key,parseInt(o.value.status,10)+1,{before:o.value.orderIndex,after:n})})}},P?cr.createElement(S,{style:[b.flex1,g.Margin.mediumVertical]},w?cr.createElement(cr.Fragment,null,cr.createElement(kn.Provider,{value:"swaggerResponse"},cr.createElement(Qr,{fragment:o.key}))):cr.createElement(kv,{examples:k,schema:_})):null)}var xA=Q.create({responseColumnStatusDesktop:{width:290},responseColumnStatusMobile:{flexBasis:"100%",flexGrow:1,flexShrink:0}});s();var qm=x(O());G();function OA(t){let{readOnly:o,responses:e,blockProps:r}=t;return qm.createElement(yv,{title:"Responses",button:o?null:qm.createElement(hA,{blockProps:r})},qm.createElement(S,{style:e.length>0&&g.Padding.mediumBottom},e.map((n,i)=>{let a=e[i-1],c=e[i+1];return qm.createElement(kA,{key:n.key,...t,response:n,isLast:i===e.length-1,beforeOrderIndex:a==null?void 0:a.value.orderIndex,afterOrderIndex:c==null?void 0:c.value.orderIndex})})))}s();var qo=x(O());G();s();s();s();var IA=Rg("429837f8b383ed2c4f85d02026ce73e42335b6233c1dc303af2b0f50fedfe256",()=>import("https://app.gitbook.com/public/app/chunks/parseSwaggerFile.lazy-V2TFFZR5.min.js"));var _A=IA;var Pl=Zr({getValue:async t=>{let o=(await _A.load()).default;return await o(t)},toJS:t=>MQ(t),fromJS:t=>LQ(t)});function Wm(t,o){if(!t)return null;o||(o={path:Object.keys(t.paths)[0],method:"get"},o.method=Object.keys(t.paths[o.path])[0]);let e=t.paths[o.path],r=e==null?void 0:e[o.method];if(!r)return null;let n=Object.keys(t.paths).indexOf(o.path),i=Ru.indexOf(o.method);return i=i>-1?i:Ru.length,{operation:r,path:o.path,httpMethod:o.method,index:n*Ru.length+i}}function MQ(t){return JSON.parse(JSON.stringify(t,YP()))}function LQ(t){return JSON.parse(JSON.stringify(t),$P())}function Fm(t){let{onClose:o,data:e,multi:r,buttonText:n,onSelect:i,onRequestChangeSource:a}=t,c=Se();if(!("ref"in e))throw new Error("SwaggerConfigurationOperation used with a manual API block, only OpenAPI is supported");let l=ut(),[u]=Qi.read([c,e.ref,l]);if(typeof(u==null?void 0:u.target)!="string")throw new Error("SwaggerConfigurationOperation only handles refs with target as string");let{result:d}=Pl.readSafe(u.target),p=(d==null?void 0:d.paths)||{},m=Object.keys(p).reduce((k,_)=>{let P=p[_];return k.concat(Object.keys(P).map(R=>({path:_,method:R})))},[]),f=Wm(d,e.method&&e.path?{method:e.method,path:e.path}:void 0),[h,y]=qo.default.useState(f?{[f.index]:{path:f.path,method:f.httpMethod}}:{}),w=()=>{let k=Object.keys(h).map(Number).sort((_,P)=>_-P);i(k.map(_=>h[_])),o()},C=(k,_,P)=>{if(!r){y({[_]:k});return}if(P&&y({...h,[_]:k}),!P){let R={...h};delete R[_],y(R)}};return qo.default.createElement(Co,{onClose:o,title:"Choose API operation",footer:qo.default.createElement(S,{style:[b.directionRow,b.justifySpaceBetween]},qo.default.createElement(S,{style:[b.directionRow,b.justifyContentStart]},qo.default.createElement(W,{size:"large",kind:"secondary",onPress:()=>{a()}},"Change API source")),qo.default.createElement(S,{style:[b.directionRow,b.flex1,b.justifyContentEnd]},qo.default.createElement(W,{size:"large",kind:"primary",onPress:()=>{w()}},typeof n=="string"?n:n(Object.keys(h).length))))},qo.default.createElement(Rf,{data:m,renderItem:({item:k})=>{let _=Wm(d,k);if(!_)return null;let P=!!h[_.index];return qo.default.createElement(DQ,{key:_.index,index:_.index,item:k,operation:_.operation,multi:r,selected:P,onSelect:C})}}))}function DQ(t){let{item:o,selected:e,onSelect:r,operation:n,index:i,multi:a}=t,[,c]=I(B);return qo.default.createElement(ds,{style:g.Padding.smallHorizontal,onPress:()=>r(o,i,a?!e:!0),layout:"wide",title:qo.default.createElement(S,{style:[b.directionRow,b.flex1,b.alignCenter]},qo.default.createElement(S,{style:[{minWidth:M.L},g.Margin.smallRight]},qo.default.createElement(Dy,{readOnly:!0,method:o.method})),qo.default.createElement(S,{style:[b.flex1]},qo.default.createElement(F,{style:[c.Code,c.text,NQ.apiPath]},o.path),qo.default.createElement(F,{style:[c.Caption,c.textMuted]},n==null?void 0:n.summary))),buttons:[a?qo.default.createElement($s,{value:e,onValueChange:l=>r(o,i,l)}):qo.default.createElement(Ag,{value:e,onValueChange:()=>r(o,i,!0)})]})}var NQ=Q.create({apiPath:{fontSize:yg.xsmall,wordWrap:"anywhere"}});function PA(t,o){let e=Ys(),[r,n]=fd.useState(null),i=Ot(),[a,c]=fd.useState(o),l=ki(e,t),u=p=>{let f=e.value.document.assertBlock(p).data.toFrozenObject();return[{key:"swagger",commands:[{key:"pickSource",title:"Choose OpenAPI source\u2026",icon:v.Paperclip,trigger:()=>{i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([h])=>{h&&(c({ref:h}),n("swagger"))})}},a&&"ref"in a?{key:"pickMethod",title:"Choose API operation",icon:v.Swagger,trigger:()=>{n("swagger")}}:null,{key:"defaultExpanded",icon:v.ChevronsVertical,type:2,enabled:!!f.expanded,title:"Expanded",trigger:()=>(e.change(h=>{f.expanded?h.setDataByKey(p,["expanded"],!1):h.setDataByKey(p,["expanded"],!0)}),it(e,p,u(p)))}].filter(fe)},...l?[l]:[]]};return[it(e,t,u(t)),fd.createElement(xt,null,r==="swagger"?fd.createElement(Fm,{data:a,buttonText:"Update Block",onRequestChangeSource:()=>{n(null),i.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([p])=>{p&&c({ref:p}),n("swagger")})},onSelect:([p])=>{e.change(m=>{m.setNodeByKey(t,{data:{...a,method:p==null?void 0:p.method,path:p==null?void 0:p.path}})})},onClose:()=>n(null)}):null)]}s();var Iv=x(O());s();var Yn=x(O());G();function Ov(t){let{opened:o,setOpened:e,readOnly:r,parameters:n,header:i,requestBody:a,responses:c,blockProps:l,description:u}=t,[,d]=I(B);return Yn.default.createElement(Yn.default.Fragment,null,Yn.default.createElement(R7,{blockProps:l,readOnly:r,opened:o,setOpened:e,description:u.description,...i}),Yn.default.createElement(S,{style:AQ.operationBody},o?Yn.default.createElement(Yn.default.Fragment,null,Yn.default.createElement(lA,{blockProps:l,readOnly:r,...n}),a?Yn.default.createElement(S,{style:g.Margin.largeTop},Yn.default.createElement(S,null,Yn.default.createElement(F,{style:[d.Label,d.Bold,d.text]},"Body")),Yn.default.createElement(kv,{examples:a.examples,schema:a.schema})):null,Yn.default.createElement(OA,{blockProps:l,readOnly:r,...c})):null))}var AQ=Q.create({operationBody:{padding:g.medium,paddingLeft:g.medium+M.ICON_M+g.medium,paddingTop:0}});function RA(t){let{blockProps:o,data:e,opened:r,setOpened:n}=t,{editor:i}=o;if("ref"in e)throw new Error("trying to render a swagger block that is refering to a swagger file");let{readOnly:a}=i,{baseUrl:c,method:l,path:u,summary:d}=e,{parameters:p={},responses:m={}}=e,f=Iv.default.useMemo(()=>Re.defaultParameterSortedKeys(p).map(w=>({key:w,value:p[w]})),[p]),h=Iv.default.useMemo(()=>Re.defaultResponseSortedKeys(m).map(w=>({key:w,value:m[w]})),[m]);return Iv.default.createElement(Ov,{blockProps:o,readOnly:a,opened:r,setOpened:n,header:{baseUrl:c,method:l,summary:d,path:u},parameters:{parameters:f},description:{description:{fragment:"description"}},responses:{responses:h}})}s();var _c=x(O());function EA(t){var w;let{blockProps:o,data:e,opened:r,setOpened:n,readOnly:i}=t;if(!("ref"in e))throw new Error("trying to render a swagger block that is not refering to a swagger file");let c=tt(e.ref).href,{result:l,error:u}=Pl.readSafe(c),d=Wm(l,e.path&&e.method?{path:e.path,method:e.method}:void 0),{operation:p,path:m,httpMethod:f}=d||{operation:{parameters:[],responses:[],summary:"",description:""},httpMethod:"",path:""},h=_c.default.useMemo(()=>p.parameters.sort(({in:C},{in:k})=>Re.SORTED_PARAMETERS_LOCATIONS.indexOf(C)<Re.SORTED_PARAMETERS_LOCATIONS.indexOf(k)?-1:1).reduce((C,k,_)=>{let P=C[_-1],R=DS(P?{before:P.value.orderIndex}:{});return C.push({key:RS(),value:{...k,orderIndex:R}}),C},[]),[p.parameters]),y=_c.default.useMemo(()=>p.responses.sort(({status:C},{status:k})=>C<k?-1:1).reduce((C,k,_)=>{let P=C[_-1],R=DS(P?{before:P.value.orderIndex}:{});return C.push({key:RS(),value:{...k,status:ak({code:k.status}),orderIndex:R}}),C},[]),[p.responses]);if(u)return i?_c.default.createElement(zm,null):_c.default.createElement(vi,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:ga(u)});if(!d){if(i)return _c.default.createElement(zm,null);let C=e.method&&e.path?`${(w=e.method)==null?void 0:w.toUpperCase()} "${e.path}"`:"";return _c.default.createElement(vi,{kind:"danger",title:"Error while parsing the OpenAPI file.",details:`Could not find the operation ${C} in the OpenAPI file.`})}return _c.default.createElement(Ov,{blockProps:o,readOnly:!0,opened:r,setOpened:n,header:{baseUrl:(l==null?void 0:l.baseUrl)||"",method:f,summary:p.summary||"",path:m},parameters:{parameters:h},requestBody:p.requestBody,responses:{responses:y},description:{description:p.description?{text:p.description}:void 0}})}function TA(t){let{node:o,isFocused:e,editor:r}=t,n=o.data.toFrozenObject(),[i,a]=PA(o.key,n),[c,l]=I(BQ),{sections:u}=On.default.useContext(wi),{current:d}=wg(),p=u.get(o.key),m=et(),[f,h]=On.default.useState(m||e||!!n.expanded);On.default.useEffect(()=>{d&&n.expanded&&h(!0)},[n.expanded]);let y=On.default.createElement(hn,{style:[l.blockSwagger,f&&l.blockSwaggerOpened],backgroundColor:c.colors.background.main,nativeID:p},On.default.createElement(On.default.Suspense,{fallback:On.default.createElement(No,{size:"small"})},"ref"in n?On.default.createElement(EA,{readOnly:r==null?void 0:r.readOnly,blockProps:t,data:n,opened:f,setOpened:h}):On.default.createElement(RA,{blockProps:t,data:n,opened:f,setOpened:h})));return On.default.createElement(On.default.Fragment,null,a,On.default.createElement(ve,{palette:i,...t},!("ref"in n)&&f?y:On.default.createElement(At,{...t},y)))}var BQ=z.create({blockSwagger:t=>({borderRadius:t.radiuses.large,borderColor:t.colors.border.mid,borderWidth:1}),blockSwaggerOpened:t=>({...t.shadows.spread})});s();var MA=x(O());var qQ=Lt({key:"lastSwaggerReference",default:{}});function LA(t){let[o,e]=Kr(qQ),r=ut(),n=Se(),i=r.space?Fn(n.store.getBranchRevision(r.space,"changeRequest"in r&&r.changeRequest?ng(r.changeRequest):og)):void 0,a=i?o[i.contentId]:null,c=MA.default.useCallback(d=>{i&&e({...o,[i.contentId]:d})},[i==null?void 0:i.contentId,e]);if((a==null?void 0:a.kind)==="url")return[a,c];if((a==null?void 0:a.kind)==="file"&&i!=null&&i.files[a.file])return[a,c];let l=Re.getProbableRef(t.value.document);if(l)return[l,c];let u=Object.values((i==null?void 0:i.files)||{}).filter(d=>gu(d)).sort((d,p)=>{var h,y;let m=(h=dp(d.edits))==null?void 0:h.updatedAt;return(((y=dp(p.edits))==null?void 0:y.updatedAt)||0)-(m||0)});return[u.length?{kind:"file",file:u[0].id}:null,c]}s();var KA=x(O());s();s();var zA=x(NA()),Wo=x(O());G();s();var _n=x(O());s();var Vm=x(O());G();function qA(t){return ce({search:"Pick a color\u2026",groups:[{key:"text",title:"Color",commands:gy.map(o=>AA(t,o,!1))},{key:"background",title:"Background",commands:hy.map(o=>AA(t,o,!0))}]})}function AA(t,o,e){let r=t.value.activeMarks.find(a=>a.type===ap),n=e?"background":"text",i=r&&r.data.get(n)===o.key;return{key:`${e?"background_":"foreground_"}${o.key}`,title:o.title,type:1,selected:!!i,icon:({size:a})=>e?Vm.createElement(BA,{size:a,backgroundColor:o.color,color:$.BLACK}):Vm.createElement(BA,{size:a,backgroundColor:$.WHITE,color:o.color}),trigger:()=>{t.change(a=>{r&&a.removeMark(r),i||a.addMark({type:ap,data:{background:"default",text:"default",...r?r.data.toObject():{},[n]:o.key}})})}}}function BA(t){let{size:o=M.ICON_S,color:e,backgroundColor:r}=t;return Vm.createElement(S,{style:[b.directionRow,b.alignCenter,b.justifyContentCenter,{width:o+2,height:o+2,borderRadius:M.RADIUS_M,backgroundColor:r}]},Vm.createElement(v.Type,{style:{color:e,fontSize:o*.9}}))}s();var In=({type:t,editor:o})=>()=>{o.change(e=>{e.toggleMark(t),e.focus()})},Rl=({palette:t,editor:o,contentReferenceContext:e,isInLink:r,hiveClient:n,insertAtRange:i})=>()=>{if(r){o.change(c=>{c.unwrapInline({type:vr}).focus()});return}o.change(c=>{Rv(c)});let a=Pr(c=>{o.change(l=>{i?rl.insertContentReferenceAtRange(l,c,i):rl.insertContentReference(l,c)})},{...e,document:o.value.document},n);return t.open(a),a},Pv=({editor:t})=>()=>{t.change(o=>{$f.wrapWithAnnotation(o),o.focus()})};function WA(t){let{value:o,editor:e,palette:r}=t,n=Se(),i=ut(),a=o.activeMarks.map(h=>h.type),{startBlock:c,document:l}=o;We(c);let u=o.hasInline(vr),p=!(c.type===ya),m=()=>{e.change(h=>{Rv(h)}),r.open(qA(e))},f=()=>{e.change(h=>{h.removeAllMarks().focus()})};return _n.createElement(m6,{onTabToExit:()=>{e.change(h=>{h.focus()})}},p?_n.createElement(ym,null,jf(c)?null:_n.createElement(ro,{leadingIcon:v.Bold.CSS,active:a.has(Yr),onPress:In({type:Yr,editor:e}),tooltipTitle:"*Bold*",tooltipBadge:ka(He.EDITOR_BOLD),label:"Bold",iconOnly:!0,preventFocusOnPress:!0}),_n.createElement(ro,{leadingIcon:v.Italic.CSS,active:a.has($r),onPress:In({type:$r,editor:e}),tooltipTitle:"_Italic_",tooltipBadge:ka(He.EDITOR_ITALIC),label:"Italic",iconOnly:!0,preventFocusOnPress:!0}),_n.createElement(ro,{leadingIcon:v.Strikethrough.CSS,active:a.has(Wn),onPress:In({type:Wn,editor:e}),tooltipTitle:"~~Strikethrough~~",tooltipBadge:ka(He.EDITOR_STRIKETHROUGH),label:"Strikethrough",iconOnly:!0,preventFocusOnPress:!0}),_n.createElement(ro,{leadingIcon:v.Code.CSS,active:a.has(yo),onPress:In({type:yo,editor:e}),tooltipTitle:"`Code`",tooltipBadge:ka(He.EDITOR_CODE),label:"Code",iconOnly:!0,preventFocusOnPress:!0})):null,_n.createElement(ym,null,is({document:l,block:c},vr)?_n.createElement(ro,{leadingIcon:v.Link.CSS,onPress:Rl({palette:r,editor:e,contentReferenceContext:i,isInLink:u,hiveClient:n}),active:u,tooltipTitle:"Link",tooltipBadge:ka(He.EDITOR_LINK),label:"Link",iconOnly:!0,preventFocusOnPress:!0}):null,is({document:l,block:c},Hf)&&$f.isSelectionAnnotable(o)?_n.createElement(ro,{leadingIcon:v.Annotation.CSS,onPress:Pv({editor:e}),active:u,tooltipTitle:"Annotate",tooltipBadge:ka(He.EDITOR_ANNOTATION),label:"Annotate",iconOnly:!0,preventFocusOnPress:!0}):null),p?_n.createElement(ym,null,_n.createElement(ro,{tooltipTitle:"Color",leadingIcon:v.Highlight.CSS,onPress:m,label:"Color",iconOnly:!0,preventFocusOnPress:!0})):null,_n.createElement(ym,{disabled:a.isEmpty()},_n.createElement(ro,{leadingIcon:v.PublishStatusUnpublished.CSS,onPress:f,tooltipTitle:"Clear formatting",label:"Clear formatting",iconOnly:!0,preventFocusOnPress:!0})))}function VA(t){let{value:o,selection:e}=t,r=Ys(),n=Se(),i=ut(),[a,c]=Wo.useState(null),[l,u]=Wo.useState(!1),d=Wo.useRef(null),p=bo(a),m=Wo.useRef(null),f=Wo.useRef(null),h=pe(d,{onClose:()=>{r.change(V=>{HA(V),V.focus()})}}),{width:y,height:w}=P1(),C=H.useInteractiveState(),k=!o.isInVoid,_=o.hasInline(vr),P=!jf(o.startBlock),R=!!k,T=R&&a,E=l&&e.isFocused&&e.isExpanded;Gn(k?{...P?{[He.EDITOR_BOLD]:In({type:Yr,editor:r})}:{},[He.EDITOR_ITALIC]:In({type:$r,editor:r}),[He.EDITOR_CODE]:In({type:yo,editor:r}),[He.EDITOR_STRIKETHROUGH]:In({type:Wn,editor:r}),[He.EDITOR_LINK]:Rl({palette:h,editor:r,contentReferenceContext:i,hiveClient:n,isInLink:_}),[He.EDITOR_ANNOTATION]:Pv({editor:r})}:{},"editor-selection-expanded",[e,i,P,r,_,k,h]),Gn(k?{...P?{[He.EDITOR_BOLD]:In({type:Yr,editor:r})}:{},[He.EDITOR_ITALIC]:In({type:$r,editor:r}),[He.EDITOR_CODE]:In({type:yo,editor:r}),[He.EDITOR_STRIKETHROUGH]:In({type:Wn,editor:r})}:{},"editor-selection-collapsed",[e,P,r,k]),Wo.useEffect(()=>{!R||h.opened||(m.current=e,c(FA(r)))},[e]);let A=O_(200);return Wo.useEffect(()=>{if(!R)return;let V=()=>{h.opened||(p.current&&c(null),A(()=>{c(FA(r))}))};return window.addEventListener("scroll",V,!0),()=>{window.removeEventListener("scroll",V,!0)}},[h,R,p,A]),Wo.useLayoutEffect(()=>{var V;(V=f.current)==null||V.updatePosition()},[y,w]),Wo.useLayoutEffect(()=>{let V=setTimeout(()=>{u(e.isExpanded)},200);return()=>{u(!1),clearTimeout(V)}},[e.isExpanded]),T?Wo.createElement(yn,null,Wo.createElement(S,{ref:d,pointerEvents:"none",style:[WQ.formattingMenuWrapper,a],dataSet:{"hide-on-drag":!0}},E?Wo.createElement(Cr,{ref:f,kind:"menu",preferredPlacement:"top",chromeless:!0},Wo.createElement(S,{style:[b.directionRow,g.Padding.xsmall],...C.events},Wo.createElement(WA,{value:o,editor:r,palette:h}))):null)):null}function FA(t){let o=window.getSelection();if(!o||o.rangeCount<1)return null;let e=o.getRangeAt(0),r=zA.default.getBoundingClientRect(e);if(!r)return null;let n=o.anchorNode;if(!n||!rP(t,n))return null;let i=n?GA(n):null,a=15,c={top:r.top+window.pageYOffset,left:r.left+window.scrollX,width:r.width,height:r.height};if(c.width<a&&(c.left-=(a-c.width)/2,c.width=a),i){let l=i.getBoundingClientRect();if(c.top<l.top||c.top+c.height>l.bottom)return null}return c}function GA(t){if(t instanceof HTMLElement){let o=getComputedStyle(t,null);if(o.getPropertyValue("overflow")==="auto"||o.getPropertyValue("overflow")==="scroll"||o.getPropertyValue("overflow-y")==="auto"||o.getPropertyValue("overflow-y")==="scroll")return t}return t.parentNode?GA(t.parentNode):null}var WQ=Q.create({formattingMenuWrapper:{position:"absolute",zIndex:100,animationDelay:"250ms"}});function Ev(t){let{anchorRef:o,editor:e,range:r}=t,n=Se(),i=Ot(),a=ut(),c=pe(o,{onClose:()=>{c.close(),!i.isOpen()&&e.change(l=>l.focus())}});return KA.default.useMemo(()=>[{key:"inline-image",title:"Inline image",icon:v.Image,trigger:()=>{e.change(l=>l.blur()),i.prompt({title:"Select image",accept:"images",acceptURL:!0}).then(l=>{e.change(u=>{if(To(u.value.selection))return u;let d=r!=null?r:u.value.textSelection;l.forEach(p=>{u.insertInlineAtRange(d,Lo.createImageInline(p))}),u.focus()})})}},{key:"emoji",title:"Emoji",icon:v.EmojiReaction,trigger:()=>Ju(l=>{e.change(u=>{if(To(u.value.selection))return u;let d=r!=null?r:u.value.textSelection;u.insertInlineAtRange(d,Qf.createEmoji(l)).focus()})})},{key:"link",title:"Link",icon:v.Link,trigger:Rl({hiveClient:n,palette:c,editor:e,contentReferenceContext:a,isInLink:!1,insertAtRange:r})},{key:"inline-math",title:"Math & TeX",icon:v.MathTeX,trigger:()=>{e.change(l=>{if(To(l.value.selection))return l;let u=r!=null?r:l.value.textSelection;l.insertInlineAtRange(u,nl.createMathInline()).focus()})}}],[r,e,e.value.selection,c,a,i,n])}function XA(t,o,e,r="replace",n){let[i,a]=Rr.useState(null),c=Ot(),l=_u(),{getIntegrationsBlocks:u,logAnalyticsEvent:d}=Rr.useContext(ze),p=mi(),[m,f]=LA(t),h=ut(),y=Se(),w=Ev({anchorRef:n,editor:t}),C=Rr.useCallback(()=>{a(null)},[]),k=Rr.useCallback((T,E="end")=>{C(),gd(t,e.key,T,r,E)},[C,t,e.key,r]),_=Rr.useCallback((T,E="end")=>{C();let A;T.forEach((V,q)=>{gd(t,A||e.key,V,q===0?r:"after",E),A=V.key})},[C,t,o.key,e.key,r]),P=Rr.useCallback(T=>{let{blockType:E,...A}=T;d({type:"edit_page_document_insert_block",from:"palette",blockType:E,...A})},[d]),R=Rr.useMemo(()=>{let T=(E,A=()=>!0)=>Object.entries(E).map(([V,q])=>A(V)?q.map(Y=>({key:`${V}.${Y.id}`,title:Y.title,icon:wt(I7,{block:Y}),trigger:()=>{Y.urlUnfurl&&Y.urlUnfurl.length>0?a("embed"):(k(uu.createIntegrationBlock(V,Y.id)),P({blockType:ci,integration:V,integrationBlock:Y.id}))}})):[]).flat();return ce({search:"Insert block\u2026",groups:[{key:"inline-controls",commands:r==="replace"&&e.isEmpty?w:[]},{key:"texts",commands:[Me(o,ge)?{key:"paragraph",title:"Paragraph",icon:v.Paragraph,trigger:()=>{k(Gt.create({type:ge})),P({blockType:ge})}}:null].filter(fe)},{key:"headings",commands:[Me(o,Fe)?{key:"heading_1",title:"Heading 1",icon:v.Heading1,keywords:["h1","Title 1","Header 1"],trigger:()=>{k(Gt.create({type:Fe})),P({blockType:Fe})}}:null,Me(o,Ge)?{key:"heading_2",title:"Heading 2",icon:v.Heading2,keywords:["h2","Title 2","Header 2"],trigger:()=>{k(Gt.create({type:Ge})),P({blockType:Ge})}}:null,Me(o,rt)?{key:"heading_3",title:"Heading 3",keywords:["h3","Title 3","Header 3"],icon:v.Heading3,trigger:()=>{k(Gt.create({type:rt})),P({blockType:rt})}}:null].filter(fe)},{key:"lists",commands:[Me(o,go)?{key:"list_ul",title:"Unordered list",keywords:["ul","Bullet list","Dot list"],icon:v.ListUnordered,trigger:()=>{k(mt.createList(go)),P({blockType:go})}}:null,Me(o,Ht)?{key:"list_ol",title:"Ordered list",keywords:["ol","Numbered List"],icon:v.ListOrdered,trigger:()=>{k(mt.createList(Ht)),P({blockType:Ht})}}:null,Me(o,ho)?{key:"list_tasks",title:"Task list",keywords:["Checkbox","Checklist","Tick","Todo list"],icon:v.ListTasks,trigger:()=>{k(mt.createList(ho)),P({blockType:ho})}}:null].filter(fe)},{key:"dividers",commands:[Me(o,es)?{key:"divider",title:"Divider",keywords:["Horizontal rule","Separator","Thematic break","hr"],icon:v.Divider,trigger:()=>{k(Gt.create({type:es})),P({blockType:es})}}:null].filter(fe)},{key:"panels",commands:[Me(o,fo)?{key:"hint",title:"Hint",keywords:["Info","Alert","Callout"],icon:v.InfoCircle,trigger:()=>{k(bI.create()),P({blockType:fo})}}:null,Me(o,Kt)?{key:"quote",title:"Quote",keywords:["Blockquote","Citation"],icon:v.Quote,trigger:()=>{k(SI.create()),P({blockType:Kt})}}:null,Me(o,Xr)?{key:"code",title:"Code Block",keywords:["Syntax","Snippet"],icon:v.Code,trigger:()=>{k(to.createCodeBlock("// Some code")),P({blockType:Xr})}}:null].filter(fe)},{key:"others",commands:[Me(o,Ja)?{key:"files",title:"Insert files\u2026",keywords:["Assets","Upload"],icon:v.Files,trigger:()=>{c.prompt({title:"Select files"}).then(E=>{let A=E.map(V=>V.kind==="file"?Jf.createFileBlock(V):null).filter(fe);_(A,"end"),P({blockType:Ja,files:A.length})})}}:null,Me(o,Ur)?{key:"images",title:"Insert images\u2026",keywords:["Photo","Picture","JPEG","jpg","png","GIF"],icon:v.Image,trigger:()=>{c.prompt({title:"Select images",accept:"images",acceptURL:!0}).then(E=>{k(Gt.create({type:Ur,isVoid:!0,nodes:E.map(A=>Lo.createImageBlock(A))})),P({blockType:Ur,images:E.length})})}}:null,Me(o,yr)?{key:"embed",title:"Embed a url\u2026",keywords:["music","video","audio","design","iframe"],icon:v.ExternalLink,trigger:()=>{a("embed")}}:null,Me(o,fn)?{key:"table",title:"Table",keywords:["Spreadsheet"],icon:v.Table,trigger:()=>{k(oe.createTable()),P({blockType:fn,tableView:"grid"})}}:null,Me(o,fn)?{key:"table-cards",title:"Cards",keywords:["Grid"],icon:v.Cards,trigger:()=>{k(oe.createTable({view:"cards"})),P({blockType:fn,tableView:"cards"})}}:null,Me(o,jr)?{key:"tabs",title:"Tabs",icon:v.Tabs,trigger:()=>{k(Wi.createTabs(),"start"),P({blockType:jr})}}:null,Me(o,qn)?{key:"expandable",title:"Expandable",keywords:["collapsible","toggle"],icon:v.BlockExpandable,trigger:()=>{k(as.createExpandableBlock(),(E,A)=>{E.collapseToStartOf(as.getTitleFragment(A)).focus()}),P({blockType:qn})}}:null,Me(o,Qa)?{key:"drawing",title:"Drawing",keywords:["sketch","draw","excalidraw"],icon:v.EditDrawing,trigger:()=>{k(yI.createDrawingBlock()),P({blockType:Qa})}}:null,Me(o,tl)?{key:"math",title:"Math & TeX",keywords:["Formula"],icon:v.MathTeX,trigger:()=>{k(nl.createMathBlock()),P({blockType:tl})}}:null,Me(o,Mo)?{key:"api-method",title:"API Method",icon:v.Swagger,keywords:["api"],trigger:()=>{k(Re.createBlock()),P({blockType:Mo})}}:null,Me(o,Mo)?{key:"swagger",title:"OpenAPI",icon:v.Swagger,keywords:["api","swagger"],trigger:()=>{m?a({ref:m}):c.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([E])=>{E&&(f(E),a({ref:E}))})}}:null,Me(o,os)?{key:"content-ref",title:"Page Link",icon:v.PageLink,keywords:["references"],trigger:()=>Pr(E=>{k(rl.createContentRefBlock(E)),P({blockType:os,contentRefKind:E.kind})},h,y,{accept:["page","space","collection"]})}:null].filter(fe)},Me(o,ci)?{key:"integrations",commands:()=>{let E=u();return T(E)}}:null,Me(o,ci)?{key:"integrations",commands:()=>{let E=u(),[A]=Kg([n_()]),V=dg(A);return T(V,q=>!E[q])}}:null,Me(o,yr)?{key:"embeds",commands:h7.map(E=>({key:E.key,title:E.title,icon:({size:A})=>Rr.createElement(Zo,{source:{uri:(p.color==="dark"?E.iconDark:null)||E.icon},style:{width:A,height:A}}),trigger:()=>{a("embed")}}))}:null].filter(fe)})},[k,l.uid,h,t,p.color,u]);return[Rr.createElement(xt,null,i==="embed"?Rr.createElement(y7,{onInsert:k,onClose:C}):i&&"ref"in i?Rr.createElement(Fm,{onClose:C,data:i,multi:!0,buttonText:T=>`Insert ${T} blocks`,onRequestChangeSource:()=>{a(null),c.prompt({title:"Choose OpenAPI source",accept:"swagger",acceptURL:!0}).then(([T])=>{T&&a({ref:T})})},onSelect:T=>{P({blockType:Mo,swaggerOperations:T.map.length,swaggerSource:i.ref.kind}),_(T.map(E=>Re.createBlockWithRef(i.ref,E.path,E.method))),C()}}):null),R]}function gd(t,o,e,r,n){t.change(i=>{let a=t.value.document.getParent(o);if(!a)return;let c=a.getChildIndex(o);if(c<0)return;if(r==="replace")e.object==="block"?i.replaceNodeByKey(o,e):i.replaceWithDocumentByKey(o,e);else{let u=r==="after"?c+1:c;e.object==="block"?i.insertNodeByKey(a.key,u,e):i.insertDocumentByKey(a.key,u,e)}let l=i.value.document.getNode(e.object==="block"?e.key:e.nodes.first().key);l&&(Vt(i.value.selection)?n==="start"?i.collapseToStartOf(l).focus():n==="end"?i.collapseToEndOf(l).focus():n(i,l):i.selectBlock(rp.create({anchorBlock:l.key,focusBlock:l.key})))})}var Tv={insert:{label:"Insert block",title:`Click to add below
${ka("alt")} + click to add above`},options:{label:"Block controls",title:`Click for options. ${ka(He.EDITOR_MODIFIER_PALETTE)}
Drag to move.`}};function UA(t){let{optionsPalette:o,node:e,editor:r,parent:n,layout:i,dragHandleRef:a,isDragging:c,isFocused:l,isHovered:u}=t,d=N_(),p=Fo.useRef(!1),[m,f]=Fo.useState("replace"),h=Fo.useRef(null),y=pe(h),[w,C]=XA(r,n,e,m,h),k=Fo.useRef(null),_=pe(k,{onClose:()=>{r.change(re=>{re.focus()})}}),P=()=>{p.current=!!d.current,e.isEmpty&&p.current?y.open(C):_.open((typeof o=="function"?o():o)||it(r,e.key)),r.change(re=>{e&&Vt(re.value.selection)&&!re.value.selection.hasEdgeIn(e)&&re.collapseToStartOf(e),re.blur()})},R=gi(k,a);Gn(l?{...e.isEmpty?{[He.EDITOR_PALETTE]:P}:{},[He.EDITOR_MODIFIER_PALETTE]:()=>i.withOptionsButton?_.open((typeof o=="function"?o():o)||it(r,e.key)):!1}:{},"editor-selection-collapsed",[l,_,o,r,e.isEmpty,e.key]);let T=u||_.opened||y.opened,[E,A]=Fo.useState(!1),V=Fo.useRef(null),q=i.withInsertButton,Y=q?["fade","slide"]:["fade"],te=$S(D.animations,["distance-s","enter","right",...Y],T),X=$S(D.animations,["distance-s","exit","right",...Y],E&&!T);return Fo.useEffect(()=>{var Be,le;function re(ct){A(ct.animationName.includes("Enter"))}function _e(){A(!1)}return q&&((Be=V.current)==null||Be.addEventListener("animationend",re),(le=V.current)==null||le.addEventListener("animationcancel",_e)),()=>{var ct,dt;(ct=V.current)==null||ct.removeEventListener("animationcancel",_e),(dt=V.current)==null||dt.removeEventListener("animationend",re)}},[q]),Fo.createElement(ee,{contentEditable:!1,style:[Lx.hitArea],inlineStyle:i.hitArea.inlineStyle},w,Fo.createElement(ee,{ref:V,style:[Lx.buttonWrapper,te,X,q?D.flex.justifyContentEnd:D.flex.justifyContentStart],inlineStyle:i.position},i.withInsertButton?Fo.createElement(Fo.Fragment,null,Fo.createElement(ro,{contentEditable:!1,kind:"muted",iconOnly:!0,leadingIcon:v.Plus.CSS,label:Tv.insert.label,preventFocusOnPress:!0,tooltipTitle:Tv.insert.title,onPressStart:re=>f(re.altKey?"before":"after"),onPress:re=>{y.open(C)},onPressEnd:()=>f("replace"),size:i.size,style:QS,ref:h})):Fo.createElement(ee,{ref:h,id:"palette-ref--"}),i.withOptionsButton?Fo.createElement(ro,{contentEditable:!1,kind:"muted",ref:R,size:i.size,iconOnly:!0,label:Tv.options.label,leadingIcon:v.GrabberVertical.CSS,tooltipTitle:Tv.options.title,preventFocusOnPress:!0,tooltipDisabled:c,onPress:()=>P(),style:QS}):null))}s();var ot=x(O());G();s();var hd=x(O());G();s();G();var El={added:$.green.base,deleted:$.scarlet.base,modified:$.primary.base},Mv=Q.create({added:{color:El.added},deleted:{color:El.deleted},modified:{color:El.modified}});function Lv(t){let{diff:o,style:e,size:r,highlighted:n}=t,[,i]=I(FQ),a=H.useInteractiveState(),c=o.type==="added"?v.DiffAdded:o.type==="deleted"?v.DiffRemoved:v.DiffModified;return hd.createElement(he,{editable:!1,style:[e,Gm.avoidCalculatingBounds],...a.events,"data-hide-on-drag":!0},hd.createElement(yi,{tooltip:`This block has been ${o.type} in this change request`,preferredPlacement:"top"},(l,u)=>hd.createElement(H.TouchableOpacity,{ref:u,style:[Gm.diffContainer,n||a.hovered?Gm.diffContainerHighlighted:null],...l.events},hd.createElement(c,{style:[Gm.diffIcon,Mv[o.type]],size:r}),hd.createElement(he,{style:[Gm.diffLine,i.bodyColor]}))))}var Gm=Q.create({diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5,userSelect:"none"},diffContainerHighlighted:{opacity:1},diffIcon:{flexShrink:0},diffLine:{width:1,flexGrow:1,flexShrink:1,marginTop:g.xsmall},avoidCalculatingBounds:{width:0,overflow:"visible"}}),FQ=z.create({bodyColor:(t,o)=>({backgroundColor:o.color==="dark"?$.darkModeText.xdark:$.lightModeText.xlight})});s();var jA=x(O());s();var Dv=JSON.parse('{"halo":"halo_oiCij","ready":"ready_81z1f","show":"show_byjur"}');function ck(t){let{isSelected:o=!1,isBlockSelection:e=!1}=t;return jA.default.createElement(ee,{style:[Dv.halo,{[Dv.ready]:e,[Dv.show]:o}],as:"span",contentEditable:!1})}ck.displayName="BlockSelectionHalo";s();var lk=4,uk=g.medium,dk=4,pk=g.xlarge+g.small,mk=g.large,zQ=-96,YA=zQ+g.large,Nv=YA+g.small,Hm={[Kt]:-(uk+lk/2),[fo]:-(pk+dk/2),[mn]:-mk},fk={[Kt]:Hm[Kt],[fo]:Hm[fo],[mn]:Hm[mn]},gk=M.ICON_XS,Tl=YA,$A=g.large+4,ZA=g.large+8,QA=g.large+8,JA=28,e9=32,t9=34,Ml=g.small;s();var a9=x(O());G();s();s();var yd=g.medium;function VQ(t,o){return o.nodes.find(e=>e.type===su&&e.nodes.some(r=>r.key===t.key))||t}function Oi(t,o,e){let r=o.getChildIndex(e?VQ(t,o).key:t.key),n=r===0,i=r===o.nodes.size-1,a=(()=>{switch(o.type){case fo:return{paddingTop:n?g.medium:g.xsmall,paddingBottom:i?g.medium:g.xsmall};case Kt:return{paddingTop:g.xsmall,paddingBottom:g.xsmall};case $o:{if(!rs.includes(t==null?void 0:t.type))return{paddingTop:0,paddingBottom:0};let l={paddingTop:g.small,paddingBottom:g.small};return n&&(l.paddingTop=0),i&&(l.paddingBottom=0),l}case ts:return{paddingTop:g.medium,paddingBottom:g.medium}}return{}})();return{...(()=>{switch(t.type){case Fe:return{paddingTop:g.large,paddingBottom:g.small};case Ge:return{paddingTop:g.large,paddingBottom:g.small};case rt:return{paddingTop:g.large,paddingBottom:g.small};case ge:return{paddingTop:g.small,paddingBottom:g.small};case Ht:case go:case ho:return{paddingTop:g.medium,paddingBottom:g.medium};case fo:return{paddingTop:g.medium,paddingBottom:g.medium};case Xr:return{paddingTop:g.medium,paddingBottom:g.medium};case $o:return{paddingTop:n?0:g.xsmall,paddingBottom:i?0:g.xsmall};default:return{paddingTop:yd,paddingBottom:yd}}})(),...a}}s();var o9=x(zf());G();var Pc=100,Av=40,Km=800;function Bv(t,o,e=!1){if(!t.useNewSizing)return GQ(t,o,e);let r=new Map,n=0;t.columns.forEach(d=>{var p;n+=((p=t.columnWidths)==null?void 0:p[d])||0});let i=Math.max(o-n,0),a=t.columns.length-Object.keys(t.columnWidths||{}).length,c=a===0?0:Math.floor(i/a),l=a===0?0:i-c*a,u=0;return t.columns.forEach(d=>{var y,w;let p=typeof((y=t.columnWidths)==null?void 0:y[d])>"u",m=((w=t.columnWidths)==null?void 0:w[d])||0,f=p?c:m;d===t.columns[t.columns.length-1]&&(f+=l),f=(0,o9.default)(f,p?Pc:Av,Km),u+=f;let h=new or.Value(0);h.setOffset(f),r.set(d,{controller:h,animated:or.diffClamp(h,e?0:p?Pc:Av,Km),width:f})}),{widths:r,totalWidth:u}}function GQ(t,o,e=!1){let i=new Map,a=0;t.columns.forEach(l=>{var d;let u=((d=t.columnWidths)==null?void 0:d[l])||200;a+=u,i.set(l,u)});let c=1;return(a<o||e)&&(c=o/a,a=o),i.forEach((l,u)=>{let d=new or.Value(0);d.setOffset(l*c),i.set(u,{controller:d,animated:or.diffClamp(d,e?0:150,Km),width:l*c})}),{widths:i,totalWidth:a}}function Ll(t,o,e){let{blockSpacing:r={paddingTop:0,paddingBottom:0},contentSize:n=750}=e||{};if((t==null?void 0:t.object)!=="block")throw new Error(`invalid node passed to "getBlockEstimatedHeight" ${t.object}#${t.type} with parent ${t.object}#${o?o.type:"no-parent"}`);switch(t.type){case fn:return r.paddingTop+r.paddingBottom+KQ(t,n);case jr:return r.paddingTop+r.paddingBottom+Ll(t.nodes.first(),t);case ge:case Ge:case rt:case Fe:{let a=r.paddingTop+r.paddingBottom+Xm(t.text,{lineHeight:nn(t),fontSize:qv(t),contentWidth:n});return t.type===Fe&&o.object==="document"&&o.getChildIndex(t.key)!==0?a+g.medium+g.large+1:a}case ya:return Xm(t.text,{lineHeight:nn(t),fontSize:qv(t),contentWidth:n});case Ur:case yr:case Bi:case Mo:case Qa:case ci:return r.paddingTop+r.paddingBottom+200;case tl:case Ja:case os:return r.paddingTop+r.paddingBottom+100;case qn:return r.paddingTop+r.paddingBottom+nn(t);case es:return r.paddingTop+r.paddingBottom+1;default:let i=HQ(t,n);return r.paddingTop+r.paddingBottom+t.nodes.reduce((a,c)=>{let l=Oi(c,t),u=c.object==="block"?Ll(c,t,{contentSize:i}):Xm(c.text,{contentWidth:i});return a+u+l.paddingTop+l.paddingBottom},0)}}function HQ(t,o){switch(t.type){case Kt:return o-uk-lk;case fo:return o-pk-dk;default:return o}}function nn(t){if(!t)return Ye.Body.lineHeight;switch(t.type){case $o:return nn(t.nodes.first());case Fe:return Ye.Heading1.lineHeight;case Ge:return Ye.Heading2.lineHeight;case rt:return Ye.Heading3.lineHeight;case Xr:return Ye.Code.lineHeight+2*g.small;case ya:return Ye.Code.lineHeight;case jr:return Ye.Label.lineHeight+2*g.small;case fn:return Ye.Label.lineHeight+2*g.small;case qn:return g.medium*2+Ye.Heading3.lineHeight;case es:return 1;case ge:default:return Ye.Body.lineHeight}}function qv(t){if(!t)return Ye.Body.fontSize;switch(t.type){case $o:return nn(t.nodes.first());case Fe:return Ye.Heading1.fontSize;case Ge:return Ye.Heading2.fontSize;case rt:return Ye.Heading3.fontSize;case ya:return Ye.Code.fontSize;case ge:default:return Ye.Body.fontSize}}function KQ(t,o){let e=oe.getTableData(t);switch(e.view.type){case"grid":{let{widths:r}=Bv(e.view,o,!1),n=UQ(e,r),i=Object.keys(e.records).reduce((a,c,l)=>{let u=hk(t,c,r);return a+u},0);return n+i}case"cards":{let r=Object.keys(e.records).length,n=e.view.cardSize==="large"?2:3,i=(750-n*g.medium)/n,a=XQ(t,e,i),c=Math.ceil(r/n);return c*a+(c-1)*g.medium}default:qe(e.view)}}function hk(t,o,e){if(!t)return 0;let r=oe.getTableData(t),n=r.records[o];return r.view.columns.reduce((i,a)=>{let c=n.values[a],l=r.definition[a],u=n9(c,l,r9(l.id,e),t);return u>i?u:i},g.medium)}function XQ(t,o,e){let r=Object.values(o.records)[0];if(!r)return 0;let n=o.view.type==="cards"&&o.view.coverDefinition?135:0;return o.view.columns.reduce((i,a)=>{let c=r.values[a],l=o.definition[a],u=n9(c,l,e,t);return i+u},2*g.small+n)}function UQ(t,o){return t.view.type!=="grid"||t.view.hideHeader?0:Object.keys(t.definition).reduce((e,r)=>{let n=r9(r,o),i=t.definition[r].title,a=Xm(i,{contentWidth:n});return a>e?a:e},g.medium)}function r9(t,o){var r;return(((r=o.get(t))==null?void 0:r.width)||Pc)-g.medium*2}function n9(t,o,e,r){return(()=>{switch(o.type){case"text":let i=r.fragments.get(String(t));return i?i.nodes.reduce((u,d)=>u+Ll(d,r,{contentSize:e}),0):0;case"number":return Xm(String(t),{contentWidth:e});case"files":case"users":let a=Array.isArray(t)?t.length:1,c=o.type==="files"?YQ:jQ;return(a<=1?1:Math.max(1,Math.ceil(c*a/e)))*Ye.Body.lineHeight;case"checkbox":case"rating":case"select":default:return Ye.Body.lineHeight}})()+g.small*2+1}function Xm(t,o){let{lineHeight:e=Ye.Body.lineHeight,contentWidth:r=750}=o||{},n=yk(t,o),i=Math.max(1,Math.ceil(n/r));return e*i}function yk(t="",o){let{fontSize:e=Ye.Body.fontSize}=o||{};return e*.5*t.length}var jQ=yk("Steven Smithson")+g.large+g.small*2,YQ=yk("this_is_a_file_of_mine.json")+g.large+g.small*2;function md(t){let{ancestors:o,node:e,diff:r,isBlockSelection:n=!1}=t,i=o.last(),a=i.type,c=i.getChildIndex(e.key),l=c===0,u=c===i.nodes.size-1,d=e.data.get("fullWidth"),m=typeof d=="boolean"&&d===!0;return a9.default.useMemo(()=>{let f=i.object==="document",h=o.size===1||o.size===2&&Gt.isBlock(i)&&mt.isList(i),y=i.object==="document"&&qi.isConflictKey(e.key),w=nn(e),C=Oi(e,i,typeof r=="boolean");y&&(C.paddingTop+=g.medium);let k=!y&&eJ(e,o),_=k?tJ(e,o):0,P=g.small;return{blockStyle:nJ(C.paddingTop,C.paddingBottom),diffLine:r?{style:{position:"absolute",left:rJ(e,o),top:(typeof r!="boolean"?C.paddingTop:0)+(w-gk)/2,bottom:C.paddingBottom+g.small},size:gk}:void 0,diffBefore:typeof r!="boolean"&&(r!=null&&r.deletedBlocksBefore)?{style:i9.diffDeletedBeforeLine,size:M.ICON_XS}:void 0,diffAfter:typeof r!="boolean"&&(r!=null&&r.deletedBlocksAfter)?{style:i9.diffDeletedAfterLine,size:M.ICON_XS}:void 0,controlButtons:$Q({node:e,ancestors:o,lineHeight:w,blockSpacing:C,isTopLevelBlock:h,isBlockSelection:n}),rightGutterComponent:k?{size:k.buttonSize,style:{top:(w-k.height)/2,marginLeft:_+P},hitArea:{right:0,width:_+P,marginRight:-_-P,top:0,position:"absolute",height:"100%",paddingTop:C.paddingTop,paddingBottom:C.paddingBottom}}:void 0,renderMode:f?m?"full-width":"centered":"unstyled"}},[e.type,i.object,a,l,u,r,n,m])}var s9={shouldNodeComponentUpdate(t,o){if(t.node.object==="inline"||o.node.object==="inline")return null;let e=Oi(t.node,t.parent),r=Oi(o.node,o.parent);return e.paddingTop!==r.paddingTop||e.paddingBottom!==r.paddingBottom?!0:null}};function $Q({node:t,ancestors:o,lineHeight:e,blockSpacing:r,isTopLevelBlock:n,isBlockSelection:i}){let a=JQ({isTopLevelBlock:n}),c=o.last(),l=ZQ({node:t,isTopLevelBlock:n,isBlockSelection:i}),u=QQ({node:t,parent:c,isBlockSelection:i}),d=[l,u].reduce((y,w)=>w?y+a.width:y,0),p=oJ(t,o),m=p-d/2,f=d===0?0:n?p:m,h=e/2-a.height/2;return{size:a.size,position:{top:h},withInsertButton:l,withOptionsButton:u,hitArea:{inlineStyle:{width:Math.abs(f),paddingTop:r.paddingTop,paddingBottom:r.paddingBottom,paddingLeft:n?g.xsmall:0,paddingRight:n?g.xsmall:0,left:f}}}}function ZQ({node:t,isBlockSelection:o,isTopLevelBlock:e}){return o||mn===t.type?!1:e}function QQ({node:t,parent:o,isBlockSelection:e}){return!(t.type===ge&&t.isEmpty||mn===t.type||!e&&rs.includes(t.type)||Gt.isBlock(o)&&o.type===$o&&t.type!==Ur)}function JQ({isTopLevelBlock:t}){return t?{size:"small",width:M.BUTTON_S,height:M.BUTTON_S}:{size:"xsmall",width:M.BUTTON_XS,height:M.BUTTON_XS}}function eJ(t,o){return mn===t.type||rs.includes(t.type)||[fo,qn,Kt].includes(t.type)?null:{buttonSize:"small",width:M.BUTTON_S,height:M.BUTTON_S}}function tJ(t,o){let e=o.last();return Gt.isBlock(e)&&[fo].includes(e.type)?24:Gt.isBlock(e)&&e.type===qn?g.medium+1:0}function oJ(t,o){let e=o.last(),r=o.get(o.size-2);if(t.type===$o){if(!r||(r==null?void 0:r.object)==="document")return Nv;if(Gt.isBlock(r)&&r.type===$o)switch(e==null?void 0:e.type){case go:return-(g.small+6);case Ht:return-(g.small+8);case ho:return-(g.small+M.ICON_M/2);default:return Nv}e=r,r=o.get(o.size-3)}return r&&Gt.isBlock(r)&&fk[r.type]?fk[r.type]:(Gt.isBlock(e)?Hm[e.type]:0)||Nv}function rJ(t,o){let e=o.last(),r=o.get(o.size-2),n=o.some(l=>l.type===jr)?-g.large:0,i=o.some(l=>l.type===fo)?Tl+10:0,a=o.some(l=>l.type===Kt)?-20:0,c=o.filter(l=>rs.includes((l==null?void 0:l.type)||"")).size;if(c>0){let l=(n?n-2:0)+i+a+Tl,u=c-1,d;switch(rs.includes((r==null?void 0:r.type)||"")?d=r==null?void 0:r.type:(d=e.type,u--),d){case go:return l-$A-JA*u;case Ht:return l-ZA-e9*u;case ho:return l-QA-t9*u;default:return Tl}}return a+i+n+Tl}var i9=Q.create({block:{paddingVertical:yd},defaultTopPadding:{paddingTop:yd},defaultBottomPadding:{paddingBottom:yd},insertionLine:{height:Ml,left:0,right:0},diffDeletedBeforeLine:{top:-Ml,left:Tl},diffDeletedAfterLine:{bottom:-Ml,left:Tl}});function nJ(t,o){let e={0:"none",[g.xsmall]:"xsmall",[g.small]:"small",[g.medium]:"medium",[g.large]:"large",[g.xlarge]:"xlarge",[g.xxlarge]:"xxlarge"},r=[D.padding.mediumVertical],n={},i=e[t],a=e[o];return i&&r.push(D.padding[`${i}Top`]),a&&r.push(D.padding[`${a}Bottom`]),!i&&t!==0&&(n.paddingTop=t),!a&&o!==0&&(n.paddingBottom=o),{inlineStyle:n,style:r}}s();var vd=x(O());var c9=vd.default.createContext({current:new Map});function l9(t){let{original:o,modified:e,children:r}=t,n=vd.default.useRef(new Map),i=vd.default.useMemo(()=>o?hI(o||zs.create(),e):new Map,[o,e]);return n.current=i,vd.default.createElement(c9.Provider,{value:n},r)}function u9(t){let o=vd.default.useContext(c9);return o.current instanceof Map?o.current.get(t.key):o.current}s();var Io=x(O());s();var Ii=JSON.parse('{"conflicts":"conflicts_NH0YT","toolbarConnector":"toolbarConnector_rKw9X","conflictBase":"conflictBase_F-gkn","conflictHead":"conflictHead_qDgkT","verticalConnector":"verticalConnector_6gQQw","conflictBadge":"conflictBadge_rJISv","highlightContainer":"highlightContainer_T2jbl","highlight":"highlight_r-5El","main":"main_K0HuP","current":"current_-GeKS"}');function p9(t){let{node:o,editor:e,children:r}=t,{blockLayoutComponent:n}=Io.useContext(ze),i=qi.hasBlockConflictFrom(o,"base"),a=qi.hasBlockConflictFrom(o,"head");return!a&&!i?Io.createElement(Io.Fragment,null,r):Io.createElement(ee,{style:[Ii.conflicts,D.flex.column]},i?Io.createElement(n,{renderMode:"centered"},Io.createElement(d9,{node:o,editor:e,style:[Ii.conflictBase,D.margin.smallBottom,D.margin.mediumTop]})):null,Io.createElement(ee,{style:Ii.highlightContainer},Io.createElement(ee,{style:[Ii.highlight,{[Ii.main]:i,[Ii.current]:a}]}),i?Io.createElement(ee,{style:[Ii.verticalConnector]}):null,r,a?Io.createElement(ee,{style:[Ii.verticalConnector]},Io.createElement(ee,{style:[Ii.conflictBadge]},Io.createElement(So,{kind:"secondary",icon:v.Conflict}))):null),a?Io.createElement(n,{renderMode:"centered"},Io.createElement(d9,{node:o,editor:e,style:[Ii.conflictHead,D.margin.smallTop,D.margin.mediumBottom]})):null)}function d9(t){let{node:o,editor:e,style:r}=t,[,n]=I(B),i=()=>{e.change(a=>{qi.pickConflict(a,o.key)})};return Io.createElement(ee,{contentEditable:!1,style:[Ii.toolbarConnector,D.flex.row,r]},qi.isConflictKeyFrom(o.key,"base")?Io.createElement(W,{icon:wt(v.Check,{style:[n.merge]}),rounded:!0,size:"small",kind:"secondary",style:[g.Margin.mediumRight],title:"Pick recent edits made on the main content",tooltipPreferredPlacement:"top",onPress:i},"Keep primary"):Io.createElement(W,{icon:wt(v.Check,{style:[n.primary]}),rounded:!0,size:"small",kind:"secondary",title:"Pick edits made on this change request",tooltipPreferredPlacement:"bottom",onPress:i},"Keep changed"))}var f9=Lt({key:"hoveredBlocks",default:[]}),iJ=T1({key:"isSelectedHoveredBlock",get:t=>({get:o})=>{let e=o(f9),r=e.length?e[e.length-1]:void 0;return!!r&&r===t}});function ve(t){let{tag:o,contentProps:e={},commandIcon:r,commandIconAnimatedAngle:n,palette:i,...a}=t,{node:c,parent:l,ancestors:u,editor:d,attributes:p,isFocused:m,children:f,isSelectedBlock:h,isBlockSelection:y}=a,{readOnly:w}=d,C=u9(c),k=et(),_=Li(f9),P=Hr(iJ(c.key)),{blockLayoutComponent:R,rightGutterComponent:T,logAnalyticsEvent:E,onBlockHover:A}=ot.useContext(ze),V=md({node:c,ancestors:u,diff:C,isBlockSelection:y}),q=H.useInteractiveState({onHoverIn:()=>{rs.includes(c.type)||_(X=>[...X,c.key]),A==null||A(c.key)},onHoverOut:()=>{_(X=>X.filter(re=>re!==c.key)),A==null||A(null)}}),Y=q.hovered&&P,te=ot.createElement(he,{"data-block-content":c.key,...e,style:[b.flex1,e.style]},w?null:ot.createElement(ck,{isBlockSelection:y,isSelected:h}),f);return w?ot.createElement(R,{node:c==null?void 0:c.key,renderMode:V.renderMode,interactive:q},ot.createElement(Rs.View,{isPDF:k},ot.createElement(ee,{as:o,...p,...q.domEvents,style:[D.position.relative,D.flex.column,(l.object!=="block"||l.type!==su)&&V.blockStyle.style],inlineStyle:V.blockStyle.inlineStyle},te,T&&V.rightGutterComponent?ot.createElement(he,{style:[V.rightGutterComponent.hitArea,Rc.hitArea]},ot.createElement(T,{nodeKey:c.key,visible:Y,shortcutsActive:m,buttonSize:V.rightGutterComponent.size,style:V.rightGutterComponent.style,readOnly:w})):null))):ot.createElement(sJ,{key:c.key,interactive:q,layout:V,isPDF:k,isHovered:Y,BlockLayoutComponent:R,RightGutterComponent:T,logAnalyticsEvent:E,diff:C,...t},te)}function aJ(t,o){if(!(o!=null&&o.current))return;let e=o.current.getBoundingClientRect(),r=.5*(e.bottom-e.top),n=t.getClientOffset();return n?n.y-e.top<r?"before":"after":void 0}function sJ(t){var zr;let{tag:o,commandIcon:e,commandIconAnimatedAngle:r,palette:n,interactive:i,layout:a,isPDF:c,isHovered:l,BlockLayoutComponent:u,RightGutterComponent:d,logAnalyticsEvent:p,diff:m,...f}=t,{node:h,parent:y,editor:w,attributes:C,isFocused:k,children:_,isSelectedBlock:P,isBlockSelection:R}=f,{readOnly:T}=w,E=R&&w.value.selection.isExpanded,A=ot.useMemo(()=>E?{type:"block-range",item:{type:"block-range",id:h.key,previewLabel:"Move blocks"}}:{type:"block",item:{type:"block",id:h.key,blockType:h.type,previewLabel:"Move block"}},[E,h.key,h.type]),[{dragging:V},q]=Aa({...A,canDrag:()=>!T,collect:pt=>({dragging:pt.isDragging()||P&&pt.getItemType()==="block-range"})}),[Y,te]=ot.useState(),X=ot.useRef(null),re=y.nodes.last()===h,[_e,Be]=on({accept:["block","block-range","page","space","collection"],drop:(pt,pn)=>{pn.didDrop()||w.change(Eo=>{if(pt.type==="block-range")Eo.moveBlockRangeSelectionTo(h.key,Y==="after"?1:0),p({type:"edit_page_document_move_block_range",method:"dnd",rangeSize:Eo.value.blocks.size});else if(pt.type==="block"){Y==="before"?Eo.moveBeforeNodeByKey(pt.id,h.key):Eo.moveAfterNodeByKey(pt.id,h.key);let $t=w.value.document.getParent(pt.id);p({type:"edit_page_document_move_block",blockType:pt.blockType,method:"dnd",toParent:y.object==="block"?y.type:y.object,fromParent:($t==null?void 0:$t.object)==="block"?$t==null?void 0:$t.type:$t==null?void 0:$t.object})}else{let $t=rl.createContentRefBlock(iA(pt));Y==="before"?Eo.insertNodeBeforeByKey(h.key,$t):Eo.insertNodeAfterByKey(h.key,$t)}})},canDrop:pt=>!(!Me(y,pt.type==="block"?pt.blockType:os)||pt.type==="block"&&pt.id===h.key||pt.type==="block-range"&&w.value.blocks.find(pn=>pn.key===h.key)),hover:(pt,pn)=>{if(!pn.canDrop())return;let Eo=aJ(pn,X);Y!==Eo&&te(Eo)},collect:pt=>({highlighted:pt.isOver({shallow:!0})&&pt.canDrop()})}),{rightGutter:le,controls:ct,diff:dt}=cJ({isBlockSelection:R,isDragging:V,isSelectedBlock:P,readOnly:T,value:w.value}),Yo=Be(X);return ot.createElement(p9,{node:h,editor:w},ot.createElement(u,{node:h==null?void 0:h.key,renderMode:a.renderMode,interactive:i},ot.createElement(Rs.View,{isPDF:c},ot.createElement(ee,{as:o,...C,style:[D.position.relative,D.flex.row,V&&D.opacity.translucent,a.blockStyle.style,Pg,{[_g]:_e.highlighted&&(!re||re&&Y==="before"),[wu]:_e.highlighted&&re&&Y==="after"}],inlineStyle:a.blockStyle.inlineStyle,ref:Yo},dt&&m&&a.diffLine&&m.type!=="unmodified"?ot.createElement(Lv,{diff:m,highlighted:l,...a.diffLine,style:[(zr=a.diffLine)==null?void 0:zr.style,Rc.noSelect]}):null,ct&&a.controlButtons?ot.createElement(UA,{isDragging:V,dragHandleRef:q,isFocused:k,isHovered:l,optionsPalette:E?void 0:n,layout:a.controlButtons,node:h,editor:w,parent:y}):null,_,le&&d&&a.rightGutterComponent?ot.createElement(he,{style:[a.rightGutterComponent.hitArea,Rc.hitArea]},ot.createElement(d,{nodeKey:h.key,visible:l,shortcutsActive:k,buttonSize:a.rightGutterComponent.size,style:[a.rightGutterComponent.style,Rc.hideTransition],readOnly:T})):null,a.diffBefore?ot.createElement(m9,{style:a.diffBefore.style,size:a.diffBefore.size}):null,a.diffAfter?ot.createElement(m9,{style:a.diffAfter.style,size:a.diffAfter.size}):null))))}function m9(t){let{style:o,size:e}=t;return ot.createElement(he,{editable:!1,style:[o,Rc.avoidCalculatingBounds,Rc.diffRemoved,Rc.noSelect],"data-hide-on-drag":!0},ot.createElement(yi,{tooltip:"A block has been removed in this change request",preferredPlacement:"top"},(r,n)=>ot.createElement(H.TouchableOpacity,{ref:n,style:Rc.diffContainer,...r.events},ot.createElement(v.DiffRemoved,{size:e,style:[Mv.deleted]}))))}function cJ(t){let{isDragging:o,isBlockSelection:e,isSelectedBlock:r,readOnly:n,value:i}=t,{selection:a}=i;return ot.useMemo(()=>n?{controls:!1,diff:!1,rightGutter:!0}:e?{controls:r,diff:!0,rightGutter:!1}:{controls:!a.isExpanded,diff:!0,rightGutter:!a.isExpanded},[a.isExpanded,o,e,r,n])}var Rc=Q.create({diffContainer:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",opacity:.5},diffRemoved:{paddingTop:(Ml*2-M.ICON_XS)/2,height:Ml*2,position:"absolute"},hideTransition:{transition:"opacity 0.2s ease-in-out"},hitArea:{position:"absolute",backgroundColor:"transparent"},avoidCalculatingBounds:{width:0,overflow:"visible"},noSelect:{userSelect:"none"}});s();var ft=x(O());s();var Wv=JSON.parse('{"placeholder":"placeholder_HCCie","instructions":"instructions_YvYKU","shortcuts":"shortcuts_v-WHU"}');var Dl={instructions:{message:ft.createElement(ft.Fragment,null,"Type"," ",ft.createElement(ps,{style:[D.flex.inline],size:"medium",shortcut:He.EDITOR_PALETTE})," ","for commands"),embed:" or paste a link to embed content"},imagePrompt:{title:"Select images"},image:{label:"Insert image"},code:{label:"Insert code block",placeholder:"// Some code"},list:{label:"Insert unordered list"}};function g9(t){let{node:o,parent:e,editor:r,children:n,placeholder:i}=t,{selection:a}=r.value,c=ye.isTextRange(a)&&a.hasOnlyNodeFocused(o),l=Ot(),{logAnalyticsEvent:u}=ft.useContext(ze),d=Me(e,yr),p=ft.useMemo(()=>[{key:"image",label:Dl.image.label,icon:v.BlockImage.CSS,trigger(){l.prompt({title:Dl.imagePrompt.title,accept:"images",acceptURL:!0}).then(m=>{m.length!==0&&(gd(r,o.key,Gt.create({type:Ur,isVoid:!0,nodes:m.map(f=>Lo.createImageBlock(f))}),"replace","end"),u({type:"edit_page_document_insert_block",from:"quick-insert",blockType:Ur,images:m.length}))})}},{key:"code",label:Dl.code.label,icon:v.Code.CSS,trigger(){gd(r,o.key,to.createCodeBlock(Dl.code.placeholder),"replace","end"),u({type:"edit_page_document_insert_block",from:"quick-insert",blockType:Xr})}},{key:"list-unordered",label:Dl.list.label,icon:v.ListUnordered.CSS,trigger(){gd(r,o.key,mt.createList(go),"replace","end"),u({type:"edit_page_document_insert_block",from:"quick-insert",blockType:go})}}],[r,o.key]);return ft.createElement(ft.Fragment,null,ft.createElement(ve,{...t},ft.createElement(ee,{as:"p",contentEditable:!1,style:[Wv.placeholder,D.text.base,D.text.body,D.textColor.muted,D.flex.row,D.flex.alignCenter,D.flex.justifySpaceBetween,c||i?D.opacity.visible:D.opacity.hidden]},c?ft.createElement(ft.Fragment,null,ft.createElement(wr,{style:[Wv.instructions]},Dl.instructions.message,d?Dl.instructions.embed:""),(p==null?void 0:p.length)>0?ft.createElement(lJ,{blocks:p,editor:r,node:o}):null):ft.createElement(ft.Fragment,null,Yf(e)?i:null)),n))}function lJ(t){var l;let{blocks:o,editor:e,node:r}=t,[n,i]=ft.useState(0),a=ft.useRef(n),c=ft.useRef(null);return MN(u=>{var d;!c.current||u||(d=c.current)==null||d.focus()},{scope:(l=e.elementRef)==null?void 0:l.current,exact:!0}),ft.useEffect(()=>{var u;(a==null?void 0:a.current)!==n&&((u=c.current)==null||u.focus(),a.current=n)},[n]),ft.useEffect(()=>()=>{var u;(u=c==null?void 0:c.current)==null||u.blur()},[]),ft.createElement(ee,{as:"span",role:"toolbar","aria-orientation":"horizontal",style:[Wv.shortcuts,D.flex.row,D.flex.alignEnd]},o.map(({trigger:u,label:d,icon:p},m)=>ft.createElement(ro,{ref:m===n?c:void 0,label:d,tooltipTitle:d,iconOnly:!0,leadingIcon:p,kind:"muted",size:"small",onPress:()=>u==null?void 0:u(),preventFocusOnPress:!0,tabIndex:m===n?0:-1,key:`${r.key}_${m}`,onKeyDown:f=>{var h,y;(f.key==="Tab"||f.key==="Escape")&&((y=(h=e.elementRef)==null?void 0:h.current)==null||y.focus(),f.preventDefault()),f.key==="ArrowLeft"&&(i(w=>Math.max(0,w-1)),f.preventDefault()),f.key==="ArrowRight"&&(i(w=>Math.min(o.length-1,w+1)),f.preventDefault())}})))}s();var h9=x(O());var uJ=[Xr,yr,ci,Ur,Mo,fn];function ki(t,o){let{logAnalyticsEvent:e}=h9.useContext(ze);if(!NP("FULL_WIDTH_BLOCKS"))return null;let n=t.value.document.assertBlock(o);if(!uJ.includes(n.type))return null;let i=n.data.get("fullWidth");return{key:"layout-width",commands:[typeof i=="boolean"&&i===!0?{key:"default",title:"Default width",icon:v.DefaultWidth,trigger:()=>{t.change(l=>{l.setDataByKey(o,["fullWidth"],!1)}),e({type:"edit_page_document_edit_block_property",blockType:n.type,blockProperty:"layout",fromValue:"full",toValue:"default"})}}:{key:"full",title:"Full width",icon:v.FullWidth,trigger:()=>{t.change(l=>{l.setDataByKey(o,["fullWidth"],!0)}),e({type:"edit_page_document_edit_block_property",blockType:n.type,blockProperty:"layout",fromValue:"default",toValue:"full"})}}]}}s();var y9=x(O());function zv(t,o){return y9.useMemo(()=>dJ(t.value.document,o),[t,o])}function dJ(t,o){let e=t.getPath(o);return e?e[0]<pJ(t):!1}var Fv=new WeakMap;function pJ(t){if(Fv.has(t))return Fv.get(t);let o=800,e=0;for(let r=0;r<t.nodes.size;r++){let n=t.nodes.get(r);if(!n)break;if(e+=Ll(n,t,{blockSpacing:{paddingTop:g.medium,paddingBottom:g.medium}}),e>o)return Fv.set(t,r),r}return Fv.set(t,t.nodes.size),t.nodes.size}s();var bd=x(O());G();var Sd=bd.forwardRef(function(o,e){let{node:r,children:n,editor:i,isFocused:a,isSelected:c,attributes:l,onPress:u,style:d}=o,{readOnly:p}=i,m=H.useInteractiveState(),[,f]=I(mJ);return p?u?bd.createElement(Ve,{style:[f.frameInlineVoid],onPress:u},n):bd.createElement(S,{style:[f.frameInlineVoid]},n):bd.createElement(Ve,{ref:e,...l,...m.events,style:[f.frameInlineVoid,m.hovered&&f.frameEditableHovered,c&&f.frameSelected,a&&f.frameFocused,d],onPress:h=>{i.change(y=>{Vt(y.value.selection)?y.collapseToStartOf(r).focus():y.selectText(ye.fromBlockRange(y.value.selection,y.value.document)).collapseToStartOf(r).focus()}),u&&u(h)}},n)}),mJ=z.create({frameInlineVoid:t=>({borderWidth:2,borderColor:"transparent",borderRadius:t.radiuses.medium,textAlignVertical:"middle"}),frameEditableHovered:t=>({borderColor:t.colors.primary.muted}),frameSelected:t=>({borderColor:t.colors.primary.muted}),frameFocused:t=>({borderColor:t.colors.primary.main})});s();var It=x(O());G();s();var w9=x(zf()),C9=x(O());s();var vk={BLUE:{light:"#0074D9",dark:"#0074D9"},AQUA:{light:"#7FDBFF",dark:"#7FDBFF"},TEAL:{light:"#39CCCC",dark:"#39CCCC"},OLIVE:{light:"#3D9970",dark:"#3D9970"},GREEN:{light:"#2ECC40",dark:"#2ECC40"},LIME:{light:"#01FF70",dark:"#01FF70"},YELLOW:{light:"#FFDC00",dark:"#FFDC00"},ORANGE:{light:"#FF851B",dark:"#FF851B"},RED:{light:"#FF4136",dark:"#FF4136"},MAROON:{light:"#85144b",dark:"#85144b"},FUCHSIA:{light:"#F012BE",dark:"#F012BE"},PURPLE:{light:"#B10DC9",dark:"#B10DC9"}},v9=Object.keys(vk).sort((t,o)=>Math.random()-.5),Vv=new Map;function b9(t){if(Vv.has(t))return Vv.get(t);let o=v9[Vv.size%v9.length];return Vv.set(t,o),o}function Ba(t){let o=mi(),[e]=I();return C9.useMemo(()=>{if(!t)return{base:e.colors.primary.main,faded:S9(e.colors.primary.main,.2)};let r=b9(t),n=vk[r][o.color];return{base:n,faded:S9(n,.2)}},[o.color,t,e.colors.primary.main])}function S9(t,o){let e=Math.round((0,w9.default)(o||1,0,1)*255);return t+e.toString(16).toUpperCase()}var At=It.forwardRef(function(o,e){let{onPress:r,onSelect:n=()=>{c.change(y=>{Vt(y.value.selection)&&y.collapseToStartOf(i).focus()})},node:i,children:a,editor:c,selections:l,isFocused:u,selectable:d=!0}=o,{readOnly:p}=c,m=i.getFirstText(),f=It.useMemo(()=>{if(u)return;let y=l.get(0);if(y)return y.data.get("clientId")},[l,u,m==null?void 0:m.key]),h=Ba(f);return It.createElement(bk,{ref:e,onPress:r,readOnly:p,selectable:d,selected:u||!!f,selectionColor:h.base,onSelect:n},a)}),bk=It.forwardRef(function(o,e){let{onPress:r,selected:n,readOnly:i=!1,selectable:a=!0,selectionColor:c,style:l,children:u,onSelect:d}=o,p=H.useInteractiveState({hoverDelayIn:50}),[m,f]=I(fJ);if(i)return It.createElement(It.Fragment,null,u);let h=C=>{C.stopPropagation(),d()},y=c||m.colors.primary.main,w=It.createElement(S,{ref:e,style:l},u,It.createElement(S,{style:[f.frameBorder,f.frameBorderRight,p.hovered&&f.frameBorderHovered,n&&[f.frameBorderRightSelected,{borderRightColor:y}]],pointerEvents:"none"}),It.createElement(S,{style:[f.frameBorder,f.frameBorderLeft,p.hovered&&f.frameBorderHovered,n&&[f.frameBorderLeftSelected,{borderLeftColor:y}]],pointerEvents:"none"}),It.createElement(S,{style:[f.frameBorder,f.frameBorderTop,p.hovered&&f.frameBorderHovered,n&&[f.frameBorderTopSelected,{borderTopColor:y}]],pointerEvents:"none"}),It.createElement(S,{style:[f.frameBorder,f.frameBorderBottom,p.hovered&&f.frameBorderHovered,n&&[f.frameBorderBottomSelected,{borderBottomColor:y}]],pointerEvents:"none"}),a?It.createElement(It.Fragment,null,It.createElement(mo,{onPress:h},It.createElement(S,{...p.events,style:[f.hoverableFrameBorder,f.hoverableFrameBorderRight]})),It.createElement(mo,{onPress:h},It.createElement(S,{...p.events,style:[f.hoverableFrameBorder,f.hoverableFrameBorderLeft]})),It.createElement(mo,{onPress:h},It.createElement(S,{...p.events,style:[f.hoverableFrameBorder,f.hoverableFrameBorderTop]})),It.createElement(mo,{onPress:h},It.createElement(S,{...p.events,style:[f.hoverableFrameBorder,f.hoverableFrameBorderBottom]}))):null);return r?It.createElement(Ve,{onPress:r},w):w}),Gv=18,bt=8,Ec=4,Hv=2,fJ=z.create({frameBorder:{position:"absolute"},hoverableFrameBorder:{position:"absolute",cursor:"pointer"},frameBorderHovered:t=>({backgroundColor:t.colors.primary.muted}),hoverableFrameBorderTop:{top:-bt/2,left:-bt/2,right:-bt/2,height:Gv},frameBorderTop:{top:-bt/2,left:-bt/2,right:-bt/2,height:bt,borderTopLeftRadius:Ec,borderTopRightRadius:Ec},frameBorderTopSelected:t=>({backgroundColor:"transparent",borderTopColor:t.colors.primary.main,borderTopWidth:Hv}),hoverableFrameBorderBottom:{bottom:-bt/2,left:-bt/2,right:-bt/2,height:Gv},frameBorderBottom:{bottom:-bt/2,left:-bt/2,right:-bt/2,height:bt,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec},frameBorderBottomSelected:t=>({backgroundColor:"transparent",borderBottomColor:t.colors.primary.main,borderBottomWidth:Hv}),hoverableFrameBorderLeft:{top:-bt/2,bottom:-bt/2,left:-bt/2,width:Gv},frameBorderLeft:{top:-bt/2,bottom:-bt/2,left:-bt/2,width:bt,borderBottomLeftRadius:Ec,borderTopLeftRadius:Ec},frameBorderLeftSelected:t=>({backgroundColor:"transparent",borderLeftColor:t.colors.primary.main,borderLeftWidth:Hv}),hoverableFrameBorderRight:{top:-bt/2,bottom:-bt/2,right:-bt/2,width:Gv},frameBorderRight:{top:-bt/2,bottom:-bt/2,right:-bt/2,width:bt,borderTopRightRadius:Ec,borderBottomRightRadius:Ec},frameBorderRightSelected:t=>({backgroundColor:"transparent",borderRightColor:t.colors.primary.main,borderRightWidth:Hv})});s();var Kv=x(O());function Xv(t,o){let[,e]=I(B),[,r]=I(gJ),{navigateToHash:n}=we(),{sections:i,active:a,setActive:c}=Kv.default.useContext(wi),l=H.useInteractiveState(),u=i.get(t.key),d=()=>{u&&c(a!==u?u:null)},p=()=>{u&&(n(u,{scroll:!0}),d())},m={accessibilityRole:"presentation"};return{anchorElement:Kv.default.createElement(H.Text,{href:`#${u}`,onPress:p,style:[r.anchorLink,g.Margin.smallLeft,a===u||l.focused||l.hovered?Ze.visible:Ze.hidden],inactiveStyle:e.textMuted,activeStyle:e.primary,accessibilityLabel:o.accessibilityLabel},Kv.default.createElement(v.Hash,{size:o.anchorIconSize||M.ICON_S,...m})),anchoredBlockId:u,anchoredBlockInteractiveState:l,onAnchoredBlockPress:()=>{o.onBlockPress&&o.onBlockPress(),d()}}}var gJ=z.create({anchorLink:{display:"inline-flex",alignItems:"center"}});s();var k9=x(O());function O9(t){let{notify:o,notifyProgress:e,notifyOrUpdate:r,close:n}=wo(),{logAnalyticsEvent:i}=t;return k9.useMemo(()=>{function a(u){Nf(u),o({kind:"danger",title:"Error while pasting content",icon:v.Alert,details:ga(u,"Please try again or contact support if the problem persists.")})}function c(u){r({id:"upload-files",title:`Uploading ${u} file${u!==1?"s":""}\u2026`,details:"This might take a moment.",kind:"default",timeout:0,closeable:!1,icon:Ie})}function l(u,d,p){let m=Cu(u),f=0,h=async(y,w)=>{var C;if(nu(y))return{kind:"url",url:y};if(Z1(y)){let k=await(await fetch(y)).blob(),_=(C=y.split(";")[0])==null?void 0:C.split("/")[1],P=(w==null?void 0:w.fileName)||`unknown.${_}`,R=new File([k],P);return f+=1,c(f),(await t.uploadFiles([R]))[0]}return null};if(m.type==="html"&&m.html!==null)return vP(m.html,{...JS,resolveFile:h}).then(({document:y})=>fI(y)&&m.text?ew(m.text).then(({document:w})=>({document:w,type:"text"})):{document:y,type:"html"}).then(({document:y,type:w})=>{p.change(k=>{k.insertDocument(y)}),n("upload-files");let C=x9(w==="html"?m.html:m.text,w);i(Um(u,w,{document:y,sourceIncludes:C}))}).catch(y=>{a(y)}),!0;if(m.type==="text"&&m.text!==null)return ew(m.text,{...JS,resolveFile:h}).then(({document:y})=>{p.change(C=>{C.insertDocument(y)}),n("upload-files");let w=x9(m.text,"text");i(Um(u,"text",{document:y,sourceIncludes:w}))}).catch(y=>{a(y)}),!0;if(m.type==="files"&&typeof m.files<"u"){if(!m.files||m.files.length===0)return;e(t.uploadFiles(m.files),{title:`Uploading ${m.files.length} files\u2026`,details:"This might take a moment.",kind:"default"}).then(y=>{if(!m.files)return;if(y.length===0){o({kind:"danger",title:"Some files failed to upload, please try again",icon:v.Alert});return}let w=m.files.every(C=>Vs(C));p.change(C=>{if(w){let k=Lo.createImagesBlock(y),{startBlock:_}=C.value;if(Me(_,k.type)){WS(C,Lo.createImagesBlock(y));return}if(!mI.includes(_.type)){o({kind:"info",title:"Cannot insert an image here",icon:v.InfoCircle});return}y.reduce((R,T)=>R.insertInline(Lo.createImageInline(T)),C);return}y.forEach(k=>{if(k.kind!=="file")return;let _=Jf.createFileBlock(k);if(Me(C.value.document.getParent(C.value.startBlock.key),_.type)){WS(C,_);return}o({kind:"info",title:"Cannot insert a file here",icon:v.InfoCircle})})}),i(Um(u,"files",{uploadedFiles:y==null?void 0:y.length,sourceIncludes:["file"]}))}).catch(y=>{a(y)})}}return{onPaste:l,onDrop:l}},[o,e])}function x9(t,o){let e=[];switch(o){case"text":t.includes("![")&&e.push("image"),t.match(/\|\s*\:?---/)&&e.push("table");break;case"html":t.includes("<img")&&e.push("image"),t.includes("<table")&&e.push("table");break}return e}function Um(t,o,{document:e=void 0,uploadedFiles:r=0,sourceIncludes:n=[]}={}){let i=t.clipboardData,a=new Set,c=0;return e&&e.forEachDescendant(l=>{c+=1,l.type&&a.add(l.type)}),{type:"edit_paste_content",paste:t.type,sourceTypes:[...(i==null?void 0:i.types)||[]],sourceIncludes:[...new Set(n)],transformType:o,transformSize:c,uploadedFiles:r,transformNodes:[...a]}}s();var Sk=x(pi());var I9={onKeyDown:hJ};function hJ(t,o){if((0,Sk.default)("enter",t)||(0,Sk.default)("shift+enter",t)){let{value:e}=o,{startBlock:r,startInline:n,startText:i}=e;if(n&&n.isVoid&&i){let a=e.document.getNextText(i.key);return a?(o.collapseToStartOf(a),o):void 0}if(r&&r.isVoid)return Ct(o),o}}s();var wk=x(O()),Uv="selectionHighlighting",_9={renderMark:yJ};function yJ(t){let{mark:o}=t;switch(o.type){case Uv:return wk.createElement(vJ,{...t})}}function vJ(t){let{attributes:o,children:e}=t;return wk.createElement("span",{...o,style:{backgroundColor:"Highlight",color:"HighlightText"}},e)}s();function HA(t){t.value.decorations.forEach(o=>{var e;(e=o.marks)!=null&&e.some(r=>r.type===Uv)&&t.removeValueDecoration(o)})}function Rv(t,o=t.value.selection){ye.isTextRange(o)&&t.setValueDecoration(ye.create({anchorKey:o.anchorKey,anchorOffset:o.anchorOffset,focusKey:o.focusKey,focusOffset:o.focusOffset,marks:[{type:Uv,data:{}}],isAtomic:!0}))}s();var P9={shouldNodeComponentUpdate:bJ};function bJ(t,o){let e=t.parent.nodes.size-1,r=t.parent.getChildIndex(t.node.key),n=o.parent.getChildIndex(t.node.key);return(r===e||n===e)&&n!==r?!0:null}s();var wd=x(O());G();function Pn(t){let[,o]=I(SJ),[,e]=I(B);return wd.createElement(S,{style:[o.blockLoading,g.Padding.largeHorizontal,g.Padding.mediumVertical,b.directionRow,b.alignCenter]},wd.createElement(S,null,wd.createElement(Ie,{size:"medium"})),wd.createElement(S,{style:[g.Margin.mediumLeft]},wd.createElement(F,{style:[e.Caption,e.textMid]},"Loading...")))}var SJ=z.create({blockLoading:t=>({backgroundColor:t.colors.background.muted,borderRadius:t.radiuses.large})});s();var E9=x(O());s();var _i=x(O());var R9={en:{something_wrong:"Something went wrong.",reload:"Reload",let_us_know:"Let us know what happened",we_have_been_notified:"Our team has been notified. If you'd like to help, you can describe what happened below.",search:"Search",search_ask:"Ask",search_placeholder:"Search content\u2026",search_placeholder_ask:"Ask a question\u2026",search_blankslate:"Type something to search",search_blankslate_ai:"We'll answer the question with an AI model trained on the content.",search_blankslate_recent_searches:"Recent searches",search_blankslate_recent_questions:"Recently asked",search_blankslate_recommended_questions:"You might be interested in",search_blankslate_query:'No results for "${1}"',search_answer_sources:"Answer based on ${1} sources",search_answer_copy:"Copy answer",search_answer_feedback_upvote:"Mark as useful",search_answer_feedback_downvote:"Mark as not relevant",search_answer_feedback_title:"Thanks for your feedback!",search_answer_feedback_details:"This will help us improve the answering engine.",search_answer_loading:"Analysing the content to answer your question\u2026",search_answer_loading_wait:"It might take a few more seconds.",search_answer_none_title:"No answer found for your question.",search_answer_none_details:"It can indicate that no content is relevant to your question or answer cannot be evaluated with enough confidence.",search_answer_error_title:"Unexpected error",search_answer_error_details:"Something went wrong. Please try again later.",search_goto_section:"Go to section",search_goto_page:"Go to page",page_not_found:"Page not found",back_to_home:"Back to front page",page_not_found_long:"Sorry, but the page you were looking for could not be found.",outline:"On this page",last_modified:"Last modified ${1}",was_it_helpful:"Was this page helpful?",poor_content:"Poor content",ok_content:"OK content",excellent_content:"Excellent content",powered_by:"Powered By ${1}",previous:"Previous",next:"Next",export_pdf:"Export as PDF",copy_link:"Copy link",switch_to_dark_theme:"Switch to dark theme",switch_to_light_theme:"Switch to light theme",edit_on_github:"Edit on ${1}",page_articles_section:"Here are the articles in this section:",main:"Main",cookie_policy:"cookie policy",cookie_prompt:"This site uses cookies to deliver its service and to analyse traffic. By browsing this site, you accept the ${1}.",cookies:"Cookies",reject_all:"Reject all",theme_change_appearance:"Change appearance",new_page:"New page",untitled_page:"Untitled page",page_description:"Page description (optional)",connection_lost:"Connection lost",network_troubleshooting:"Network troubleshooting",device_offline:"Your device might be offline, or GitBook might be experiencing issues.",missing_content_title:"Oops, something is missing.",missing_content_description:"We could not find the original source to display this content.",table_of_contents:"Table of contents",page_outline:"Page outline"},fr:{something_wrong:"Il y a eu un probl\xE8me.",reload:"Actualiser",let_us_know:"Dites-nous ce qui s'est pass\xE9",we_have_been_notified:"Notre \xE9quipe a \xE9t\xE9 inform\xE9e. Si vous souhaitez nous aider, vous pouvez d\xE9crire ce qui s'est pass\xE9 ci-dessous.",search:"Rechercher",search_ask:"Poser une question",search_placeholder:"Rechercher dans le contenu\u2026",search_placeholder_ask:"Poser une question\u2026",search_blankslate:"Tapez quelque chose pour rechercher",search_blankslate_ai:"Nous r\xE9pondrons \xE0 la question avec un mod\xE8le d'IA entra\xEEn\xE9 sur le contenu.",search_blankslate_recent_searches:"Recherches r\xE9centes",search_blankslate_recent_questions:"Questions r\xE9centes",search_blankslate_recommended_questions:"Vous pourriez \xEAtre int\xE9ress\xE9 par",search_blankslate_query:'Aucun r\xE9sultat pour "${1}"',search_answer_sources:"R\xE9ponse bas\xE9e sur ${1} sources",search_answer_copy:"Copier la r\xE9ponse",search_answer_feedback_upvote:"Marquer comme utile",search_answer_feedback_downvote:"Marquer comme non pertinent",search_answer_feedback_title:"Merci pour votre retour !",search_answer_feedback_details:"Cela nous aidera \xE0 am\xE9liorer le moteur de r\xE9ponse.",search_answer_loading:"Analyse du contenu pour r\xE9pondre \xE0 votre question\u2026",search_answer_loading_wait:"Cela peut prendre quelques secondes suppl\xE9mentaires.",search_answer_none_title:"Aucune r\xE9ponse trouv\xE9e pour votre question.",search_answer_none_details:"Cela peut indiquer qu'aucun contenu n'est pertinent pour votre question ou que la r\xE9ponse ne peut pas \xEAtre \xE9valu\xE9e avec suffisamment de confiance.",search_answer_error_title:"Erreur inattendue",search_answer_error_details:"Une erreur s'est produite. Veuillez r\xE9essayer plus tard.",search_goto_section:"Aller \xE0 la section",search_goto_page:"Aller \xE0 la page",page_not_found:"Page non trouv\xE9e",back_to_home:"Retour \xE0 la page d'accueil",page_not_found_long:"D\xE9sol\xE9, mais la page que vous cherchiez n'a pas pu \xEAtre trouv\xE9e.",outline:"Sommaire",last_modified:"Derni\xE8re mise \xE0 jour ${1}",was_it_helpful:"Cette page vous a t-elle aid\xE9e ?",poor_content:"Contenu m\xE9diocre",ok_content:"Contenu OK",excellent_content:"Contenu excellent",powered_by:"Propuls\xE9 par ${1}",previous:"Pr\xE9c\xE9dent",next:"Suivant",export_pdf:"Exporter en PDF",copy_link:"Copier le lien",switch_to_dark_theme:"Switch to dark theme",switch_to_light_theme:"Switch to light theme",edit_on_github:"\xC9diter sur ${1}",page_articles_section:"Voici les articles de cette section :",main:"Principale",cookie_policy:"politique en mati\xE8re de cookies",cookie_prompt:"Ce site utilise des cookies pour fournir son service et analyser le trafic. En naviguant sur ce site, vous acceptez le ${1}.",cookies:"Cookies",reject_all:"Rejeter tout",theme_change_appearance:"Changer l\u2019apparence",connection_lost:"Hors connexion",network_troubleshooting:"D\xE9pannage r\xE9seau",device_offline:"Votre appareil est hors-ligne, ou GitBook rencontre des probl\xE8mes.",missing_content_title:"Oups, il manque quelque chose.",missing_content_description:"Nous n'avons pas pu trouver la source d'origine pour afficher ce contenu.",table_of_contents:"Table des mati\xE8res",page_outline:"Sommaire de la page"},es:{something_wrong:"Algo sali\xF3 mal.",reload:"Recarga",let_us_know:"Cu\xE9ntanos lo que ha sucedido",we_have_been_notified:"Nuestro equipo ha sido notificado. Si quieres ayudar, puedes describir lo sucedido a continuaci\xF3n.",search:"Buscar",search_ask:"Hacer una pregunta",search_placeholder:"Buscar en el contenido\u2026",search_placeholder_ask:"Hacer una pregunta\u2026",search_blankslate:"Escribe algo para buscar",search_blankslate_ai:"Responderemos a la pregunta con un modelo de IA entrenado en el contenido.",search_blankslate_recent_searches:"B\xFAsquedas recientes",search_blankslate_recent_questions:"Preguntas recientes",search_blankslate_recommended_questions:"Quiz\xE1s te interese",search_blankslate_query:'No se encontraron resultados para "${1}"',search_answer_sources:"Respuesta basada en ${1} fuentes",search_answer_copy:"Copiar respuesta",search_answer_feedback_upvote:"Marcar como \xFAtil",search_answer_feedback_downvote:"Marcar como no relevante",search_answer_feedback_title:"\xA1Gracias por tu retroalimentaci\xF3n!",search_answer_feedback_details:"Esto nos ayudar\xE1 a mejorar el motor de respuesta.",search_answer_loading:"Analizando el contenido para responder tu pregunta\u2026",search_answer_loading_wait:"Esto puede tomar unos segundos m\xE1s.",search_answer_none_title:"No se encontr\xF3 respuesta para tu pregunta.",search_answer_none_details:"Esto puede indicar que no hay contenido relevante para tu pregunta o que la respuesta no se puede evaluar con suficiente confianza.",search_answer_error_title:"Error inesperado",search_answer_error_details:"Ha ocurrido un error. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.",search_goto_section:"Ir a la secci\xF3n",search_goto_page:"Ir a la p\xE1gina",page_not_found:"P\xE1gina no encontrada",back_to_home:"Volver a la primera p\xE1gina",page_not_found_long:"Lo sentimos, pero no se ha podido encontrar la p\xE1gina que buscaba.",outline:"Esquema",last_modified:"\xDAltima actualizaci\xF3n ${1}",was_it_helpful:"\xBFTe ha sido \xFAtil esta p\xE1gina?",poor_content:"Contenido mediocre",ok_content:"Contenido OK",excellent_content:"Contenido excelente",powered_by:"Accionado por ${1}",previous:"Anterior",next:"Pr\xF3ximo",export_pdf:"Exportar como PDF",copy_link:"Copiar enlace",switch_to_dark_theme:"Switch to dark theme",switch_to_light_theme:"Switch to light theme",edit_on_github:"Editar en ${1}",page_articles_section:"Aqu\xED est\xE1n los art\xEDculos de esta secci\xF3n:",main:"Principal",cookie_policy:"pol\xEDtica de cookies",cookie_prompt:"Este sitio utiliza cookies para prestar su servicio y analizar el tr\xE1fico. Al navegar por este sitio, usted acepta la ${1}.",cookies:"Cookies",reject_all:"Rechazar todo",theme_change_appearance:"Cambiar apariencia",connection_lost:"Desconectado",network_troubleshooting:"Resoluci\xF3n de problemas de red",device_offline:"Su dispositivo puede estar desconectado, o GitBook esta experimentando problemas.",missing_content_title:"Ups, algo falta.",missing_content_description:"No pudimos encontrar la fuente original para mostrar este contenido.",table_of_contents:"Tabla de contenido",page_outline:"\xCDndice de p\xE1gina"},zh:{something_wrong:"\u51FA\u4E86\u70B9\u95EE\u9898\u3002",reload:"\u91CD\u88C5",let_us_know:"\u8BA9\u6211\u4EEC\u77E5\u9053\u53D1\u751F\u4E86\u4EC0\u4E48\u4E8B",we_have_been_notified:"\u6211\u4EEC\u7684\u56E2\u961F\u5DF2\u7ECF\u63A5\u5230\u901A\u77E5\u3002\u5982\u679C\u4F60\u60F3\u5E2E\u5FD9\uFF0C\u4F60\u53EF\u4EE5\u5728\u4E0B\u9762\u63CF\u8FF0\u53D1\u751F\u4E86\u4EC0\u4E48\u3002",search:"\u641C\u7D22",search_ask:"\u63D0\u95EE",search_placeholder:"\u641C\u7D22\u5185\u5BB9\u2026",search_placeholder_ask:"\u63D0\u95EE\u2026",search_blankslate:"\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",search_blankslate_ai:"\u6211\u4EEC\u5C06\u7528\u8BAD\u7EC3\u8FC7\u7684 AI \u6A21\u578B\u6765\u56DE\u7B54\u4F60\u7684\u95EE\u9898\u3002",search_blankslate_recent_searches:"\u6700\u8FD1\u641C\u7D22",search_blankslate_recent_questions:"\u6700\u8FD1\u63D0\u95EE",search_blankslate_recommended_questions:"\u4F60\u53EF\u80FD\u611F\u5174\u8DA3\u7684\u95EE\u9898",search_blankslate_query:'\u6CA1\u6709\u627E\u5230\u4E0E "${1}" \u76F8\u5173\u7684\u5185\u5BB9',search_answer_sources:"\u56DE\u7B54\u57FA\u4E8E ${1} \u6765\u6E90",search_answer_copy:"\u590D\u5236\u56DE\u7B54",search_answer_feedback_upvote:"\u6807\u8BB0\u4E3A\u6709\u7528",search_answer_feedback_downvote:"\u6807\u8BB0\u4E3A\u65E0\u7528",search_answer_feedback_title:"\u611F\u8C22\u60A8\u7684\u53CD\u9988\uFF01",search_answer_feedback_details:"\u8FD9\u5C06\u5E2E\u52A9\u6211\u4EEC\u6539\u8FDB\u56DE\u7B54\u5F15\u64CE\u3002",search_answer_loading:"\u6B63\u5728\u5206\u6790\u5185\u5BB9\u4EE5\u56DE\u7B54\u60A8\u7684\u95EE\u9898\u2026",search_answer_loading_wait:"\u8FD9\u53EF\u80FD\u9700\u8981\u51E0\u79D2\u949F\u3002",search_answer_none_title:"\u6CA1\u6709\u627E\u5230\u4E0E\u60A8\u7684\u95EE\u9898\u76F8\u5173\u7684\u56DE\u7B54\u3002",search_answer_none_details:"\u8FD9\u53EF\u80FD\u662F\u7531\u4E8E\u6CA1\u6709\u4E0E\u60A8\u7684\u95EE\u9898\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u6216\u8005\u56DE\u7B54\u4E0D\u80FD\u88AB\u5145\u5206\u4FE1\u4EFB\u3002",search_answer_error_title:"\u610F\u5916\u9519\u8BEF",search_answer_error_details:"\u53D1\u751F\u4E86\u4E00\u4E2A\u9519\u8BEF\u3002\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002",search_goto_section:"\u8DF3\u8F6C\u5230\u7AE0\u8282",search_goto_page:"\u8DF3\u8F6C\u5230\u9875\u9762",page_not_found:"\u672A\u627E\u5230\u7F51\u9875",back_to_home:"\u8FD4\u56DE\u9996\u9875",page_not_found_long:"\u62B1\u6B49\uFF0C\u60A8\u8981\u627E\u7684\u9875\u9762\u65E0\u6CD5\u627E\u5230\u3002",outline:"\u5927\u7EB2",last_modified:"\u6700\u8FD1\u66F4\u65B0 ${1}",was_it_helpful:"\u6B64\u9875\u9762\u662F\u5426\u6709\u5E2E\u52A9\uFF1F",poor_content:"\u5185\u5BB9\u5DEE",ok_content:"\u597D\u7684\u5185\u5BB9",excellent_content:"\u4F18\u79C0\u7684\u5185\u5BB9",powered_by:"\u7531 ${1} \u63D0\u4F9B\u652F\u6301",previous:"\u4EE5\u524D",next:"\u4E0B\u4E00\u4E2A",export_pdf:"\u5BFC\u51FA\u4E3APDF",copy_link:"\u590D\u5236\u94FE\u63A5",switch_to_dark_theme:"Switch to dark theme",switch_to_light_theme:"Switch to light theme",edit_on_github:"\u5728 ${1} \u4E0A\u7F16\u8F91",page_articles_section:"\u4EE5\u4E0B\u662F\u672C\u8282\u4E2D\u7684\u6587\u7AE0\uFF1A",main:"\u4E3B\u8981",cookie_policy:"cookie\u653F\u7B56",cookie_prompt:"\u672C\u7F51\u7AD9\u4F7F\u7528cookies\u6765\u63D0\u4F9B\u670D\u52A1\u548C\u5206\u6790\u6D41\u91CF\u3002\u901A\u8FC7\u6D4F\u89C8\u672C\u7F51\u7AD9\uFF0C\u60A8\u63A5\u53D7\u6211\u4EEC\u7684${1}\u3002",cookies:"Cookies",reject_all:"\u62D2\u7EDD\u6240\u6709",theme_change_appearance:"\u6539\u53D8\u5916\u89C2",connection_lost:"\u8FDE\u63A5\u4E22\u5931",network_troubleshooting:"\u7F51\u7EDC\u6545\u969C\u6392\u9664",device_offline:"\u60A8\u7684\u8BBE\u5907\u53EF\u80FD\u5904\u4E8E\u79BB\u7EBF\u72B6\u6001\uFF0C\u6216\u8005 GitBook \u53EF\u80FD\u9047\u5230\u95EE\u9898\u3002",missing_content_title:"\u54CE\u5440\uFF0C\u6709\u4E9B\u4E1C\u897F\u4E22\u5931\u4E86\u3002",missing_content_description:"\u6211\u4EEC\u65E0\u6CD5\u627E\u5230\u539F\u59CB\u6765\u6E90\u4EE5\u663E\u793A\u6B64\u5185\u5BB9\u3002",table_of_contents:"\u76EE\u5F55",page_outline:"\u9875\u9762\u5927\u7EB2"},ja:{something_wrong:"\u4F55\u304B\u554F\u984C\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",reload:"\u30EA\u30ED\u30FC\u30C9",let_us_know:"\u4F55\u304C\u8D77\u3053\u3063\u305F\u306E\u304B\u3092\u6559\u3048\u3066\u304F\u3060\u3055\u3044",we_have_been_notified:"\u79C1\u305F\u3061\u306E\u30C1\u30FC\u30E0\u306F\u901A\u77E5\u3092\u53D7\u3051\u307E\u3057\u305F\u3002\u3054\u5354\u529B\u3044\u305F\u3060\u3051\u308B\u5834\u5408\u306F\u3001\u4F55\u304C\u8D77\u3053\u3063\u305F\u304B\u3092\u4EE5\u4E0B\u306B\u3054\u8A18\u5165\u304F\u3060\u3055\u3044\u3002",search:"\u691C\u7D22",search_ask:"\u8CEA\u554F\u3059\u308B",search_placeholder:"\u691C\u7D22\u2026",search_placeholder_ask:"\u8CEA\u554F\u2026",search_blankslate:"\u30AD\u30FC\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u691C\u7D22",search_blankslate_ai:"\u8CEA\u554F\u306B\u5BFE\u3059\u308B\u56DE\u7B54\u306F\u3001AI\u30E2\u30C7\u30EB\u306B\u3088\u3063\u3066\u884C\u308F\u308C\u307E\u3059\u3002",search_blankslate_recent_searches:"\u6700\u8FD1\u306E\u691C\u7D22",search_blankslate_recent_questions:"\u6700\u8FD1\u306E\u8CEA\u554F",search_blankslate_recommended_questions:"\u304A\u3059\u3059\u3081\u306E\u8CEA\u554F",search_blankslate_query:'"${1}" \u306B\u95A2\u3059\u308B\u30B3\u30F3\u30C6\u30F3\u30C4\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F',search_answer_sources:"\u56DE\u7B54\u306F ${1} \u304B\u3089\u306E\u60C5\u5831\u3092\u5143\u306B\u3057\u3066\u3044\u307E\u3059",search_answer_copy:"\u56DE\u7B54\u3092\u30B3\u30D4\u30FC",search_answer_feedback_upvote:"\u5F79\u306B\u7ACB\u3063\u305F\u3068\u30DE\u30FC\u30AF",search_answer_feedback_downvote:"\u5F79\u306B\u7ACB\u305F\u306A\u304B\u3063\u305F\u3068\u30DE\u30FC\u30AF",search_answer_feedback_title:"\u30D5\u30A3\u30FC\u30C9\u30D0\u30C3\u30AF\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\uFF01",search_answer_feedback_details:"\u3053\u308C\u306B\u3088\u308A\u3001\u56DE\u7B54\u30A8\u30F3\u30B8\u30F3\u3092\u6539\u5584\u3067\u304D\u307E\u3059\u3002",search_answer_loading:"\u8CEA\u554F\u306B\u56DE\u7B54\u3059\u308B\u305F\u3081\u306B\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u5206\u6790\u3057\u3066\u3044\u307E\u3059\u2026",search_answer_loading_wait:"\u3053\u308C\u306B\u306F\u6570\u79D2\u304B\u304B\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002",search_answer_none_title:"\u8CEA\u554F\u306B\u5BFE\u3059\u308B\u56DE\u7B54\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",search_answer_none_details:"\u3053\u308C\u306F\u3001\u8CEA\u554F\u306B\u95A2\u9023\u3059\u308B\u30B3\u30F3\u30C6\u30F3\u30C4\u304C\u306A\u3044\u304B\u3001\u56DE\u7B54\u304C\u4FE1\u983C\u3067\u304D\u306A\u3044\u305F\u3081\u304B\u3082\u3057\u308C\u307E\u305B\u3093\u3002",search_answer_error_title:"\u30A8\u30E9\u30FC",search_answer_error_details:"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u5F8C\u3067\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002",search_goto_section:"Go to section",search_goto_page:"Go to page",page_not_found:"\u30DA\u30FC\u30B8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093",back_to_home:"\u30D5\u30ED\u30F3\u30C8\u30DA\u30FC\u30B8\u306B\u623B\u308B",page_not_found_long:"\u7533\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u304C\u3001\u304A\u63A2\u3057\u306E\u30DA\u30FC\u30B8\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",outline:"\u6982\u8981",last_modified:"\u6700\u7D42\u66F4\u65B0 ${1}",was_it_helpful:"\u3053\u306E\u30DA\u30FC\u30B8\u306F\u5F79\u306B\u7ACB\u3061\u307E\u3057\u305F\u304B\uFF1F",poor_content:"\u60AA\u3044\u5185\u5BB9",ok_content:"OK\u30B3\u30F3\u30C6\u30F3\u30C4",excellent_content:"\u512A\u308C\u305F\u5185\u5BB9",powered_by:"${1} \u4E0A\u3067\u52D5\u4F5C\u3057\u3066\u3044\u307E\u3059",previous:"\u524D",next:"\u6B21",export_pdf:"PDF\u306B\u51FA\u529B",copy_link:"\u30EA\u30F3\u30AF\u306E\u30B3\u30D4\u30FC",switch_to_dark_theme:"Switch to dark theme",switch_to_light_theme:"Switch to light theme",edit_on_github:"${1}\u3067\u7DE8\u96C6",page_articles_section:"\u3053\u306E\u30BB\u30AF\u30B7\u30E7\u30F3\u306E\u8A18\u4E8B\u306F\u6B21\u306E\u3068\u304A\u308A\u3067\u3059:",main:"\u4E00\u6B21",cookie_policy:"\u30AF\u30C3\u30AD\u30FC\u30DD\u30EA\u30B7\u30FC",cookie_prompt:"\u3053\u306E\u30B5\u30A4\u30C8\u3067\u306F\u3001\u30B5\u30FC\u30D3\u30B9\u306E\u63D0\u4F9B\u3084\u30C8\u30E9\u30D5\u30A3\u30C3\u30AF\u306E\u5206\u6790\u306E\u305F\u3081\u306B\u30AF\u30C3\u30AD\u30FC\u3092\u4F7F\u7528\u3057\u3066\u3044\u307E\u3059\u3002\u3053\u306E\u30B5\u30A4\u30C8\u3092\u95B2\u89A7\u3059\u308B\u3053\u3068\u3067\u3001\u304A\u5BA2\u69D8\u306F\u5F53\u793E\u306E${1}\u306B\u540C\u610F\u3057\u305F\u3053\u3068\u306B\u306A\u308A\u307E\u3059\u3002",cookies:"\u30AF\u30C3\u30AD\u30FC",reject_all:"\u5168\u3066\u3092\u62D2\u5426\u3059\u308B",theme_change_appearance:"\u5916\u89B3\u3092\u5909\u66F4\u3059\u308B",connection_lost:"\u63A5\u7D9A\u5207\u65AD",network_troubleshooting:"\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306E\u30C8\u30E9\u30D6\u30EB\u30B7\u30E5\u30FC\u30C6\u30A3\u30F3\u30B0",device_offline:"\u30C7\u30D0\u30A4\u30B9\u304C\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u3042\u308B\u304B\u3001GitBook\u3067\u554F\u984C\u304C\u767A\u751F\u3057\u3066\u3044\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u307E\u3059\u3002",missing_content_title:"\u304A\u3063\u3068\u3001\u4F55\u304B\u304C\u5931\u308F\u308C\u3066\u3044\u307E\u3059\u3002",missing_content_description:"\u3053\u306E\u30B3\u30F3\u30C6\u30F3\u30C4\u3092\u8868\u793A\u3059\u308B\u305F\u3081\u306E\u5143\u306E\u30BD\u30FC\u30B9\u3092\u898B\u3064\u3051\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002",table_of_contents:"\u76EE\u6B21",page_outline:"\u30DA\u30FC\u30B8\u6982\u8981"}};function ue(){let{locale:t}=_i.useContext(Qo),o=R9[t];return _i.useCallback((e,...r)=>{let n=o[e]||R9.en[e],i=[],a=n;return r.forEach((c,l)=>{if(typeof c=="string")a=a.replace(`\${${l+1}}`,c);else{let[u,d]=a.split(`\${${l+1}}`);i.push(_i.createElement(_i.Fragment,{key:`string-${l}`},u)),i.push(_i.createElement(_i.Fragment,{key:`arg-${l}`},c)),a=d}}),i.length?_i.createElement(_i.Fragment,null,i,a):a},[t])}function zm(){let t=ue();return E9.createElement(vi,{kind:"default",title:t("missing_content_title"),details:t("missing_content_description")})}s();var jv=x(O());var wJ=H.createInteractiveComponent(yt),T9=jv.forwardRef(function(o,e){let{active:r=!1,children:n,onPress:i,style:a,...c}=o,[,l]=I(CJ);return jv.createElement(wJ,{ref:e,...c,style:[a,r&&l.active],activeStyle:l.active,onMouseDown:u=>{u.preventDefault(),i()}},n)}),CJ=z.create({active:t=>({borderRadius:t.radiuses.medium,paddingHorizontal:g.xsmall,backgroundColor:"rgba(35, 131, 226, 0.14)",marginHorizontal:-g.xsmall,zIndex:-1,cursor:"pointer"})});function M9(t){let{editor:o,node:e,children:r,attributes:n,isFocused:i}=t,[,a]=I(xJ),{readOnly:c}=o,l=e.getFragmentByKey(va),{selection:u}=o.value,d=Vt(u)&&!!u.hasAnchorIn(l),p=i&&d,[m,f]=Rn.useState(!1),h=Vt(u)&&(m||p),y=Rn.useCallback(()=>{c||o.change(_=>{let P=e.getFragmentByKey(va);P&&(Vt(_.value.selection)?_.collapseToEndOf(P).focus():_.selectText(ye.fromBlockRange(_.value.selection,_.value.document)).collapseToEndOf(P).focus())})},[c,o,e.key]),w=Rn.useCallback(()=>{c||o.change(_=>{let P=_.value.document.getDescendant(e.key);if(P&&P.isInline()){let R=P.getFragmentByKey(va);R&&Vt(_.value.selection)&&_.value.selection.hasEdgeIn(R)&&_.collapseToEndOf(P)}})},[c,o,e.key]);Rn.useEffect(()=>{c||(h?y():w())},[h,c,y,w]),Rn.useEffect(()=>{c||!d&&m&&f(!1)},[d,m,c]);let C=()=>{y(),f(!0)},k=Rn.useCallback(()=>{f(!1)},[]);return Rn.createElement(xg.Provider,{value:k},Rn.createElement(Ca,{closeOnClick:!1,closeOnEsc:!0,closeOnScroll:!1,closeOnClickInNestedPortals:!1,closeOnOutsideClick:!0,opened:h,anchor:({ref:_})=>Rn.createElement(T9,{ref:_,style:a.annotationText,...n,onPress:C,active:h},r)},Rn.createElement(Q6,{node:e,editor:o})))}var xJ=z.create({annotationText:t=>({textDecorationLine:"underline",textDecorationStyle:"dotted",textDecorationThickness:2,textDecorationColor:t.colors.text.muted})});s();var Ck=x(pi());var L9={onKeyDown:(t,o,e)=>{if(!To(o.value.selection)&&((0,Ck.default)("mod+enter",t)||(0,Ck.default)("esc",t))){let{value:r}=o,{startBlock:n,document:i}=r;if(!n)return;let a=i.getFragmentParent(n.key);if((a==null?void 0:a.object)!=="fragment"||a.type!==va)return;let c=i.getParent(a.key);return c?(o.collapseToEndOf(c),o):void 0}}};s();var _o=x(O());G();function D9(t){let{editor:o,node:e,children:r}=t,{readOnly:n}=o,i=e.data.toFrozenObject(),a=et(),c=Tg(i.syntax||"text"),l=typeof i.title=="string",u=_o.useRef(null),d=pe(u),p=_o.useRef(null),m=pe(p),f=(w,C)=>{o.change(k=>{k.insertDataByKey(e.key,["title"],w)})},h=()=>to.getCodeText(e),y=OJ(e.key);return _o.createElement(ve,{...t,palette:y},_o.createElement(Q_,{overflow:i.overflow||uI,lineNumbers:!!i.lineNumbers,header:l?_o.createElement(kJ,{title:i.title,isEditable:!n,onTitleChange:f}):null,showToolbar:d.opened||m.opened,translate:!1,toolbar:a?null:_o.createElement(_o.Fragment,null,n?null:_o.createElement(W,{ref:u,active:d.opened,kind:"secondary",size:"small",style:g.Margin.xsmallRight,rightIcon:v.ChevronDown,onPress:()=>{d.open(N9(o,e.key))}},c.title),_o.createElement(Og,{kind:"secondary",size:"small",content:h}),n?null:_o.createElement(W,{ref:p,icon:v.MoreVertical,kind:"secondary",size:"small",style:g.Margin.xsmallLeft,title:"More options",onPress:()=>{m.open(y)}}))},r))}function kJ(t){let{title:o,isEditable:e,onTitleChange:r}=t,[n,i]=_o.useState(o),[a,c]=I(B);_o.useEffect(()=>{i(o)},[o]);let l=d=>{r(n||"",d)},u=[c.Body,c.textMuted];return _o.createElement(Ig,{style:[b.directionRow,b.alignCenter,g.Padding.mediumLeft]},e?_o.createElement(ai,{value:n,placeholder:"Enter a filename",placeholderTextColor:a.colors.text.muted,onChangeText:d=>i(d),style:u,onBlur:l}):_o.createElement(F,{style:u},o))}function OJ(t){let o=Ys(),e=ki(o,t),r=n=>{let i=o.value.document.assertBlock(n),a=i.data.toFrozenObject(),c=typeof a.title=="string";return[{key:"code",commands:[{key:"syntax",title:"Set syntax\u2026",icon:v.Code,descendant:()=>N9(o,i.key)}]},{key:"code-options",commands:[{key:"with-line-numbers",icon:v.CodeLineNumbers,type:2,enabled:!!a.lineNumbers,title:"With line numbers",trigger:()=>(o.change(l=>{a.lineNumbers?l.removeDataPathByKey(i.key,["lineNumbers"]):l.setDataByKey(i.key,["lineNumbers"],!0)}),it(o,i.key,r(i.key)))},{key:"with-title",icon:v.CodeCaption,type:2,enabled:c,title:"With caption",trigger:()=>(o.change(l=>{c?l.removeDataPathByKey(i.key,["title"]):l.insertDataByKey(i.key,["title"],"")}),it(o,i.key,r(i.key)))},{key:"with-wrap",icon:v.CodeWrap,type:2,enabled:a.overflow==="wrap",title:"Wrap code",trigger:()=>(o.change(l=>{a.overflow==="wrap"?l.removeDataPathByKey(i.key,["overflow"]):l.setDataByKey(i.key,["overflow"],"wrap")}),it(o,i.key,r(i.key)))}]},...e?[e]:[]]};return it(o,t,r(t))}function N9(t,o){let e=t.value.document.assertBlock(o),r=e.data.get("syntax");return ce({search:"Select a syntax\u2026",groups:[{key:"syntaxes",commands:eP().map(n=>({type:1,key:n.key,selected:r===n.key,title:n.title,trigger:()=>{t.change(i=>{i.setDataByKey(e.key,["syntax"],n.key)})}}))}]})}s();var A9=x(O());function B9(t){let{node:o,parent:e,children:r,editor:n}=t,{diff:i,highlighted:a}=o.data.toFrozenObject(),c=()=>{n.change(l=>{l.setDataByKey(o.key,["highlighted"],!a)})};return A9.createElement($_,{number:e.getChildIndex(o.key)+1,highlighting:i==="added"||i==="deleted"||i==="modified"?i:a?"highlighted":void 0,onPressGutter:n.readOnly?void 0:c},r)}s();var Nl=x(pi());var IJ=(0,Nl.isKeyHotkey)("mod+a"),_J=(0,Nl.isKeyHotkey)("shift+tab"),PJ=(0,Nl.isKeyHotkey)("tab"),RJ=(0,Nl.isKeyHotkey)("mod+enter"),EJ=(0,Nl.isKeyHotkey)("enter"),TJ=(0,Nl.isKeyHotkey)("backspace"),q9={onKeyDown:MJ,onPaste:LJ};function MJ(t,o,e){let{value:r}=o;if(To(r.selection))return;let n=to.getCurrentCode(r);if(n){if(IJ(t))return DJ(n,t,o,e);if(_J(t))return AJ(n,t,o,e);if(PJ(t))return NJ(n,t,o,e);if(RJ(t))return qJ(n,t,o,e);if(EJ(t))return BJ(n,t,o,e);if(TJ(t))return WJ(n,t,o,e)}}function LJ(t,o,e){let{value:r}=o;if(To(r.selection))return;let n=to.getCurrentCode(o.value),{endBlock:i}=r;if(!n||!i||!n.hasDescendant(i.key))return;let a=Cu(t),c;a.type==="fragment"&&a.fragment?c=a.fragment.getTexts().map(d=>d.text).join(`
`):c=a.text||"";let l=to.createCodeBlock(c).blockNodes,u=zs.create({nodes:l});return o.insertDocument(u)}function DJ(t,o,e,r){o.preventDefault();let n=t.getFirstText(),i=t.getLastText();if(!(!n||!i))return e.collapseToStartOf(n).extendToEndOf(i)}function NJ(t,o,e,r){let{value:n}=e;o.preventDefault(),o.stopPropagation();let{isCollapsed:i}=n,a=to.getIndent(to.getCodeText(t));return i?e.insertText(a).focus():to.indentLines(e,a)}function AJ(t,o,e,r){o.preventDefault(),o.stopPropagation();let n=to.getIndent(to.getCodeText(t));return to.dedentLines(e,n)}function BJ(t,o,e,r){let{value:n}=e;if(!n.isCollapsed)return;o.preventDefault();let{startBlock:i}=n;if(!i)return;let a=i.text,c=to.getIndent(a,"");return e.splitBlock().insertText(c).focus()}function qJ(t,o,e,r){let{value:n}=e;if(n.isCollapsed)return o.preventDefault(),Ct(e,t),e}function WJ(t,o,e,r){let{value:n}=e;if(n.isExpanded)return;let{startOffset:i,startText:a}=n,c=n.startBlock;if(!c)return;let l=to.getIndent(to.getCodeText(t));if(c.text.slice(0,i).endsWith(l))return o.preventDefault(),e.deleteBackward(l.length).focus();let d=i===0&&t.getFirstText()===a,p=t.nodes.size===1&&c.text.length===0;if(d&&p)return o.preventDefault(),e.setBlocks(ge,{normalize:!1}).unwrapNodeByKey(c.key)}s();var qa=x(O());G();function Yv(t){let{url:o,readOnly:e}=t,[r]=Oy(o),{data:n}=r,i=W6(e?null:o),a=i?qa.createElement(FJ,{...i}):null;if(!n)return qa.createElement(Pn,null);if(n.type==="rich"&&n.html){let c=qa.createElement("div",{dangerouslySetInnerHTML:{__html:n.html}});return a?qa.createElement(S,null,c,qa.createElement(S,{style:zJ.overlayInstallButton},a)):c}return qa.createElement(Ma,{href:o,title:n.title,details:n.site,icon:n.icon?wt(wa,{source:{uri:n.icon}}):void 0,onPress:c=>{c.preventDefault(),ms(o)},buttons:a?[a]:[]})}function FJ(t){let{integration:o}=t,{navigate:e}=we(),{logAnalyticsEvent:r}=qa.useContext(ze),n=i=>{i.stopPropagation(),i.preventDefault(),r({type:"edit_open_integration",integration:o.name,reason:"embed"}),e({overlay:{type:"integrations",integration:o.name}})};return qa.createElement(W,{kind:"secondary",size:"medium",icon:wt(Pu,{integration:o}),title:`Install the ${o.title} integration to supercharge this block`,tooltipPreferredPlacement:"left",onPress:n},"Install ",o.title)}var zJ=Q.create({overlayInstallButton:{position:"absolute",bottom:g.medium,right:g.medium}});s();var zo=x(O());s();var Tc=x(O());G();function Mc(t){let{node:o,editor:e,isSelected:r}=t,{readOnly:n}=e,[,i]=I(B),a=H.useInteractiveState(),c=o.fragments.get(dI),l=c==null?void 0:c.isEmpty;return c?(r||a.hovered)&&!n||!l?Tc.createElement(S,{style:[W9.editableCaption,g.Padding.smallTop],...a.events},l?Tc.createElement(S,{style:[Q.absoluteFill,b.alignCenter,b.justifyContentCenter,g.Padding.smallTop]},Tc.createElement(F,{style:[i.Italic,i.Body,i.textMuted]},"Write a caption")):null,Tc.createElement(kn.Provider,{value:"caption"},Tc.createElement(vc.Provider,{value:"center"},Tc.createElement(Qr,{fragment:"caption"})))):n?null:Tc.createElement(S,{style:[g.Padding.smallTop,W9.blankPlaceHolder],...a.events}):null}var W9=Q.create({editableCaption:{position:"relative",textAlign:"center"},blankPlaceHolder:{height:g.small+vg.xsmall}});s();var Jo=x(O());s();var Lc=x(O());function $v(t){let{children:o}=t,[e,r]=Lc.useState(!1);return Lc.useEffect(()=>{r(!0)},[]),e?Lc.createElement(Lc.Fragment,null,o):null}s();var Zv=x(O());function F9(t){let{children:o,statusCode:e}=t,r=RP();return r.staticContext&&(r.staticContext.statusCode=e),Zv.createElement(Zv.Fragment,null,o)}var Qv=Jo.forwardRef(function(o,e){let{data:r,readOnly:n,onDataChange:i}=o,{integrationBlocksRemote:a}=Jo.useContext(ze),c=Jo.useRef(null),{color:l}=mi(),u={integrationId:r.integration,componentId:r.block,props:r.props,action:r.action,context:{type:"document",editable:!n,theme:l}},[d,p]=VP(async m=>{var f;return(f=c.current)==null?void 0:f.dispatchAction(m)});return Jo.useImperativeHandle(e,()=>({getPaletteGroups:()=>{let{result:m}=a.readCacheState(u);return m&&m.element.type==="block"?d(m.element):[]}})),Jo.createElement(Jo.Fragment,null,p,Jo.createElement(Jo.Suspense,{fallback:Jo.createElement(Pn,null)},Jo.createElement($v,null,Jo.createElement(GP,{ref:c,mode:"block",remote:a,input:u,security:{firstPartyDomains:[fa.integrations.domain]},onPropsChange:m=>{n||i({...r,action:void 0,props:m})}}))))});function z9(t){let{node:o,editor:e}=t,{readOnly:r}=e,n=o.data.toFrozenObject(),{getIntegrationsBlocks:i}=zo.useContext(ze),a=i(),c=zo.useMemo(()=>{let d=yu(a,n.url);return d?uu.createIntegrationBlockDataForLinkUnfurl(d.integrationKey,d.block.id,n.url):null},[a,n.url]),l=ki(e,o.key),u=()=>it(e,o.key,l?[l]:[]);return c?zo.createElement(ve,{palette:u,...t},zo.createElement(At,{...t},zo.createElement(zo.Suspense,{fallback:zo.createElement(Pn,null)},zo.createElement(Qv,{data:c,readOnly:r,onDataChange:d=>{e.change(p=>{p.setNodeByKey(o.key,{type:ci,data:d})})}})))):zo.createElement(ve,{palette:u,...t},zo.createElement(At,{...t},zo.createElement(zo.Suspense,{fallback:zo.createElement(Pn,null)},zo.createElement(Yv,{url:n.url,readOnly:r}))),zo.createElement(Mc,{...t}))}s();var Jt=x(O());s();var Cd=x(O());function V9(t){let{integrationName:o}=t,[{result:e}]=Xg([ug(o)]);return e?Cd.createElement(VJ,{integration:e}):Cd.createElement(vi,{kind:"default",title:`Integration ${o} no longer exist or has been unpublished.`})}function VJ(t){let{integration:o}=t,e=Do(Pu,{integration:o},[o]),{navigate:r}=we(),{logAnalyticsEvent:n}=Cd.useContext(ze);return Cd.createElement(vi,{kind:"default",icon:e,title:`Integration ${o.title} is not configured. Install it to get started.`,actions:[{label:"Install",onPress:()=>{n({type:"edit_open_integration",integration:o.name,reason:"empty"}),r({overlay:{type:"integrations",integration:o.name}})}}]})}function G9(t){let{node:o,editor:e}=t,{readOnly:r}=e,n=Jt.useRef(null),{getIntegrationsBlocks:i}=Jt.useContext(ze),{navigate:a}=we(),c=i(),l=o.data.toFrozenObject(),u=ki(e,o.key),d=()=>{var m;return it(e,o.key,[...((m=n==null?void 0:n.current)==null?void 0:m.getPaletteGroups())||[],{key:"integration",commands:()=>{let[{result:f}]=Iu([ug(l.integration)]);return f?[{key:"integration.settings",icon:wt(Pu,{integration:f}),title:`Configure ${f.title}`,trigger:()=>{a({overlay:{type:"integrations",integration:f.name}})}}]:[]}},...u?[u]:[]])};return Jt.useMemo(()=>a_(c,l.integration,l.block),[c,l.integration,l.block])?Jt.createElement(ve,{...t,palette:d},Jt.createElement(At,{...t},Jt.createElement(Jt.Suspense,{fallback:Jt.createElement(Pn,null)},Jt.createElement(Qv,{ref:n,data:l,readOnly:r,onDataChange:m=>{e.change(f=>{f.setNodeByKey(o.key,{data:m})})}})))):Jt.createElement(ve,{...t,palette:d},Jt.createElement(At,{...t},Jt.createElement(Jt.Suspense,{fallback:Jt.createElement(Pn,null)},l.url?Jt.createElement(Yv,{url:l.url,readOnly:r}):r?Jt.createElement(zm,null):Jt.createElement(V9,{integrationName:l.integration}))))}s();var Jv=x(pi()),H9=x(O());function K9(t){return H9.useMemo(()=>({onKeyDown:(o,e)=>{let{value:r}=e;if(!r.isCollapsed||!(0,Jv.default)("enter",o))return;let{startBlock:n,selection:i}=r;if(!ye.isTextRange(i)||!n||n.type!==ge||!i.isAtEndOf(n))return;let{text:a}=n;if(!si(a))return;let c=r.document.getParent(n.key);if(!c||!Me(c,yr))return;let l=qf(a,{sortQueryParameters:!1}),u=GJ(l,t);e.replaceNodeByKey(n.key,u).collapseToStartOf(u)}}),[t])}var X9={onKeyDown:(t,o,e)=>{if((0,Jv.default)("enter",t)||(0,Jv.default)("shift+enter",t)){let{value:r}=o,{startBlock:n,document:i}=r;if(!n||n.type!==ge)return;let a=i.getFragmentParent(n.key);if((a==null?void 0:a.object)!=="fragment")return;let c=i.getParent(a.key);if(!c||!c.isBlock()||![yr,Bi,Ja,Qa].includes(c.type))return;let l=c.type===Bi?i.getParent(c.key):c;return Ct(o,l),o}}};function GJ(t,o){let e=o(),r=yu(e,t);return r?uu.createIntegrationBlockForLinkUnfurl(r.integrationKey,r.block.id,t):Zf.createEmbedBlock(t)}s();var xk=x(O());s();var xd=x(O());function U9(t){let{mark:o,node:e,offset:r,attributes:n,children:i,editor:a}=t,{value:c}=o.data.toObject(),l=xd.useRef(null),u=bo(c),d=pe(l);return xd.useEffect(()=>{if(!d.opened&&a.value.isFocused){let p=m=>{a.change(f=>{let h=ye.create({anchorKey:e.key,anchorOffset:r,focusKey:e.key,focusOffset:r+u.current.length+1});f.insertInlineAtRange(h,Qf.createEmoji(m)).focus()})};d.open(Zs(Ju(p,{withSearch:!1}),c))}else d.typeQuery(c);return()=>{d.close()}},[d,c]),xd.createElement(yt,{ref:l,...n},i)}s();var jm=x(O());function j9(t){let{editor:o,node:e,parent:r}=t,n=jm.useRef(null),i=pe(n),a=qv(r.object==="block"?r:null),c=sy(()=>{i.open(Ju(l=>{o.change(u=>{u.setNodeByKey(e.key,{data:{code:l}})})}))});return jm.createElement(Sd,{ref:n,...t,onPress:o.readOnly?void 0:c},jm.createElement(Ao,{code:e.data.get("code"),size:a}))}var Y9="emojiContext",HJ=/(^|\s):(\w*)$/,$9={renderMark:XJ,renderNode:UJ,decorateValue:KJ};function KJ(t){let{selection:o}=t,e=jJ(t),r=[];return ye.isTextRange(o)&&e!==null&&r.push(ye.create({anchorKey:o.startKey,anchorOffset:o.startOffset-e.length-1,focusKey:o.startKey,focusOffset:o.startOffset,marks:[{type:Y9,data:{value:e}}],isAtomic:!0})),r}function XJ(t){let{mark:o}=t;switch(o.type){case Y9:return xk.createElement(U9,{...t})}}function UJ(t){let{node:o}=t;switch(o.type){case sp:return xk.createElement(j9,{...t})}}function jJ(t){if(!t.isCollapsed)return null;let{document:o,startText:e,startBlock:r,selection:n}=t;if(!ye.isTextRange(n)||!e||!r||!is({document:o,block:r},sp))return null;let{startOffset:i}=n,a=e.text.slice(0,i),c=HJ.exec(a);return c==null?null:c[2]}s();var Pt=x(O());G();function YJ(t,o,e){for(let[r,n]of t.entries())if(n===e){let i=o.getNode(r);return i?{key:r,id:n,node:i}:null}}function Z9(t){let o=H.useInteractiveState(),{node:e,isFocused:r,editor:n}=t,[,i]=I($J),[,a]=I(B),{sections:c,selected:l}=Pt.useContext(wi),u=et(),d=Pt.useRef(""),[p,m]=Pt.useState("unset");Pt.useEffect(()=>{d.current="",m("unset")},[l]);let f=l&&c.get(e.key)===l,h=Pt.useMemo(()=>!f&&!!YJ(c,e,l),[f,c,e,l]);f&&(d.current=l);let{selection:y}=n.value,w=ye.isTextRange(y)&&y.hasEdgeIn(as.getBodyFragment(e)),C=r&&ye.isTextRange(y)&&!y.hasFocusInFragmentOf(e),k=u||(p==="unset"?f||h||l===d.current:p==="expanded"),_=k?v.ChevronDown:v.ChevronRight,P=()=>{k&&w&&n.change(Be=>{Be.collapseToStartOf(as.getTitleFragment(e))}),m(k?"collapsed":"expanded")},{anchoredBlockId:R,onAnchoredBlockPress:T,anchorElement:E,anchoredBlockInteractiveState:A}=Xv(e,{accessibilityLabel:"Direct link to expandable block",onBlockPress:P}),V=Pt.useId(),q={id:V,controls:{accessibilityRole:"button",accessibilityExpanded:k,accessibilityControls:`expandable-body-${V}`,accessibilityLabelledBy:`expandable-title-${V}`},chevron:{accessibilityRole:"presentation"},body:{accessibilityRole:"region",accessibilityLabelledBy:`expandable-title-${V}`}},Y=e.fragments.get(ts),te=Y==null?void 0:Y.nodes.first(),X=Oi(te,Y||e),re=M.ICON_M,_e=X.paddingTop+(nn(te)-re)/2;return Pt.createElement(ve,{...t},Pt.createElement(At,{...t,isFocused:C},Pt.createElement(S,{...o.events,style:[i.expandable,o.active&&i.expandableActive],nativeID:R},Pt.createElement(S,{style:[b.directionRow,g.Padding.mediumRight],...A.events},Pt.createElement(H.TouchableOpacity,{onPress:T,style:[g.Padding.mediumHorizontal,b.directionRow,b.justifyContentCenter,{paddingTop:_e}],...q.controls},Pt.createElement(_,{size:re,style:[o.active?a.primary:a.textMuted],...q.chevron})),Pt.createElement(S,{style:[b.flex1,{paddingTop:X.paddingTop,paddingBottom:k?g.small:X.paddingBottom}],nativeID:`expandable-title-${V}`},Pt.createElement(kn.Provider,{value:"expandableTitle"},Pt.createElement(Qr,{fragment:ts}))),Pt.createElement(S,{style:{paddingTop:_e}},E)),Pt.createElement(S,{style:[i.expandableBody,!k&&i.hidden],nativeID:`expandable-body-${V}`,...q.body},Pt.createElement(Qr,{fragment:ol})))))}var $J=z.create({hidden:{visibility:"hidden",height:0,padding:0,overflow:"hidden"},expandable:t=>({breakInside:"avoid",borderWidth:1,borderColor:t.colors.border.main,borderRadius:t.radiuses.large}),expandableActive:t=>({borderColor:t.colors.primary.main}),expandableBody:{padding:g.medium,paddingLeft:g.medium+M.ICON_M+g.medium,paddingTop:0}});s();var kk=x(pi());var Q9={onKeyDown:ZJ};function ZJ(t,o){if(!To(o.value.selection)){if((0,kk.default)("mod+enter",t))return JJ(t,o);if((0,kk.default)("enter",t))return QJ(t,o)}}function QJ(t,o){var r;let e=as.getCurrentExpandable(o.value);if(e&&((r=e.fragment)==null?void 0:r.type)===ts)return o.collapseToStartOf(e.expandable.getFragmentByKey(ol)).focus()}function JJ(t,o){let{value:e}=o,r=as.getCurrentExpandable(o.value);if(!(!r||!e.isCollapsed))return t.preventDefault(),Ct(o,r.expandable),o}s();var e8=x(pi()),t8=x(O());s();var eb=x(O());function J9(t){let{mark:o,node:e,offset:r,attributes:n,children:i,editor:a}=t,{value:c}=o.data.toObject(),l=eb.useRef(null),u=Ot(),d=ye.create({anchorKey:e.key,anchorOffset:r,focusKey:e.key,focusOffset:r+1}),p=Ev({anchorRef:l,range:d,editor:a}),m=pe(l,{onClose:()=>{m.close(),!u.isOpen()&&a.change(f=>f.focus())}});return ay(()=>{!m.opened&&a.value.isFocused&&m.open(ce({groups:[{key:"inline-controls",commands:p.filter(f=>c.includes(f.key))}]}))},150),eb.createElement(yt,{ref:l,...n},i)}var eee=[au,sp,vr,Gf],o8="inlineControlsContext",tee=/(^|\s)\/$/,r8={renderMark:ree,decorateValue:oee,onKeyDown:(t,o,e)=>{if(n8(e.value)&&(0,e8.default)("esc",t))return o}};function oee(t){let{selection:o}=t,e=n8(t),r=[];return Vt(o)&&e!==null&&r.push(ye.create({anchorKey:o.startKey,anchorOffset:o.startOffset-1,focusKey:o.startKey,focusOffset:o.startOffset,marks:[{type:o8,data:{value:e}}],isAtomic:!0})),r}function ree(t){let{mark:o}=t;switch(o.type){case o8:return t8.createElement(J9,{...t})}}function n8(t){if(!t.isCollapsed)return null;let{startText:o,startBlock:e,selection:r}=t;if(!Vt(r)||!o||!e)return null;let{startOffset:n}=r,i=o.text.slice(0,n);if(tee.exec(i)==null)return null;let c=eee.filter(l=>is({document:t.document,block:e},l));return c.length===0?null:c}s();var Wa=x(O());G();s();var lr=x(O());G();function i8(t){let{resolved:o,node:e,editor:r,children:n}=t,i=ut(),a=lr.useRef(null),c=lr.useRef(null),[l,u]=lr.useState(!1),[d,p]=lr.useState(!1),[,m]=I(a8),f=Se(),h=l||d,y=H.useInteractiveState({hoverDelay:500,onHoverIn:()=>{u(!0)},onHoverOut:()=>{u(!1)}}),w=H.useInteractiveState({onHoverIn:()=>{p(!0)},onHoverOut:()=>{p(!1)}});Ks({opened:h,closeOnClick:!1,closeOnScroll:!0,onClose:()=>{u(!1),p(!1)}},c);let C=pe(a),k=()=>{r.change(P=>{P.unwrapInlineByKey(e.key)})},_=()=>{C.open(Pr(P=>{r.change(R=>{R.setDataByKey(e.key,["ref"],P)})},{...i,document:r.value.document},f))};return lr.createElement(Ca,{ref:c,anchorRef:a,wrapper:hi,opened:h,updateOnScroll:!1,anchor:({ref:P})=>n(P,{...y.events,style:C.opened?m.linkBeingEdited:null})},lr.createElement(S,{style:[Q.absoluteFill],...w.events},lr.createElement(A_,{kind:"tooltip",preferredAlignment:"start"},lr.createElement(S,null,lr.createElement(nee,{resolved:o,onPressEdit:_,onPressRemove:k})))))}function nee(t){let{resolved:o,onPressEdit:e,onPressRemove:r}=t,n=o.icon||o.secondaryIcon,[,i]=I(a8);return lr.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.xsmall]},lr.createElement(S,{style:[i.buttonWrapper,b.directionRow]},lr.createElement(W,{title:"Edit link",icon:n,size:"small",kind:"default_inverted",onPress:e,style:b.flex1},o.title)),lr.createElement(S,null,lr.createElement(W,{title:"Remove link",kind:"default_inverted",icon:v.Trashcan,size:"small",onPress:r})))}var a8=z.create({buttonWrapper:{maxWidth:200},linkBeingEdited:t=>({backgroundColor:t.colors.background.standout})});var iee=H.createInteractiveComponent(yt);function c8(t){return Wa.createElement(Wa.Suspense,{fallback:Wa.createElement(l8,{...t,resolved:null})},Wa.createElement(aee,{...t}))}function aee(t){let{node:o}=t,{ref:e}=o.data.toFrozenObject(),r=tt(e);return Wa.createElement(l8,{...t,resolved:r})}var s8=H.createInteractiveHandle("link");function l8(t){let{node:o,attributes:e,children:r,resolved:n,editor:i}=t,{readOnly:a}=i,[,c]=I(B),l=(u,d={})=>Wa.createElement(H.TouchableOpacity,{ref:u,handle:s8,...n?Sc(n):{},...d,style:[see.wrapper,d.style]},Wa.createElement(iee.Child,{...e,descendantOf:s8,hoverStyle:[c.primaryStandout,c.Underline],inactiveStyle:c.primary},r));return a||!n?l():Wa.createElement(i8,{resolved:n,editor:i,node:o},l)}var see=Q.create({wrapper:{display:"inline"}});s();var u8=x(O());function d8(t){let o=ut(),e=Se(),{logAnalyticsEvent:r}=t;return u8.useMemo(()=>({onPaste:(n,i,a)=>{let c=Cu(n);if(!((c.type==="text"||c.type==="html")&&typeof c.text=="string"&&(si(c.text)||$1(c.text))))return;let l=c.text,{value:u}=i;u.isCollapsed&&i.insertText(l).extend(-l.length);let d={kind:"url",url:l};i.wrapInline({type:vr,data:{ref:d}});let p=i.value.inlines.filter(f=>f.type===vr&&f.data.has("ref")&&cg(f.data.get("ref"),d)===!1);i.collapseToEnd();let m=ag(l);return m&&gp(()=>sg(m,o,{hiveClient:e}),null).then(f=>{f&&a.change(h=>{p.forEach(y=>{let w=h.value.document.getByKey(y.key);w&&h.setDataByKey(w.key,["ref"],f)})})}),r(Um(n,"link")),i}}),[o,e])}s();var ob=x(O());s();var p8=x(O());var tb=p8.createContext(Ht);function m8(t){let{node:o,children:e,attributes:r}=t;return ob.createElement(ve,{...t},ob.createElement(he,{tag:o.type===Ht?"ol":"ul",...r},ob.createElement(tb.Provider,{value:o.type},e)))}s();var Pi=x(O());G();function f8(t){let{node:o,parent:e,children:r,editor:n}=t,{readOnly:i}=n,[,a]=I(B),c=Pi.useContext(tb),l=o.data.toFrozenObject(),u=c===go,d=c===Ht,p=c===ho,m=Pi.useMemo(()=>it(n,o.key,[{key:"list",commands:[{key:"ul",type:1,title:"Unordered List",icon:v.ListUnordered,selected:e.type===go,trigger:()=>{n.change(w=>{w.setNodeByKey(e.key,{type:go})})}},{key:"ol",type:1,title:"Ordered List",icon:v.ListOrdered,selected:e.type===Ht,trigger:()=>{n.change(w=>{w.setNodeByKey(e.key,{type:Ht})})}},{key:"tasks",type:1,title:"Tasks List",icon:v.ListTasks,selected:e.type===ho,trigger:()=>{n.change(w=>{w.setNodeByKey(e.key,{type:ho})})}}]}]),[n,o.key,e.type]),f=w=>{n.change(C=>{mt.checkTaskItem(C,o.key,w)})},h=nn(o.nodes.first()),y=w=>w<10?g.medium:w<100?g.large:"auto";return Pi.createElement(ve,{tag:"li",palette:m,contentProps:{style:Ym.blockListItem},...t},p&&Pi.createElement(he,{editable:!1,style:[Ym.blockListItemPrefix,{height:h}]},Pi.createElement($s,{value:!!l.checked,onValueChange:f,readOnly:i,size:M.ICON_M})),u&&Pi.createElement(he,{editable:!1,style:[Ym.blockListItemPrefix,{height:h}]},Pi.createElement(v.Dot,{size:12,style:a.text})),d&&Pi.createElement(yt,{editable:!1,style:[Ym.blockListItemPrefix,{height:h,width:y(e.getChildIndex(o.key)+1)},a.Body,a.text]},cee(e,o)),Pi.createElement(S,{style:Ym.blockListItemContent},r))}function cee(t,o){let e=t.data.toFrozenObject(),r=t.getChildIndex(o.key);return`${(e.start||1)+r}.`}var Ym=Q.create({blockListItem:{position:"relative",display:"flex",flexDirection:"row"},blockListItemPrefix:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:g.small,marginRight:g.small},blockListItemContent:{flex:1}});s();var $m=x(pi());var lee=(0,$m.isKeyHotkey)("tab"),uee=(0,$m.isKeyHotkey)("shift+tab"),dee=(0,$m.isKeyHotkey)("enter"),pee=(0,$m.isKeyHotkey)("backspace"),g8={onKeyDown:fee,shouldNodeComponentUpdate:mee};function mee(t,o){if(t.node.type===$o){let{parent:e,node:r}=t,{parent:n,node:i}=o;if(e.object!=="block"||n.object!=="block")throw new Error("Parent of list-item must be a block");if(e.type===Ht&&e.getChildIndex(r.key)!==n.getChildIndex(i.key))return!0}return null}function fee(t,o,e){if(dee(t))return gee(t,o,e);if(lee(t)||uee(t))return yee(t,o,e);if(pee(t))return hee(t,o,e)}function gee(t,o,e){if(t.shiftKey)return;let{value:r}=o,n=mt.getCurrentItem(r);if(!n)return;if(t.preventDefault(),r.isExpanded&&o.delete(),n.isEmpty)return mt.getItemDepth(r)>1?mt.decreaseItemsDepth(o):mt.unwrapList(o);mt.splitListItem(o);let i=mt.getListForItem(o.value,n);if(i&&i.type===ho){let a=o.value.document.getNextSibling(n.key);return a?mt.checkTaskItem(o,a.key,!1):o}return o}function hee(t,o,e){let{value:r}=o,{startOffset:n,selection:i}=r;if(!ye.isTextRange(i)||i.isExpanded||n>0)return;let a=mt.getCurrentItem(r);if(a&&i.isAtStartOf(a))return t.preventDefault(),mt.unwrapList(o)}function yee(t,o,e){return t.shiftKey?(t.preventDefault(),mt.decreaseItemsDepth(o)):(t.preventDefault(),mt.increaseItemsDepth(o))}s();s();var y8=x(pi());function vee(t){let{transform:o}=t,e=t.onHotkey?(0,y8.isKeyHotkey)(t.onHotkey):()=>!1,r=t.onInput?bee(t.onInput):()=>!1,n=t.ignoreIn?h8(t.ignoreIn):null,i=t.onlyIn?h8(t.onlyIn):null;function a(p,m,f){if(!e(p))return;let h=u(m.value);if(h)return l(h,p,m,f),!0}function c(p,m,f){if(p.inputType!=="insertText"||!r(p))return;let h=u(m.value);if(h)return l(h,p,m,f),!0}function l(p,m,f,h){let{value:y}=f,{startOffset:w}=y,C=0;return d(p,w).forEach(_=>{f.moveOffsetsTo(_.start,_.end).delete(),C+=_.total}),w-=C,f.moveOffsetsTo(w,w),f.call(o,m,p,h),m.preventDefault(),!0}function u(p){if(p.isExpanded)return null;let{startBlock:m}=p;if(!m)return null;let{type:f}=m;if(i&&!i(f)||n&&n(f))return null;let{startText:h,startOffset:y}=p;We(h);let{text:w}=h,C=null,k=null;return t.after&&(C=w.slice(y).match(t.after)),t.before&&(k=w.slice(0,y).match(t.before)),t.before&&t.after&&!k&&(C=null),t.before&&t.after&&!C&&(k=null),!k&&!C?null:(C&&(C[0]=C[0].replace(/\s+$/,"")),k&&(k[0]=k[0].replace(/^\s+/,"")),{before:k,after:C})}function d(p,m){let{before:f,after:h}=p,y=[],w=0;if(f){let C=f[0],k=0,_=0;f.slice(1,f.length).forEach(P=>{P!==void 0&&(_=C.indexOf(P,_),k=m-w+_-C.length,y.push({start:k,end:k+P.length,total:P.length}),w+=P.length,_+=P.length)})}if(h){let C=h[0],k=0,_=0;h.slice(1,h.length).forEach(P=>{P!==void 0&&(_=C.indexOf(P,_),k=m-w+_,y.push({start:k,end:k+P.length,total:0}),w+=P.length,_+=P.length)})}return y}return{onKeyDown:a,onBeforeInput:c}}function bee(t){if(typeof t=="string")return o=>!!(o.data&&o.data===t);if(typeof t=="function")return t;if(t instanceof RegExp)return o=>!!(o.data&&o.data.match(t));throw new Error("Invalid onInput option")}function h8(t){if(Array.isArray(t))return o=>t.includes(o);if(typeof t=="string")return o=>o===t;if(typeof t=="function")return t;throw new Error("Invalid matcher type")}var $n=vee;var See=$n({onlyIn:[ge],onInput:"*",before:/\*\*[^*]+?\*$/,transform:(t,o,e)=>{if(kd(t.value,[Yr,yo])||rb(t.value))return t.insertText("*");let r=e.before[0].slice(2).slice(0,-1);return Zm(t.value,r,[yo,$r])?t.insertText("*"):t.deleteBackward(r.length+3).addMark(Yr).insertText(r).removeMark(Yr)}}),wee=$n({onlyIn:[ge],onInput:"_",before:/\b_[^_]+?$/,transform:(t,o,e)=>{if(kd(t.value,[$r,yo])||rb(t.value))return t.insertText("_");let r=e.before[0].slice(1);return Zm(t.value,r,[Yr,yo])?t.insertText("_"):t.deleteBackward(r.length+1).addMark($r).insertText(r).removeMark($r)}}),Cee=$n({onlyIn:[ge],onInput:"~",before:/\~\~[^*]+?\~$/,transform:(t,o,e)=>{if(kd(t.value,[Wn,yo])||rb(t.value))return t.insertText("~");let r=e.before[0].slice(2).slice(0,-1);return Zm(t.value,r,[Wn,yo])?t.insertText("~"):t.deleteBackward(r.length+3).addMark(Wn).insertText(r).removeMark(Wn)}}),xee=$n({onlyIn:[ge],onInput:/`/,before:/`[^`]+?$/,transform:(t,o,e)=>{if(kd(t.value,yo))return t.insertText("`");let r=e.before[0].slice(1);return Zm(t.value,r,[Yr,$r])?t.insertText("`"):t.deleteBackward(r.length+1).addMark(yo).insertText(r).removeMark(yo)}}),kee=$n({onlyIn:[ge],onInput:"$",before:/\$\$[^*]+?\$$/,transform:(t,o,e)=>{if(kd(t.value,yo)||rb(t.value))return t.insertText("$");let r=e.before[0].slice(2).slice(0,-1);if(Zm(t.value,r,[Yr,yo,$r]))return t.insertText("$");t.deleteBackward(r.length+3);let n=nl.createMathInline(r);return t.insertInline(n),t}}),Oee=$n({onlyIn:[ge],onHotkey:"enter",before:/^\$\$$/,transform:(t,o,e)=>{let r=nl.createMathBlock();return b8(t,r)}}),Iee=$n({onlyIn:[ge],onInput:" ",before:/^(-|\*)$/,transform:t=>v8(t.value)?t:mt.wrapInList(t,go)}),_ee=$n({onlyIn:ge,onInput:" ",before:/^(([1-9]{1}\d*)\.)$/,transform:(t,o,e)=>{if(v8(t.value))return t;let r=parseInt(e.before[1],10);return mt.wrapInList(t,Ht,r&&r!==1?{start:r}:{})}}),Pee=$n({onlyIn:ge,onInput:"]",before:/^(\[[ xX])$/,transform:(t,o,e)=>{let r=mt.getCurrentList(t.value);if(r)t.setNodeByKey(r.key,{type:ho});else{if(!t.value.isEmpty)return t.insertText(`${e.before[0]}]`);t=mt.wrapInList(t,ho)}let n=mt.getCurrentItem(t.value),i=e.before[0][1]!==" ";return n?mt.checkTaskItem(t,n.key,i):t}}),Ree=$n({onlyIn:ge,onHotkey:"enter",before:/^(```\S*\s*)$/,transform:(t,o,e)=>{let[r]=e.before,n=r.replace(/^```/,"").trim(),i=Tg(n),a=to.createCodeBlock("",{syntax:i.key});return b8(t,a)}}),Eee=$n({onlyIn:ge,onInput:" ",before:/^(>)$/,transform:(t,o,e)=>t.wrapBlock(Kt)});function v8(t){let{startBlock:o,document:e}=t;if(!o)return!1;let r=e.getParent(o.key);return(r==null?void 0:r.type)===$o}var Tee=[Fe,Ge,rt],Mee=$n({onlyIn:ge,onInput:" ",before:/^(#{1,3})$/,transform:(t,o,e)=>{let[r]=e.before,n=r.length,i=Tee[n-1];return t.setBlocks({type:i})}});function kd(t,o){let e=typeof o=="string"?[o]:o;return t.marks.some(r=>e.includes(r.type))}function Zm(t,o,e){let{startText:r,startOffset:n}=t;if(!r)return!1;let i=n-o.length,{leaf:a}=r.searchLeafAtOffset(i);return a?kd(a,e):!1}function rb(t){let{startText:o,startOffset:e}=t;if(!o)return!1;let r=o.text.slice(0,e);return!(!r||r.match(/^[^`]+$/))}function b8(t,o){let{startBlock:e}=t.value;if(e)return t.insertBlock(o).collapseToStartOf(o).removeNodeByKey(e.key)}var S8=[See,wee,Cee,xee,Iee,_ee,Pee,Mee,kee,Oee,Ree,Eee];s();var Ok=x(O());s();var Ri=x(O());G();var nb={[ge]:M.ICON_S,[Fe]:M.ICON_XL,[Ge]:M.ICON_L,[rt]:M.ICON_S};function w8(t){let{node:o,attributes:e,isSelected:r,parent:n}=t,i=o.data.toFrozenObject();return Ri.createElement(Ri.Suspense,{fallback:Ri.createElement(Lee,{selected:r,attributes:e,parentType:n.type})},Ri.createElement(Dee,{reference:i.ref,selected:r,attributes:e,parentType:n.type}))}function Lee(t){let{selected:o,attributes:e,parentType:r}=t,[,n]=I(C8),i=o?D.textColor.primaryStandout:D.text.base,a=nb[r||ge]||nb[ge];return Ri.createElement(S,{style:[n.mention,o&&n.mentionSelected],...e},Ri.createElement(Ie,{size:a,style:i}))}function Dee(t){let{reference:o,selected:e,attributes:r,parentType:n}=t,[,i]=I(C8),[,a]=I(B),c=H.useInteractiveState(),l=tt(o),u=nb[n||ge]||nb[ge],d=e?a.primaryStandout:a.text;return Ri.createElement(Ve,{...c.events,...Sc(l)},Ri.createElement(he,{tag:"span",style:[i.mention,c.hovered&&i.mentionHovered,e&&i.mentionSelected,b.directionRow,b.alignCenter],...r},l.secondaryIcon?Ri.createElement(l.secondaryIcon,{size:u,style:[d,i.mentionIcon]}):null,Ri.createElement(F,{style:[d,a.Bold]},l.title)))}var C8=z.create({mention:t=>({borderRadius:t.radiuses.medium,paddingHorizontal:g.xsmall/2}),mentionHovered:t=>({backgroundColor:t.colors.background.muted}),mentionSelected:t=>({backgroundColor:t.colors.primary.muted}),mentionIcon:{marginRight:g.xsmall/2}});s();var Dc=x(O());function x8(t){let{mark:o,node:e,offset:r,attributes:n,children:i,editor:a}=t,{value:c,symbol:l}=o.data.toObject(),u=Dc.useRef(null),d=bo(c),{logAnalyticsEvent:p}=Dc.useContext(ze),m=ut(),f=pe(u),h=Se();return ay(()=>{if(!f.opened&&a.value.isFocused){let y=w=>{a.change(C=>{let k=ye.create({anchorKey:e.key,anchorOffset:r,focusKey:e.key,focusOffset:r+d.current.length+1});C.insertInlineAtRange(k,{type:cp,data:{ref:w},isVoid:!0}).focus()}),p({type:"edit_page_document_insert_mention",kind:w.kind})};f.open(Zs(Pr(y,{...m,document:a.value.document},h,{withSearch:!1,accept:l==="@"?["user"]:["url","anchor","page","space","collection","file"]}),c))}},150),Dc.useEffect(()=>{f.opened&&f.typeQuery(c)},[f,c]),Dc.createElement(yt,{ref:u,...n},i)}var k8="mentionContext",Nee=/(^|\s)(@|#)(\w*)$/,O8={renderMark:qee,renderNode:Bee,decorateValue:Aee};function Aee(t){let{selection:o}=t,e=Wee(t),r=[];return ye.isTextRange(o)&&e!==null&&r.push(ye.create({anchorKey:o.startKey,anchorOffset:o.startOffset-e.value.length-1,focusKey:o.startKey,focusOffset:o.startOffset,marks:[{type:k8,data:{value:e.value,symbol:e.symbol}}],isAtomic:!0})),r}function Bee(t){let{node:o}=t;switch(o.type){case cp:return Ok.createElement(w8,{...t})}}function qee(t){let{mark:o}=t;switch(o.type){case k8:return Ok.createElement(x8,{...t})}}function Wee(t){if(!t.isCollapsed)return null;let{document:o,startText:e,startBlock:r,selection:n}=t;if(!ye.isTextRange(n)||!e||!r||!is({document:o,block:r},cp))return null;let{startOffset:i}=n,a=e.text.slice(0,i),c=Nee.exec(a);return c?{symbol:c[2],value:c[3]}:null}s();var Ei=x(O());G();s();function ib(t,o,e=[]){return it(t,o,[{key:"types",commands:()=>{let r=t.value.document.assertBlock(o),n=t.value.document.getParent(o);if(!n)return[];let i=a=>{t.change(c=>{c.setNodeByKey(r.key,{type:a}).focus()})};return[{key:ge,title:"Paragraph",type:1,selected:r.type===ge,icon:v.Paragraph,trigger:()=>{i(ge)}},Me(n,Fe)?{key:Fe,title:"Heading 1",type:1,selected:r.type===Fe,icon:v.Heading1,trigger:()=>{i(Fe)}}:null,Me(n,Ge)?{key:Ge,title:"Heading 2",type:1,selected:r.type===Ge,icon:v.Heading2,trigger:()=>{i(Ge)}}:null,Me(n,rt)?{key:rt,title:"Heading 3",type:1,selected:r.type===rt,icon:v.Heading3,trigger:()=>{i(rt)}}:null].filter(fe)}},...e])}function I8(t){let{editor:o,node:e,parent:r,children:n,attributes:i}=t,[,a]=I(B),[,c]=I(Vee),l=Ei.useContext(vc),u=Ei.useContext(kn),d=zee(r),p=[a.Body,a.text,c[l],c[u]],m=Ei.createElement(F,{selectable:!0,style:p},n),f=Ei.useMemo(()=>ib(o,e.key),[o,e.key]),h=lp(e);return Fee(r)?!o.readOnly&&h?Ei.createElement(g9,{...t,placeholder:d},m):Ei.createElement(ve,{...t,palette:f},m):Ei.createElement(he,{...i},!o.readOnly&&d&&h&&Yf(r)?Ei.createElement(he,{editable:!1,pointerEvents:"none",style:[Q.absoluteFill]},Ei.createElement(F,{selectable:!0,style:[p,a.textMuted]},d)):null,m)}function Fee(t){return t.type===qS||t.type===BS||t.type===ol?!0:!(t.object==="fragment"||t.type===$o)}function zee(t){return t.type===pI?"Parameter description (optional)":t.type===qS?"Response description (optional)":t.type===BS?"Operation description (optional)":t.type===ts?"Title":t.type===ol?"Expandable content":t.type===va?"Annotate this text":t.type===mn?"Tab content":""}var Vee=z.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},quote:t=>({color:t.colors.text.mid}),swaggerParameter:t=>({color:t.colors.text.mid,...Ye.Label}),swaggerResponse:t=>({color:t.colors.text.mid}),caption:t=>({...Ye.Caption,color:t.colors.text.muted}),expandableTitle:t=>({...Ye.Heading3,color:t.colors.text.main})});s();var Qm=x(pi());var _8={onKeyDown:Gee};function Gee(t,o){if((0,Qm.default)("enter",t)||(0,Qm.default)("shift+enter",t))return Hee(t,o);if((0,Qm.default)("backspace",t))return P8(t,o)}function Hee(t,o){let{value:e}=o;if(e.isExpanded)return;let{startBlock:r,startOffset:n,endOffset:i}=e;if(r&&!r.isVoid)if(r.type===ge){if((0,Qm.default)("shift+enter",t))return o.insertText(`
`)}else{let a=r.text.length;if(n===0&&a===0)return P8(t,o);if(i===a)return t.preventDefault(),o.splitBlock().setBlocks({type:ge,data:{}})}}function P8(t,o){let{value:e}=o;if(e.isExpanded||e.startOffset>0)return;let{startBlock:r,startText:n}=e;if(!(!r||!(r.getFirstText()===n))){if(r.type===ge){let a=e.document.getParent(r.key);return a&&Re.isSwaggerFragment(a)&&a.getChildIndex(r.key)===0?o:void 0}if(!(r.type===fn||r.type===ya))return t.preventDefault(),r.isVoid?o.removeNodeByKey(r.key):o.setNodeByKey(r.key,{type:ge,isVoid:!1})}}s();var ab=x(O());G();s();var Nc=JSON.parse('{"quote":"quote_5I59h","hint":"hint_rnF2j","iconWrapper":"iconWrapper_NJPs7","icon":"icon_abDxV","info":"info_-xeCE","warning":"warning_5BM-F","danger":"danger_UUfHb","success":"success_3o6RV"}');function R8(t){let{children:o}=t;return ab.default.createElement(ve,{tag:"blockquote",...t,contentProps:{style:Kee.blockQuote}},ab.default.createElement(ee,{style:[D.flex.column,Nc.quote]},ab.default.createElement(kn.Provider,{value:"quote"},o)))}var Kee=Q.create({blockQuote:{position:"relative",width:"100%"}});s();var Fa=x(O());G();s();var Jm={info:{title:"Info",cssIcon:v.InfoCircle.CSS,icon:v.InfoCircle},warning:{title:"Warning",cssIcon:v.Warning.CSS,icon:v.Warning},success:{title:"Success",cssIcon:v.CheckCircle.CSS,icon:v.CheckCircle},danger:{title:"Danger",cssIcon:v.Alert.CSS,icon:v.Alert}};s();function E8(t,o){let e=["info","warning","danger","success"];return it(t,o,[{key:"levels",commands:()=>{let r=t.value.document.assertBlock(o),n=r.data.get("style");return e.map(i=>({key:i,type:1,selected:n===i,title:Jm[i].title,icon:Jm[i].icon,trigger:()=>{t.change(a=>{a.setNodeByKey(r.key,{data:{style:i}})})}}))}}])}function T8(t){let{node:o,children:e,editor:r}=t,{readOnly:n}=r,i=o.data.toFrozenObject(),a=Jm[i.style],c=()=>{let h=["info","warning","danger","success"],y=i.style===h[h.length-1]?h[0]:h[h.indexOf(i.style)+1];r.change(w=>w.setNodeByKey(o.key,{data:{style:y}}))},l=Fa.useMemo(()=>E8(r,o.key),[r,o.key]),u=o.nodes.first(),d=Oi(u,o),p=M.ICON_L,m=d.paddingTop+(nn(u)-p)/2,f=a.cssIcon;return Fa.createElement(ve,{...t,palette:l,contentProps:{style:[Xee.blockHint]}},Fa.createElement(ee,{style:[Nc.hint,D.flex.row,Nc[i.style]]},Fa.createElement(ee,{style:[Nc.iconWrapper,D.flex.row,D.flex.justifyContentCenter],inlineStyle:{paddingTop:m,"--icon-size":`${p}px`}},n?Fa.createElement(f,{style:Nc.icon}):Fa.createElement(Ve,{onPress:c},Fa.createElement(f,{style:Nc.icon}))),Fa.createElement(ee,{style:[D.flex.column,D.flex.flex1]},e)))}var Xee=Q.create({blockHint:{position:"relative",width:"100%"}});s();var sb=x(pi());var L8={onKeyDown:$ee},Uee=(0,sb.isKeyHotkey)("backspace"),jee=(0,sb.isKeyHotkey)("enter"),Yee=(0,sb.isKeyHotkey)("mod+enter");function $ee(t,o,e){let{value:r}=o;if(!To(r.selection)){if(Uee(t)&&r.isCollapsed)return Zee(t,o);if(jee(t))return Qee(t,o);if(Yee(t))return Jee(t,o);if(t.key===">")return ete(t,o)}}function Zee(t,o){let{value:e}=o,{startOffset:r,selection:n}=e;if(!ye.isTextRange(n)||r>0)return;let i=Ik(e);if(!i)return;let a=n.anchorKey?i.getClosestBlock(n.anchorKey):null;if(!(!a||!n.isAtStartOf(a))&&i.nodes.size===1)return t.preventDefault(),o.unwrapBlock(i.type)}function Qee(t,o){let{value:e}=o,{startBlock:r,selection:n}=e;if(!ye.isTextRange(n))return;let i=Ik(e);if(i&&!(r&&r.text.length!==0))return t.preventDefault(),o.unwrapBlock(i.type)}function Jee(t,o){let{value:e}=o,r=Ik(e);if(r)return t.preventDefault(),Ct(o,r),o}function ete(t,o){let{value:e}=o,{selection:r}=e;if(ye.isTextRange(r)&&!(r.startOffset!==0||r.isCollapsed))return t.preventDefault(),o.wrapBlock(Kt),o}function Ik(t,o=null){let{document:e,selection:r}=t;if(!ye.isTextRange(r)||(o!=null||(o=t.startBlock),!o))return null;let n=e.getAncestors(o.key);if(!n)return null;let i=n.reverse().find(M8);return i&&M8(i)?i:null}function M8(t){return"type"in t&&(t.type===Kt||t.type===fo)}s();var _k=x(O());s();var Zn=x(O());G();var Od=2,tte=250;function D8(t){let{selection:o}=t,[e,r]=Zn.useState(!1),n={"data-cursor":!0},i=o.data.toFrozenObject(),a=Ba(i.clientId),c={backgroundColor:a.base};return Zn.createElement(he,{tag:"span",editable:!1,...n,style:[Id.cursor]},Zn.createElement(Xs,{wrapper:hi,onOpen:()=>r(!0),onClose:()=>r(!1),anchor:({ref:l,open:u,close:d})=>Zn.createElement(H.WithInteractiveState,{onHoverIn:u,onHoverOut:d},({events:p})=>Zn.createElement(S,{ref:l,...p,style:[Id.carret,c]},Zn.createElement(S,{style:[Id.carretTop,c]})))},Zn.createElement(S,{style:[Id.bubble,e&&Id.bubbleVisible]},Zn.createElement(S,{style:[Id.bubbleContent,c,g.Padding.smallHorizontal]},Zn.createElement(fi,{theme:{color:Ea(a.base)}},Zn.createElement(ote,{userName:i.userDisplayName}))))))}function ote({userName:t}){let[,o]=I(B);return Zn.createElement(F,{numberOfLines:1,style:[o.Caption,o.text]},t)}var Id=Q.create({cursor:{position:"absolute"},carret:{userSelect:"none",width:Od,top:3,height:"1.2em"},carretTop:{position:"absolute",top:-Od*3,left:-Od,borderRadius:100,width:Od*3,height:Od*3},bubble:{position:"absolute",left:-Od,top:"-1.2em",width:tte,opacity:0,transition:`opacity ${zi.TRANSITION_DURATION_LONG}ms ease`},bubbleVisible:{opacity:1},bubbleContent:{position:"absolute",borderRadius:M.RADIUS_M}});s();var N8=x(O());function A8(t){let{children:o,selection:e}=t,r=e.data.toFrozenObject(),n=Ba(r.clientId);return N8.createElement(yt,{style:[{backgroundColor:n.faded}]},o)}s();var B8="focus",q8="range";var W8={renderSelection:rte};function rte(t){let{type:o}=t;switch(o){case B8:return _k.createElement(D8,{...t});case q8:return _k.createElement(A8,{...t})}}s();var Ue=x(O());s();var ea=x(O());function F8(t){let{editor:o,node:e}=t,r=Se(),n=ut(),i=ea.useMemo(()=>it(o,e.key,[{key:"edit",commands:[{key:"edit_ref",title:"Edit link target",icon:v.PageLink,trigger:()=>Pr(a=>{o.change(c=>{c.setDataByKey(e.key,["ref"],a)})},n,r,{accept:["page","space","collection"]})}]}]),[o,e.key,n]);return ea.createElement(ve,{...t,palette:i},ea.createElement(At,{...t},ea.createElement(ea.Suspense,{fallback:ea.createElement(Ma,{icon:Ie,title:""})},ea.createElement(nte,{contentRef:e.data.get("ref")}))))}function nte(t){let{contentRef:o}=t,e=tt(o);return ea.createElement(Ma,{title:e.title,icon:e.icon||e.secondaryIcon,...Sc(e)})}s();var Ac=x(O());G();function z8(t){let{ancestors:o,node:e,children:r,attributes:n}=t,i=e.data.toFrozenObject(),{blockLayoutComponent:a}=Ac.useContext(ze),c=et(),l=md({ancestors:o,node:e.blockNodes.first(),diff:!0});return Ac.createElement(a,{renderMode:l.renderMode},Ac.createElement(Rs.View,{isPDF:c},Ac.createElement(ee,{style:[D.position.relative,D.flex.column,l.blockStyle.style],inlineStyle:l.blockStyle.inlineStyle},Ac.createElement(S,{...n},l.diffLine?Ac.createElement(Lv,{diff:i,...l.diffLine}):null,r))))}s();var V8=x(O());G();function G8(t){let{mark:o,attributes:e,children:r}=t;return V8.createElement(yt,{style:ite[o.type],...e},r)}var ite=Q.create({[Kf]:{color:El.added},[Xf]:{color:El.deleted,textDecorationLine:"line-through"},[Uf]:{color:El.modified}});s();var cb=x(O());s();var H8=JSON.parse('{"divider":"divider_osV0o"}');function K8(t){let{attributes:o}=t;return cb.createElement(ve,{...t},cb.createElement(At,{...t},cb.createElement(ee,{as:"hr",style:H8.divider,...o})))}s();var Xe=x(O());s();var ur=x(O());G();s();var Vo=x(O());function X8(t){let{onClose:o}=t,[e,r]=Sr(),n=Vo.useRef(null),[i,a]=Vo.useState(!1),c=bo(i),l=bo(o),u=bo(e),d=Vo.useCallback(()=>{u.current||r(()=>l.current())},[l,u]);return Vo.useEffect(()=>Ug("editor-block-modal"),[]),Gn({[He.EDITOR_SAVE]:p=>{d()}},"editor-block-modal",[]),Vo.useEffect(()=>{let p=null,m=f=>{f.key==="Escape"&&(c.current?(p&&clearTimeout(p),d()):(a(!0),p=setTimeout(()=>{a(!1)},2e3)))};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m),p&&clearTimeout(p)}},[c,d]),Vo.useEffect(()=>{var p,m;i?(p=n.current)==null||p.open():(m=n.current)==null||m.close()},[i,n]),Vo.createElement(W,{tooltipRef:n,icon:v.X,disabled:e,onPress:d,title:i?Vo.createElement(Vo.Fragment,null,"Press ",Vo.createElement(ps,{shortcut:"ESC"})," again to save & close"):Vo.createElement(Vo.Fragment,null,"Save & Close ",Vo.createElement(ps,{shortcut:He.EDITOR_SAVE})),tooltipPreferredPlacement:"left"})}s();s();s();var U8=Rg("05ab87fa95f4c5a09220a4e1067733011498ba1a47c8b145f5ec78dcb9ffe75d",()=>import("https://app.gitbook.com/public/app/chunks/excalidraw.lazy-ZCOJ7DFP.min.js"));var Al=U8;async function j8(t){let{default:{exportToSvg:o}}=await Al.load(),e=await o({appState:{exportEmbedScene:!0},elements:t.elements,files:t.files});return new XMLSerializer().serializeToString(e)}s();var Pk=Zr({getValue:async t=>{if(!t)return{elements:[],files:{}};let{default:{loadFromBlob:o}}=await Al.load(),r=await(await fetch(t)).blob(),n=await o(r,null,null);return{elements:n.elements,files:n.files}}}),Y8=Zr({getValue:async({downloadURL:t,theme:o})=>{let{default:{exportToSvg:e}}=await Al.load(),r=await Pk.readAsync(t),n=await e({appState:{viewBackgroundColor:"transparent",exportWithDarkMode:o==="dark"},elements:r.elements,files:r.files});return n.style.maxWidth="100%",n.removeAttribute("width"),n.removeAttribute("height"),n}});function $8(t){let{blockData:o,onClose:e}=t,[,r]=I(cte),n=ur.useRef(),i=Us(zi.fade),a=Us(zi.pop,{onEnd:()=>{var c;(c=n.current)==null||c.refresh()}});return ur.createElement(yn,null,ur.createElement(S,{ref:i,style:[z.absoluteFill,r.modalBackdrop]},ur.createElement(S,{ref:a,style:r.modalBody},ur.createElement(ur.Suspense,{fallback:ur.createElement(No,{size:"large"})},ur.createElement(ate,{blockData:o,onClose:e,excalidrawRef:n})))))}function ate(t){var f,h;let{excalidrawRef:o,blockData:e,onClose:r}=t,n=Sg(),i=wo(),{Excalidraw:a,useExcalidrawStyle:c}=Al.loadSuspense().default;c();let u=(h=(f=tt(e.ref).resolution)==null?void 0:f.extra)==null?void 0:h.file,{result:d,error:p}=Pk.readSafe((u==null?void 0:u.downloadURL)||null),m=async()=>{let y=o.current;if(!y){r(void 0);return}let w=y.getSceneElements(),C=y.getFiles();if(d&&d.elements&&!ste(d.elements,w)){r(void 0);return}let k=await j8({elements:w,files:C});r(new File([new Blob([k])],(u==null?void 0:u.name)||"file.excalidraw.svg",{type:"image/svg+xml"}))};return ur.useEffect(()=>{p&&i.notify({kind:"danger",icon:v.Warning,title:"Error loading drawing",details:p.expose?p.message:"An unexpected error occurred while loading the drawing"})},[p]),ur.createElement(S,{style:[z.absoluteFill]},ur.createElement(a,{ref:o,initialData:{...d,scrollToContent:!0},theme:n.color,UIOptions:{canvasActions:{export:!1,loadScene:!1,saveToActiveFile:!1,toggleTheme:!1,saveAsImage:!1,changeViewBackgroundColor:!1,clearCanvas:!1}},renderTopRightUI:(y,w)=>ur.createElement(S,null,ur.createElement(X8,{onClose:m}))}))}function ste(t,o){return t.length!==o.length?!0:t.some((e,r)=>{let n=o[r];return e.version!==n.version})}var cte=z.create({modalBackdrop:t=>({backgroundColor:t.colors.backdrop.background}),modalBody:t=>({position:"absolute",top:g.large,bottom:g.large,right:g.xlarge,left:g.xlarge,borderRadius:M.RADIUS_L,backgroundColor:t.colors.background.main,overflow:"hidden"})});s();var so=x(O());G();var Q8=so.forwardRef(function(o,e){let{readOnly:r,contentRef:n}=o,i=so.useRef(null),a=Sg(),c=id(),[,l]=I(J8),[u,d]=so.useState(null),m=tt(n).href,f=u;return n&&!m&&(f=new Di.NotFound("Drawing file not found, the file may have been deleted")),so.useImperativeHandle(e,()=>({openInGallery:()=>{c.open([{url:m}])}})),so.useEffect(()=>{let h=!0;return Y8.readAsync({downloadURL:m,theme:a.color}).then(y=>{let w=i.current;w&&y&&h&&(w.innerHTML="",w.appendChild(y.cloneNode(!0)))},y=>{h&&d(y)}),()=>{h=!1}},[m,a.color]),f?so.createElement(Z8,{kind:"danger",icon:v.Warning,message:f.expose?f.message:"An error occurred while rendering this drawing file."}):so.createElement(S,{style:l.wrapper},m?so.createElement("div",{ref:i},so.createElement("img",{src:m,style:{width:"100%"}})):so.createElement(Z8,{icon:v.EditDrawing,message:r?"Drawing file not found":"Double click to start sketching out your thoughts."}))});function Z8(t){let{icon:o,message:e,kind:r="default"}=t,[,n]=I(J8),[,i]=I(B);return so.createElement(S,{style:[n.fallback,g.Padding.large,b.alignCenter,b.justifyContentCenter]},so.createElement(S,null,so.createElement(o,{size:M.ICON_XL,style:r==="danger"?i.danger:i.textMuted})),so.createElement(S,{style:g.Margin.mediumTop},so.createElement(F,{style:[r==="danger"?i.danger:i.textMuted,i.Body]},e)))}var J8=z.create({wrapper:{},fallback:t=>({height:200,borderWidth:1,backgroundColor:t.colors.background.main,borderColor:t.colors.border.mid,borderRadius:M.RADIUS_M,borderStyle:"dashed"})});var e3=H.createInteractiveHandle("drawing-block");function t3(t){let{node:o,editor:e,isSelected:r}=t,{readOnly:n}=e,i=Ot(),{uploadFiles:a,updateFile:c}=Xe.useContext(ze),[l,u]=Xe.useState(null),[d,p]=Sr(),m=Xe.useRef(),f=Xe.useRef(null),h=o.data.toFrozenObject(),y=()=>{var E;(E=w.current)==null||E.close(),u("edit")},w=Xe.useRef(null),C=Xe.useRef(null);Xe.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);let k=sy(y),_=E=>{var A,V,q;n?(A=f.current)==null||A.openInGallery():(C.current&&clearTimeout(C.current),k(E)?(V=w.current)==null||V.close():((q=w.current)==null||q.open(),C.current=setTimeout(()=>{var Y;(Y=w.current)==null||Y.close()},1e3)))},P=E=>{m.current=E?URL.createObjectURL(E):void 0,E&&p(async()=>{let A=h.ref;h.ref&&A?await c(A,E):A=(await a([E]))[0],cg(A,h.ref)&&e.change(V=>{V.setDataByKey(o.key,["ref"],A)})}),u(null)},R=async()=>{let[E]=await i.prompt({title:"Replace drawing file",acceptURL:!1,accept:"drawings"});(E==null?void 0:E.kind)==="file"&&e.change(A=>{A.insertDataByKey(o.key,["ref"],E)})},T=it(e,o.key,[{key:"types",commands:[{key:"edit",title:"Edit drawing",icon:v.EditDrawing,trigger:()=>{y()}},{key:"files",title:"Replace file\u2026",icon:v.Replace,trigger:()=>{R()}}]}]);return Xe.createElement(Xe.Fragment,null,Xe.createElement(ve,{...t,palette:T},Xe.createElement(At,{...t},Xe.createElement(H.TouchableOpacity,{onPress:_},Xe.createElement(H.View,{handle:e3},Xe.createElement(Xe.Suspense,{fallback:Xe.createElement(Pn,null)},Xe.createElement(Q8,{ref:f,readOnly:n,contentRef:m.current&&d?{kind:"url",url:m.current}:h.ref})),n?null:Xe.createElement(fi,{theme:{color:"dark"}},Xe.createElement(yi,{ref:w,preferredPlacement:"left",tooltip:"Double click to edit!"},(E,A)=>Xe.createElement(lte,{ref:A,saving:d,isSelected:r,palette:T})))))),Xe.createElement(Mc,{...t})),Xe.createElement(xt,null,l==="edit"?Xe.createElement($8,{blockData:h,onClose:P}):null))}var lte=Xe.forwardRef(function(o,e){let{isSelected:r,saving:n,palette:i}=o,[,a]=I(ute);return Xe.createElement(H.View.Child,{ref:e,descendantOf:e3,style:[a.blockToolbar,b.directionRow],inactiveStyle:r||n?Ze.visible:Ze.hidden,activeStyle:Ze.visible},n?Xe.createElement(W,{size:"small",icon:Ie},"Saving"):i.groups.map(c=>Array.isArray(c.commands)?c.commands:[]).flat().map((c,l,u)=>Xe.createElement(W,{key:c.key,title:c.title,size:"small",icon:c.icon,style:[l<u.length-1?g.Margin.smallRight:null],onPress:()=>{var d;(d=c.trigger)==null||d.call(c,i)}})))}),ute=z.create({blockToolbar:t=>({position:"absolute",top:g.small,right:g.small,padding:g.small,borderRadius:M.RADIUS_M,backgroundColor:t.colors.background.mid,...t.shadows.base})});s();var za=x(O());function o3(t){let{node:o,editor:e}=t,r=Ot(),n=async()=>{let[a]=await r.prompt({title:"Replace file"});(a==null?void 0:a.kind)==="file"&&e.change(c=>{c.insertDataByKey(o.key,["ref"],a)})},i=it(e,o.key,[{key:"types",commands:()=>[{key:"files",title:"Replace file\u2026",icon:v.Paperclip,trigger:()=>{n()}}]}]);return za.createElement(ve,{...t,palette:i},za.createElement(At,{...t},za.createElement(za.Suspense,{fallback:za.createElement(Ma,{icon:Ie,title:""})},za.createElement(dte,{...t,onReplace:n}))),za.createElement(Mc,{...t}))}function dte(t){var u,d;let{node:o,editor:e,onReplace:r}=t,{ref:n}=o.data.toFrozenObject(),a=(d=(u=tt(n).resolution)==null?void 0:u.extra)==null?void 0:d.file,c=()=>{a?ms(Gs(a.downloadURL)):e.readOnly||r()},l=Do(sd,{file:a},[a]);return za.createElement(Ma,{onPress:c,icon:l,title:a?a.name:"File has been deleted",subtitle:a?wm(a.size):void 0,details:a?j6(a):void 0})}s();var Er=x(O());s();var Bc=x(O());G();function r3(t){let{node:o,editor:e,onClose:r}=t,n=eg(o.text),[i,a]=Bc.useState(()=>o.data.get("id")||""),c=u=>{let d=eg(u);d.length===u.length?a(d):a(u)},l=()=>{e.change(u=>{i?u.setDataByKey(o.key,["id"],eg(i)):u.removeDataByKey(o.key,["id"])}),r()};return Bc.createElement(Co,{size:"small",title:"Edit heading anchor",footer:Bc.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},Bc.createElement(W,{kind:"secondary",onPress:r,style:g.Margin.smallRight},"Close"),Bc.createElement(W,{kind:"primary",onPress:l},"Save")),onClose:r},Bc.createElement(no,{autoFocus:!0,size:"large",icon:v.Hash,label:"Anchor",labelDescription:"Edit this anchor to customize a nice looking url for this heading.",value:i,onChangeText:c,onSubmit:l,placeholder:n}))}var pte=Z.createResponsiveComponent(he);function n3(t){let{editor:o,node:e,parent:r,children:n}=t,[,i]=I(B),[,a]=I(fte),[c,l]=Er.useState(null),u=Er.useContext(vc),d=Er.useContext(kn),p=Er.useMemo(()=>ib(o,e.key,[{key:"edit",commands:[{key:"edit",title:"Edit anchor",icon:v.Link,trigger:()=>{l("edit")}}]}]),[o,e.key]),{anchorElement:m,anchoredBlockId:f,anchoredBlockInteractiveState:h,onAnchoredBlockPress:y}=Xv(e,{accessibilityLabel:"Direct link to heading",anchorIconSize:yte[e.type]}),w=r.type===Kt;return Er.createElement(Er.Fragment,null,Er.createElement(ve,{...t,palette:p},Er.createElement(pte,{tag:mte(e.type),nativeID:f,onClick:w?()=>{}:()=>y(),...h.events,style:[b.directionRow,b.alignEnd]},Er.createElement(Z.Text,{selectable:!0,mobileStyle:[hte[e.type]],desktopStyle:[gte[e.type]],nativeID:`text-${f}`,style:[i.text,a[u],a[d]]},n,w?null:m))),Er.createElement(xt,null,c==="edit"?Er.createElement(r3,{node:e,editor:o,onClose:()=>l(null)}):null))}function mte(t){switch(t){case Fe:return"h2";case Ge:return"h3";case rt:return"h4";default:throw new Error(`invalid node type (${t}) for heading`)}}var fte=z.create({left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"},root:{},caption:{},quote:{},swaggerParameter:{}}),gte={[Fe]:vo.Heading1,[Ge]:vo.Heading2,[rt]:vo.Heading3},hte={[Fe]:vo.Heading2,[Ge]:vo.Heading3,[rt]:vo.Body},yte={[Fe]:M.ICON_L,[Ge]:M.ICON_S,[rt]:M.ICON_XXS};s();var lb=x(O());function i3(t){let{node:o,children:e,style:r,attributes:n}=t,{sections:i}=lb.useContext(wi),a=i.get(o.key);return lb.createElement("div",{id:a,...n,style:r},e)}s();var Rk=x(O());G();function a3(t){let{node:o,editor:e,children:r}=t,{align:n="center"}=o.data.toFrozenObject(),i=Ot(),a=ki(e,o.key),c=u=>{e.change(d=>{d.insertDataByKey(o.key,["align"],u)})},l=it(e,o.key,[{key:"types",commands:()=>[{key:"files",title:"Add images\u2026",icon:v.Image,trigger:()=>{i.prompt({accept:"images",title:"Select image",acceptURL:!0}).then(u=>{e.change(d=>{u.forEach(p=>{d.appendNodeByKey(o.key,Lo.createImageBlock(p))})})})}}]},{key:"align",commands:[{key:"left",type:1,title:"Left align",selected:n==="left",icon:v.AlignTextLeft,trigger:()=>c("left")},{key:"center",type:1,title:"Center",selected:n==="center",icon:v.AlignTextCenter,trigger:()=>c("center")},{key:"right",type:1,title:"Right align",selected:n==="right",icon:v.AlignTextRight,trigger:()=>c("right")}]},...a?[a]:[]]);return Rk.createElement(ve,{palette:l,...t},Rk.createElement(Z.View,{style:[b.directionRow,n==="center"&&b.justifyContentCenter,n==="left"&&b.justifyContentStart,n==="right"&&b.justifyContentEnd,vte.imagesWrapper],mobileStyle:[b.wrap,b.justifyContentCenter]},r))}var vte=Q.create({imagesWrapper:{columnGap:g.medium,rowGap:g.medium}});s();var xe=x(O());G();s();var ta=x(O());G();function ub(t){let{node:o,editor:e,onClose:r}=t,[n,i]=ta.useState(()=>Lo.getImageAltText(o)||""),a=()=>{e.change(c=>{c.insertDataByKey(o.key,["alt"],n)}),r()};return ta.createElement(Co,{title:"Set image alt text",onClose:r,footer:ta.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},ta.createElement(W,{kind:"secondary",onPress:r,style:g.Margin.smallRight},"Cancel"),ta.createElement(W,{kind:"primary",onPress:a},"Save"))},ta.createElement(S,{style:[g.Margin.largeBottom]},ta.createElement(S,{style:[g.Margin.mediumBottom]},ta.createElement(Lg,null,"This will be read out by screen readers when the image is encountered. Describe the image in detail \u2013 it's how visually impaired readers know what's in front of them.")),ta.createElement(no,{autoFocus:!0,size:"large",value:n,placeholder:"Edit alt text",onChangeText:i,onSubmit:a})))}s();s();s();var En=x(O());var bte=H.createInteractiveComponent(v.EmojiReaction);function s3(t){let{analyticsContext:o,page:e,size:r,readOnly:n=!0}=t,i=En.useRef(null),[,a]=I(B),[c,l]=Sr(),u=Ut(),d=async p=>{var m;We(u),(m=i.current)==null||m.close(),p!==e.emoji&&(await l(()=>u.change(f=>{f.updatePage(e.id,{emoji:p})})),ae({...o,...p?{type:"edit_pick_page_emoji",pageKind:e.type,emoji:p}:{type:"edit_remove_page_emoji",pageKind:e.type}}))};return n?e.emoji?En.createElement(Ao,{code:e.emoji,size:r}):null:En.createElement(Xs,{ref:i,wrapper:hi,anchor:({ref:p,opened:m,toggle:f})=>En.createElement(H.TouchableOpacity,{ref:p,onPress:f},c?En.createElement(Ie,{size:r}):En.createElement(En.Fragment,null,e.emoji?En.createElement(Ao,{code:e.emoji,size:r}):En.createElement(bte.Child,{size:r,style:m?a.textMid:a.textMuted,activeStyle:a.textMid})))},En.createElement(Cr,{kind:"wide",preferredAlignment:"middle"},En.createElement(vy,{onPick:d,onRemove:e.emoji?()=>d(void 0):void 0})))}s();var se=x(O());G();s();var c3=JSON.parse('{"pageCoverBleedFull":"pageCoverBleedFull_eqtqd"}');s();var u3=x(O());var l3=new Set;function d3(t){let{hivePage:o,analyticsContext:e}=t;return u3.useCallback(()=>{let r=`${o.contentId}/${o.branchId}/${o.pageId}`;l3.has(r)||(l3.add(r),ae({...e,page:o.pageId,type:"edit_page_document_start",collaborators:o.dataSync.presences.length}))},[o,e])}var Go={};I1(Go,{COMMENTS_COLUMN_EXPANDED_WIDTH:()=>pb,MAX_PAGE_OUTLINE_WIDTH:()=>qc,PAGE_BODY_DESKTOP_H_PADDING:()=>Bt,PAGE_BODY_DESKTOP_WIDTH:()=>db,PAGE_BODY_MAX_WIDTH:()=>Tn,PAGE_BODY_MOBILE_H_PADDING:()=>er,PAGE_OUTLINE_WIDTH:()=>Mk,PUBLIC_DESKTOP_HEADER_HEIGHT:()=>Ste,PUBLIC_MOBILE_HEADER_HEIGHT:()=>wte,SPACE_HEADER_HEIGHT:()=>Ek,TOC_DESKTOP_WIDTH:()=>Tk,columnsWidthThreadhold:()=>ef,getPageOutlineWrapperWidth:()=>Lk,getToCWrapperDesktopWidth:()=>p3,pageSwitchThreadhold:()=>Wc});s();var Ek=M.L,Tn=750,Bt=110,er=g.medium,db=Tn+2*Bt,Tk=300,pb=300,Mk=220,qc=300,Ste=M.XL,wte=M.L;function ef(t,o=0){let e=o+Tk+db+Mk;return t===2||(e+=pb-er),e}function Wc(t=0){return t+db}function p3(t){let o=`(100vw - ${db}px) / 2 - ${t||0}px`;return`max(${Tk}px, calc(${o}))`}function Lk(t,o){let e=`100vw - ${p3(t)} - ${Tn}px - ${Bt}px - ${typeof o>"u"?Bt:o||0}px - ${t||0}px`;return`max(${Mk}px, calc(${e}))`}s();var mb=x(O());var fb=mb.createContext({baseRevision:void 0,pages:[],diffs:new Map,diffMode:null});s();var Bl=x(O());var m3=Bl.createContext({pages:[],setContentDiffPage:t=>{}});s();var ql=x(O());var f3="hive-rtc-beta-notification-dismissed",g3=!1;function h3(t){let o=SN(t),e=DP(),r=wo(),n="rtc-toaster",i=o.filter(a=>a.data.userId&&a.data.userId!==(e==null?void 0:e.uid));ql.useEffect(()=>{g3||i.length===0||(g3=!0,!vn.get(f3)&&r.notify({id:n,kind:"info",icon:v.Users,title:"Realtime Collaboration (Beta)",details:ql.createElement(ql.Fragment,null,ql.createElement(wr,null,"Explore live editing with your team. Keep in mind, it's still in Beta so you may encounter some bugs. We appreciate your patience and feedback.")),timeout:1e4,actions:[{label:"Got it, dismiss",onPress:()=>{vn.set(f3,!0),r.close(n)}}]}))},[i.length])}s();var Tr=x(O());G();s();var v3=x(O());s();var y3=JSON.parse('{"commentHalo":"commentHalo_0AauK"}');function Dk(t){var l;let{node:o}=t,{screen:e}=Ia(),r=Hr(_x);if(!o)return null;let n=e.type==="space"&&((l=e.sideSheet)==null?void 0:l.type)==="comments"?e.sideSheet.node:null;return(r&&r.highlighting&&r.node!==n?r.node:null)===o||n===o?v3.default.createElement(ee,{style:[y3.commentHalo],as:"span",contentEditable:!1}):null}Dk.displayName="BlockCommentHalo";s();var Va=x(O()),b3=x(F_());var S3=t=>{let{nodeKey:o,visible:e,buttonSize:r,style:n,shortcutsActive:i}=t,a=Va.useContext(Rx),{navigate:c}=we(),l=Va.useMemo(()=>a(o),[o]),u=(0,b3.useSubscription)(l),d=Va.useMemo(()=>(u!=null?u:[]).reduce((w,C)=>{let k=Object.values(C.replies).reduce((_,P)=>_+P.count,0);return 1+w+k},0),[u]),p=d>0,m=u==null?void 0:u[0],f=()=>{var w;m&&c({screen:{type:"space",space:m.space,sideSheet:{type:"comments",node:(w=m.node)!=null?w:void 0,comment:m.key}}})},h=()=>{c({screen:{sideSheet:{type:"comments",node:o,context:"post",comment:void 0}}})},y=()=>p&&m?f():h();return Gn(i?{[He.EDITOR_COMMENT]:y}:{},["editor-selection-collapsed","editor-selection-expanded"],[i,m]),Va.createElement(he,{editable:!1,style:[e||p?Ze.visible:Ze.hidden,n],"data-hide-on-drag":!0},Va.createElement(X_,{kind:"secondary",size:"small"},Va.createElement(ro,{leadingIcon:v.Comment.CSS,tooltipTitle:p?`${d} Comment${d>1?"s":""}`:"Comment",onPress:y,size:r,iconOnly:!p,label:p?`${d}`:"Comment"}),p?Va.createElement(ro,{leadingIcon:v.Plus.CSS,size:r,tooltipTitle:"Leave another comment",label:"Leave another comment",iconOnly:!0,onPress:h}):null))};s();var Ak=x(O());s();var Nk=JSON.parse('{"blockWrapper":"blockWrapper_y0Ubs","pageWrapper":"pageWrapper_ca2kA"}');function w3(t){let{children:o,style:e}=t;return Ak.createElement(ee,{style:[Nk.pageWrapper,D.margin.noneVertical,D.margin.autoHorizontal,e]},o)}function _d(t){let{children:o,style:e}=t;return Ak.createElement(ee,{style:[Nk.blockWrapper,D.margin.noneVertical,D.margin.autoHorizontal,e]},o)}function Cte(t){let{children:o,renderMode:e,isDiffViewEnabled:r,isFullPage:n,isPDF:i,node:a,interactive:c}=t,{desktopSidebarWidth:l}=Tr.useContext(Hi),{customBreakpointsPageBodyStyles:u}=Tr.useMemo(()=>({customBreakpointsPageBodyStyles:{[ef(2,l)]:b.justifyContentCenter}}),[l]);if(e==="unstyled")return Tr.createElement(S,{...c==null?void 0:c.events},o);let d=e==="full-width"?Tr.Fragment:_d;return Tr.createElement(S,{style:[b.flex1,i?C3.pdfContainer:null]},Tr.createElement(d,null,Tr.createElement(Z.View,{style:[b.flex1,b.directionRow,n?b.justifyContentCenter:b.justifyContentEnd],mobileStyle:[b.justifyContentCenter],customBreakpointsStyles:u,...c==null?void 0:c.events},Tr.createElement(S,{style:[b.flex1]},Tr.createElement(Dk,{node:a}),Tr.createElement(Z.View,{mobileStyle:[r?C3.pageBodyMobileWithDiff:null]},o)))))}function x3(t){let{isCommentMarginVisible:o,isDiffViewEnabled:e,isFullPage:r}=t,n=et();return Tr.useMemo(()=>[i=>Tr.createElement(Cte,{...i,isPDF:n,isDiffViewEnabled:e,isCommentMarginVisible:o,isFullPage:r}),n||!o?void 0:S3],[e,r,o,n])}var C3=Q.create({pdfContainer:{breakInside:"avoid",breakBefore:"auto"},pageBody:{maxWidth:Tn+2*Bt},pageBodyWithComments:{maxWidth:Tn+Bt,paddingRight:0},pageBodyMobileWithDiff:{marginLeft:er*2},pageBodyDesktopLeftMargin:{marginLeft:Bt},pageBodyDesktopRightPadding:{paddingRight:Bt},pageBodyMobileLeftMargin:{marginLeft:er},pageBodyMobileRightPadding:{paddingRight:er},pageBodyPDFLeftMargin:{marginLeft:er},pageBodyPDFRightPadding:{paddingRight:er}});s();var be=x(O());G();s();var Bk=x(RF()),gt=x(O());G();function k3(t){let{analyticsContext:o,parentPages:e,childPages:r,onClose:n,revision:i,page:a}=t,[,c]=I(Ote),[l,u]=Sr(),d=Ut(),p=async(m=!0)=>{We(d),await u(async()=>{await d.change(f=>{[a,...m?e:[],...m?r:[]].forEach(h=>{f.resolveConflict(h.id)})}),await ae({...o,type:"edit_conflicts_keep_page",pageKind:a.type})}),n()};return gt.createElement(Co,{title:"Keep page",onClose:n,footer:gt.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},gt.createElement(W,{kind:"secondary",onPress:()=>{},style:g.Margin.smallRight,disabled:l},"Cancel"),gt.createElement(Sp,{kind:"secondary",onPress:()=>p(!1),style:g.Margin.smallRight},"Keep only this page"),gt.createElement(Sp,{kind:"merge",onPress:()=>p()},"Keep"))},(0,Bk.default)(e)?null:gt.createElement(S,{style:[(0,Bk.default)(r)?null:c.parentPages]},gt.createElement(xte,{revision:i,pages:e,onClose:n})),gt.createElement(kte,{revision:i,pages:r,onClose:n}))}function xte(t){let{pages:o,revision:e}=t,{conflicts:r}=e,[,n]=I(B),i=o.length;return o.length?gt.createElement(S,{style:[g.Margin.mediumTop]},gt.createElement(S,{style:[b.directionRow,g.Margin.smallBottom]},gt.createElement(So,{kind:"warning",icon:v.Warning}),gt.createElement(F,{style:[g.Margin.mediumLeft,n.Label,n.text,n.Bold]},"There ",i>1?"are":"is"," ",o.length," conflicted parent"," ",gt.createElement(Vi,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",gt.createElement(Vi,{count:i,singular:"it",plural:"all of them"}))),gt.createElement(S,null,o.map(a=>{let c=r==null?void 0:r.pages[a.id];return gt.createElement(ds,{key:a.id,layout:"wide",icon:()=>c==="deleted-in-base-subtree-modified-in-head"||c==="deleted-in-head-subtree-modified-in-base"?gt.createElement(So,{kind:"warning",icon:v.Conflict}):gt.createElement(So,{kind:"danger",icon:v.Trashcan}),title:a.title})}))):null}function kte(t){let{pages:o,revision:e}=t,{conflicts:r}=e,[,n]=I(B),i=o.length;return o.length?gt.createElement(S,{style:[g.Margin.mediumTop]},gt.createElement(S,{style:[b.directionRow,g.Margin.smallBottom]},gt.createElement(So,{kind:"warning",icon:v.Warning}),gt.createElement(F,{style:[g.Margin.mediumLeft,n.Label,n.text,n.Bold]},"There ",o.length>1?"are":"is"," ",o.length," nested"," ",gt.createElement(Vi,{count:i,singular:"page",plural:"pages"}),". Keeping the current page, you would keep"," ",gt.createElement(Vi,{count:i,singular:"it",plural:"all of them"}))),gt.createElement(S,null,o.map(a=>{let c=r==null?void 0:r.pages[a.id];return gt.createElement(ds,{key:a.id,layout:"wide",icon:()=>c==="deleted-in-base-subtree-modified-in-head"||c==="deleted-in-head-subtree-modified-in-base"?gt.createElement(So,{kind:"warning",icon:v.Conflict}):gt.createElement(So,{kind:"danger",icon:v.Trashcan}),title:a.title})}))):null}var Ote=z.create({parentPages:t=>({borderBottomColor:t.colors.border.mid,borderBottomWidth:1,marginBottom:g.large,paddingBottom:g.large})});s();var Rt=x(O());G();s();var Mn=x(O());G();var O3=4;function I3(t){let{space:o,page:e,readOnly:r,...n}=t,[i,a]=Mn.useState(!1),c=Wk(o,e),l=qk();if(c.length===0)return null;let u=i?c:c.slice(0,O3),d=c.length-O3,p=!i&&d>0;return Mn.createElement(S,{...n,style:[b.directionRow,b.wrap]},u.map(m=>Mn.createElement(S,{key:m.key,style:[g.Margin.mediumRight,g.Margin.mediumTop]},Mn.createElement(W,{kind:"default",size:"small",icon:v.ArrowDownLeft,onPress:()=>l(m)},m.page.title))),p?Mn.createElement(S,{style:[g.Margin.mediumTop]},Mn.createElement(W,{kind:"grey",size:"small",onPress:()=>a(!0),title:Mn.createElement(Mn.Fragment,null,"Show ",d," more"," ",Mn.createElement(Vi,{count:d,singular:"backlink",plural:"backlinks"}))},`+${d} more`)):null)}function qk(){let{navigate:t}=we();return Mn.useCallback(o=>{let{page:e,revision:r}=o;if(e.type==="link")return;let n=oo(r,e.id);t({screen:i=>i.type==="space"&&r.contentId===i.space?{page:n}:{type:"space",space:r.contentId,page:n,changeRequest:void 0,revision:void 0}})},[])}function Wk(t,o){return Ite([{kind:"page",page:o.id},{kind:"page",page:o.id,space:t.key}]).filter(r=>r.page.id!==o.id||r.revision.contentId!==t.key)}function Ite(t){let o=t.map(i=>ZI(i)),[e]=_a([QI(o)]),r=Se(),n=g_(e,i=>{var c;let a=(c=Iu([cs(i.space)])[0])==null?void 0:c.result;if(a)return f_(()=>r.store.getRevision(a.key,a.revision))});return e.map((i,a)=>{let c=n[a];return c?Object.keys(i.pages).filter(u=>Object.keys(i.pages[u].references).some(d=>o.includes(d))).map(u=>({key:`${c.contentId}-${u}`,revision:c,page:c.pages[u]})):null}).filter(fe).flat().sort((i,a)=>i.page.id<a.page.id?-1:i.page.id>a.page.id?1:0)}function gb(t){let{space:o,analyticsContext:e,page:r,onClose:n,revision:i}=t,[,a]=I(B),c=Ut(),l=async u=>{We(c),u&&(await c.change(d=>{d.removePage(r.id,{deleteEmptyGroupParent:!0})}),ae({...e,type:"edit_remove_page",pageKind:r.type})),n()};return Rt.createElement(xp,{title:r.type==="group"?"Delete group":"Delete page",kind:"danger",confirmButtonText:"Delete",onComplete:l},Rt.createElement(S,null,Rt.createElement(F,{style:[a.Body,a.text]},"Confirming will delete all the content; however, it will still be available in the version history.")),Rt.createElement(Rt.Suspense,{fallback:null},Rt.createElement(_te,{space:o,page:r,onClose:n})),r.type!=="link"?Rt.createElement(Pte,{revision:i,page:r,onClose:n}):null)}function _te(t){let{space:o,page:e,onClose:r}=t,[,n]=I(B),i=qk(),a=Wk(o,e);return a.length===0?null:Rt.createElement(S,{style:[g.Margin.mediumTop]},Rt.createElement(S,null,Rt.createElement(F,{style:[n.Label,n.textMuted]},"Deleting this page will break links in the following ",a.length," pages:")),Rt.createElement(S,{style:[b.directionRow,b.wrap]},a.map(c=>Rt.createElement(S,{key:c.key,style:[g.Margin.smallRight,g.Margin.smallTop]},Rt.createElement(W,{kind:"secondary",size:"small",icon:v.ArrowDownLeft,onPress:()=>{r(),i(c)}},c.page.title)))))}function Pte(t){let{page:o,revision:e,onClose:r}=t,[,n]=I(B),{navigateToPage:i}=bc(),c=lc(e,o.id).map(u=>{var d;return((d=e.conflicts)==null?void 0:d.pages[u.id])==="deleted-in-base"?u:null}).filter(fe),l=c.length;return l?Rt.createElement(S,{style:[g.Margin.mediumTop]},Rt.createElement(S,{style:[b.directionRow,g.Margin.mediumBottom]},Rt.createElement(So,{kind:"warning",icon:v.Warning}),Rt.createElement(F,{style:[g.Margin.mediumLeft,n.Label,n.text,n.Bold]},"There ",l>1?"are":"is"," ",c.length," nested"," ",Rt.createElement(Vi,{count:Object.keys(c.length).length,singular:"page",plural:"pages"})," ","deleted in the primary content but modified in your change request.",Rt.createElement("br",null),"Deleting the current page, you would delete ",l>1?"all of them":"it",".")),Rt.createElement(S,null,c.map(u=>Rt.createElement(ds,{key:u.id,layout:"wide",icon:()=>Rt.createElement(So,{kind:"danger",icon:v.Trashcan}),title:u.title,buttons:[Rt.createElement(W,{size:"medium",kind:"secondary",onPress:()=>{r(),i(e,u.id)}},"Open")]})))):null}function _3(t){let{page:o,document:e,conflictType:r,pageWithComments:n,pageIsDiff:i}=t,a=r===!1,[,c]=I(Tte),l=Ut(),[u,d]=Sr(),p=wo(),m=qi.getDocumentConflicts(e),f=m.isEmpty(),h=()=>{We(l),f&&d(async()=>{await l.change(w=>{w.resolveConflict(o.id)}),l.revision.conflicts||p.notify({kind:"success",icon:v.CheckCircle,title:"All conflicts have been resolved",details:"You can now merge this change request."})})},y=()=>{switch(r){case"deleted-in-head":case"deleted-in-base":case"deleted-in-base-subtree-modified-in-head":case"deleted-in-head-subtree-modified-in-base":return be.createElement(Ete,{...t,conflictType:r,onPressMarkAsResolved:h,loading:u,hasBeenResolved:a});case"document-conflict":return be.createElement(Rte,{conflictNodes:m,canBeResolved:f,loading:u,onPressMarkAsResolved:h,hasBeenResolved:a,...t});case!1:return null;default:qe(r)}};return be.createElement(S,{style:[b.directionRow,b.justifyContentCenter,g.Margin.mediumBottom,c.alert]},be.createElement(S,{style:[b.flex1,n||i?c.alertWithComments:c.alertFullWidth]},be.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.mediumVertical,g.Padding.mediumHorizontal,c.alertInner]},y())))}var Rte=t=>{let{hasBeenResolved:o,canBeResolved:e,loading:r,conflictNodes:n,onPressMarkAsResolved:i}=t,[,a]=I(B),c=be.useRef(),l=m=>{let f=js(m);f&&BN(f)},u=m=>{var w;let h=(c.current?n.findIndex(C=>C.key===c.current):-1)+m;h<0?h=n.size-1:h>=n.size&&(h=0);let y=(w=n.get(h))==null?void 0:w.key;y&&(c.current=y,l(y))},d=()=>{u(1)},p=()=>{u(-1)};return be.createElement(S,{style:[b.flex1,b.directionColumn]},be.createElement(S,{style:[b.directionRow]},be.createElement(S,{style:g.Margin.mediumRight,testID:"conflictBanner.badge"},o?be.createElement(So,{kind:"success",size:"large",icon:v.Check}):be.createElement(So,{kind:"merge",size:"large",icon:v.Conflict})),be.createElement(S,{style:[b.flex1,b.directionColumn]},be.createElement(F,{style:[a.Label,a.textMid],testID:"conflictBanner.message"},o?"All conflicts with the primary content have been resolved for this page.":be.createElement(be.Fragment,null,"This page has ",e?"no":n.size," ","unresolved"," ",be.createElement(Vi,{count:n.size,singular:"conflict",plural:"conflicts"})," ","with the primary content."," ",e?"Confirm by marking this page as resolved.":"Resolve them by editing this document.")),o?null:be.createElement(S,{style:[b.directionRow,b.wrap]},e?null:be.createElement(S,{style:[b.directionRow,b.wrap,g.Margin.smallBottom]},be.createElement(W,{style:[g.Padding.noneLeft],size:"medium",rightIcon:v.ChevronUp,onPress:p,testID:"conflictBanner.prevButton"},"Prev"),be.createElement(W,{size:"medium",rightIcon:v.ChevronDown,onPress:d,style:g.Margin.smallRight,testID:"conflictBanner.nextButton"},"Next")),be.createElement(S,{style:[{marginLeft:"auto"}]},be.createElement(W,{size:"medium",kind:"secondary",title:e?"Confirm resolution of all conflicts in this page":"You need to first resolve conflicts in the document",disabled:r||!e,icon:r?Ie:v.Check,onPress:i,testID:"conflictBanner.resolveButton"},"Mark as resolved"))))))},Ete=t=>{let{hasBeenResolved:o,loading:e,onPressMarkAsResolved:r,page:n,space:i,analyticsContext:a,revision:c,conflictType:l}=t,[u,d]=be.useState(!1),[p,m]=be.useState(!1),[,f]=I(B),h=lc(c,n.id).filter(R=>{var T,E;return((T=c==null?void 0:c.conflicts)==null?void 0:T.pages[R.id])==="deleted-in-head"||((E=c==null?void 0:c.conflicts)==null?void 0:E.pages[R.id])==="deleted-in-base"}),y=()=>{let R="Do you want to keep the modified page or delete it?",T=h.length>1?"pages":"page";switch(l){case"deleted-in-base":return`This page has been deleted in the primary content, but has been modified in this change request. ${R}`;case"deleted-in-head":return`This page has been deleted in this change request, but has been modified in the primary content ${R}`;case"deleted-in-base-subtree-modified-in-head":return`This page has been deleted in the primary content but has ${h.length} conflicted child ${T}. Do you want to keep or delete it?`;case"deleted-in-head-subtree-modified-in-base":return`This page has been deleted in your change request but has ${h.length} conflicted child ${T}. Do you want to keep or delete it?`}},C=(R=>{let T=[];function E(A){var q;let V=br(c,A.id);V&&((q=c.conflicts)!=null&&q.pages[V.id])&&(T.push(V),E(V))}return E(R),T})(n),k=lc(c,n.id),_=()=>m(!0),P=()=>{if(C.length||k.length){d(!0);return}r()};return be.createElement(be.Fragment,null,be.createElement(be.Fragment,null,be.createElement(S,{style:g.Margin.mediumRight,testID:"conflictBanner.badge"},o?be.createElement(So,{kind:"success",size:"large",icon:v.Check}):l==="deleted-in-base-subtree-modified-in-head"||l==="deleted-in-head-subtree-modified-in-base"?be.createElement(So,{kind:"warning",size:"large",icon:v.Conflict}):be.createElement(So,{kind:"danger",size:"large",icon:v.Trashcan})),be.createElement(S,{style:[b.flex1]},be.createElement(F,{style:[f.Label,f.textMid],testID:"conflictBanner.message"},o?"All conflicts with the primary content have been resolved for this page.":y())),o?null:be.createElement(S,{style:[g.Margin.mediumLeft,b.directionRow]},be.createElement(S,{style:[g.Margin.mediumLeft,b.directionRow]},be.createElement(W,{size:"medium",icon:e?Ie:v.Copy,onPress:P,testID:"conflictBanner.keepButton"},"Keep"),be.createElement(W,{size:"medium",icon:e?Ie:v.Trashcan,onPress:_,testID:"conflictBanner.deleteButton"},"Delete")))),be.createElement(xt,null,u?be.createElement(k3,{page:n,revision:c,analyticsContext:a,onClose:()=>d(!1),parentPages:C,childPages:k}):null),be.createElement(xt,null,p?be.createElement(gb,{space:i,page:n,revision:c,analyticsContext:a,onClose:()=>m(!1)}):null))},Tte=z.create({alert:t=>({position:"sticky",top:-M.RADIUS_L,right:0,left:0,zIndex:1}),alertInner:t=>({borderRadius:M.RADIUS_L,borderWidth:1,borderColor:t.colors.border.mid,backgroundColor:t.colors.background.main,...t.shadows.tight}),alertFullWidth:{maxWidth:Tn+2*Bt},alertWithComments:{maxWidth:Tn+Bt}});s();var Oe=x(O());G();var R3=cy({width:1448,height:240}),Lte=H.createInteractiveComponent(R3.View);function Fk(t){let{page:o}=t;return o.cover?Oe.createElement(Oe.Suspense,{fallback:Oe.createElement(Dte,null)},Oe.createElement(Nte,{...t,page:o})):null}function Dte(t){return Oe.createElement(S,{style:[Ts.pageCover]},Oe.createElement(E3,null))}function Nte(t){let{page:o,revision:e,readOnly:r,rounded:n,analyticsContext:i}=t,[a,c]=Oe.useState(!1),l=Ot(),u=Ut(),d=et(),[p,m]=Sr(),f=P3(),h=null;if(o.cover.ref){let q=o.cover.ref.kind==="file"?e.files[o.cover.ref.file]:null;f=(o.cover.ref.kind==="file"?q?Gs(q==null?void 0:q.downloadURL):null:o.cover.ref.url)||f,q!=null&&q.dimensions&&(h=q.dimensions)}let y=o.cover.yPos||0,w=Oe.useMemo(()=>new or.Value(y),[o.id,o.cover.yPos]),C=Oe.useRef(y);Oe.useEffect(()=>{let q=w.addListener(({value:Y})=>{C.current=Y});return()=>{w.removeListener(q)}},[w]);let k=async()=>{We(u),c(!1),await u.change(q=>{q.movePageCover(o.id,C.current)}),ae({...i,type:"edit_reposition_cover"})},_=()=>{c(!1),w.flattenOffset(),w.setValue(y)},P=Oe.useRef(null),R=pe(P),T=Oe.useCallback(async()=>{We(u);let[q]=await l.prompt({title:"Select cover image",accept:"images",acceptURL:!0});q&&(await m(()=>u.change(Y=>{Y.addPageCover(o.id,q)})),ae({...i,type:"edit_upload_cover"}))},[i,u,o.id]),E=Oe.useCallback(async()=>{We(u),await m(()=>u.change(q=>{q.removePageCover(o.id)})),ae({...i,type:"edit_remove_cover"})},[i,u,o.id]),A=Oe.useCallback(q=>{We(u),u.change(Y=>{Y.updatePageLayout(o.id,{coverSize:q})}),ae({...i,type:"edit_cover_size",coverSize:q})},[i,u,o.id]),V=Oe.useMemo(()=>{if(r)return;let q=Mu(o).coverSize;return ce({groups:[{key:"pageCover",commands:[{key:"pageCover.select",icon:v.Image,title:"Select image",trigger:()=>{T()}},{key:"pageCover.reposition",icon:v.ImageSizeBlock,title:"Reposition",trigger:()=>{c(!0)}}]},{key:"pageCoverSize",commands:[{key:"pageCoverSize.full",icon:v.FullWidth,title:"Full width",type:1,selected:q==="full",trigger:()=>A("full")},{key:"pageCoverSize.hero",icon:v.DefaultWidth,title:"Hero width",type:1,selected:q==="hero",trigger:()=>A("hero")}]},{key:"pageCoverDanger",commands:[{key:"pageCoverDanger.remove",icon:v.Trashcan,title:"Remove cover",trigger:()=>E()}]}]})},[i,E,r,T,A,o]);return Oe.createElement(Lte,{style:[Ts.pageCover],isPDF:d},Oe.createElement(Ate,{coverUrl:f,animatedY:w,repositioning:a,rounded:n,isPDF:d,coverFileDimensions:h}),p?Oe.createElement(E3,null):null,r||d?null:Oe.createElement(H.View.Child,{style:[Ts.pageCoverButton,b.directionRow],activeStyle:"visible",inactiveStyle:a||R.opened?"visible":"hidden"},a?Oe.createElement(Oe.Fragment,null,Oe.createElement(W,{kind:"secondary",size:"medium",style:[g.Margin.smallRight],onPress:_},"Cancel"),Oe.createElement(W,{kind:"primary",size:"medium",onPress:k},"Save")):Oe.createElement(Oe.Fragment,null,o.cover?null:Oe.createElement(W,{icon:v.Image,kind:"secondary",size:"medium",style:[g.Margin.smallRight],onPress:()=>{T()}},"Change cover"),Oe.createElement(W,{ref:P,icon:v.MoreVertical,rounded:!0,size:"medium",kind:"secondary",active:R.opened,onPress:()=>{V&&R.open(V)}}))))}function Ate(t){let{coverUrl:o,animatedY:e,repositioning:r,isPDF:n,rounded:i,coverFileDimensions:a}=t,c=mi(),l=Oe.useRef(null),[u,d]=Oe.useState(a),[p,m]=R3.useDimensions(),f=u?Bte(p,u):0,[,{pageCoverRounded:h}]=I(Wte),y=Oe.useMemo(()=>Tf.create({onStartShouldSetPanResponder:(P,R)=>!1,onStartShouldSetPanResponderCapture:(P,R)=>!1,onMoveShouldSetPanResponder:(P,{dx:R})=>r,onMoveShouldSetPanResponderCapture:(P,R)=>!1,onPanResponderGrant:(P,{dx:R})=>{e.extractOffset()},onPanResponderMove:(P,{dy:R})=>{e.setValue(R/f)},onPanResponderTerminationRequest:(P,R)=>!0,onPanResponderRelease:(P,{dy:R})=>{e.flattenOffset()}}),[f,r]),w=u?u.width*f:0,C=u?u.height*f:0,k=(p.height-C)/2,_=!!u&&m;return Oe.createElement(S,{...y.panHandlers,style:[Q.absoluteFill,Ts.pageCoverInner,r&&qte.pageCoverRepositioning,i&&h],..._?{testID:"page.cover"}:{}},!n&&Oe.createElement(S,{style:[Ts.pageCoverOverlay,c.color==="dark"&&Ts.pageCoverOverlayDark,_&&Ts.pageCoverOverlayReady]}),Oe.createElement(T_,{ref:l,source:{uri:o},loading:"priority",style:[Ts.pageCoverImage,w&&C?{top:n?0:or.diffClamp(or.add(k,or.multiply(e,f)),-(C-p.height),0),left:(p.width-w)/2,width:w,height:C}:{width:"100%",top:e}],onLoad:()=>{var P,R,T,E;d({width:(R=(P=l.current)==null?void 0:P.width)!=null?R:0,height:(E=(T=l.current)==null?void 0:T.height)!=null?E:0})}}))}function E3(){return Oe.createElement(S,{style:Ts.pageCoverLoadingOverlay},Oe.createElement(Ie,{size:"large"}))}function Bte(t,o){let e=t.width/o.width,r=t.height/o.height;return o.height*e<t.height?r:e}var qte=Q.create({pageCoverRepositioning:{cursor:"grab"}}),Wte=z.create({pageCoverRounded:t=>({borderRadius:t.radiuses.xlarge})}),Ts=Q.create({pageCoverOverlay:{position:"absolute",inset:0,opacity:1,zIndex:1,transitionDelay:"200ms",transition:"opacity 500ms ease-in, z-index 1000ms ease-in",backgroundColor:"rgba(255,255,255,.2)",backdropFilter:"blur(10px)"},pageCoverOverlayDark:{backgroundColor:"rgba(0,0,0,.2)"},pageCoverOverlayReady:{zIndex:-1,opacity:0},pageCover:{position:"relative",width:"100%",height:240},pageCoverInner:{overflow:"hidden"},pageCoverImage:{position:"absolute",left:0,right:0,objectFit:"cover",pointerEvents:"none"},pageCoverButton:{position:"absolute",bottom:g.medium,right:g.medium},pageCoverLoadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:$.GREY_BLUE_LIGHT,justifyContent:"center",alignItems:"center"}});s();var Ne=x(O());G();s();var Wl=JSON.parse('{"pageHeaderContainer":"pageHeaderContainer_f8iPF","pageControls":"pageControls_65PGe","hiddenIcon":"hiddenIcon_MYEiw","revealOnHover":"revealOnHover_QTUA-"}');s();var Fte=Lt({key:"pageOptionsAtom",default:null});function Ti(t){let o=Hr(Fte);return o===null?Mu(t):o.layoutOptions}var Pd={mobile:"MobileMainTitle",desktop:"MainTitle"},zte=Z.createResponsiveComponent(Vn),nQe=Z.createResponsiveComponent(I3),Vte=Z.createResponsiveComponent(yt),M3=Ne.memo(function(o){let{space:e,revision:r,page:n,changeRequest:i,readOnly:a,onSubmitDescription:c,analyticsContext:l,withDiff:u,toolbar:d}=o,[p,m]=I(B),[,f]=I(Gte),h=et(),y=ue(),{navigate:w}=we(),[C,k]=Sr(),_=Ut(),P=Ne.useRef(null),R=[m.Description,m.textMuted],T=Ti(n),E=async Be=>{We(_),await _.change(le=>{le.renamePage(n.id,Be)}),ae({...l,type:"edit_page_title",pageKind:n.type})},A=async Be=>{We(_),await _.change(le=>{le.setPageDescription(n.id,Be)}),ae({...l,type:"edit_page_description",pageKind:n.type})},V=Be=>{Be.nativeEvent.key==="Enter"&&(Be.preventDefault(),P.current&&P.current.focus())},q=Be=>{Be.nativeEvent.key==="Enter"&&(Be.preventDefault(),c&&c())},Y=()=>{k(async()=>{We(_),await _.change(Be=>{Be.addPageCover(n.id)}),ae({...l,type:"edit_add_cover"})})},te=!T.title,X=!T.description,re=te&&X||!te,_e=te&&!X;return Ne.createElement(ee,{style:[D.position.relative,D.flex.column,a?D.padding.xlargeTop:Wl.pageHeaderContainer,te&&X?null:D.margin.largeBottom]},a?null:Ne.createElement(ee,{style:[Wl.pageControls,Wl.revealOnHover,D.margin.smallTop,D.flex.row,D.gap.xsmallColumnGap]},Ne.createElement(W,{kind:"default",size:"xsmall",style:[g.Padding.noneLeft],icon:v.Options,onPress:()=>w({screen:{sideSheet:{type:"page"}}})},"Page options"),Eu(n)?null:Ne.createElement(W,{kind:"default",size:"xsmall",icon:C?Ie:v.Image,disabled:C,onPress:Y},"Page cover")),!a&&(te||X)?Ne.createElement(ee,{style:[Wl.revealOnHover,D.margin.smallTop,D.gap.smallColumnGap]},te?Ne.createElement(ee,{style:[D.flex.alignCenter,D.gap.xsmallColumnGap]},Ne.createElement(v.EyeOff.CSS,{style:[Wl.hiddenIcon]}),Ne.createElement(wr,{style:[D.text.label,D.textColor.muted]},"Page title hidden")):null,X?Ne.createElement(ee,{style:[D.flex.alignCenter,D.gap.xsmallColumnGap]},Ne.createElement(v.EyeOff.CSS,{style:[Wl.hiddenIcon]}),Ne.createElement(wr,{style:[D.text.label,D.textColor.muted]},"Page description hidden")):null):null,Ne.createElement(ee,{style:[D.flex.row,D.flex.justifySpaceBetween,D.flex.alignCenter,te&&X?D.margin.autoLeft:null]},te?null:Ne.createElement(S,{style:[b.directionRow,b.flex1]},Ne.createElement(Z.View,{style:[b.directionRow,b.justifyContentEnd,b.alignCenter],mobileStyle:f.emojiWrapperMobile,desktopStyle:f.emojiWrapperDesktop},n.emoji||!a?Ne.createElement(Z.View,{mobileStyle:[zk.pageEmojiRelative,g.Padding.noneLeft,g.Padding.mediumRight],desktopStyle:[zk.pageEmojiAbsolute,g.Padding.mediumLeft,g.Padding.mediumRight]},Ne.createElement(s3,{analyticsContext:l,page:n,readOnly:a,size:M.ICON_XL})):null),a?Ne.createElement(S,{style:[b.flex1]},Ne.createElement(Vte,{testID:"page.title",tag:"h1",style:[m.text],selectable:!0,mobileStyle:m[Pd.mobile],desktopStyle:m[Pd.desktop]},n.title)):Ne.createElement(zte,{key:n.id,testID:"page.title",component:T3,value:n.title,maxLength:Ip,style:[m.text,b.flex1,m.Body],onChangeText:E,onKeyPress:V,placeholder:y("untitled_page"),placeholderTextColor:p.colors.text.muted,mobileStyle:m[Pd.mobile],desktopStyle:m[Pd.desktop]})),h||!d?null:re&&Ne.createElement(d,{space:e,changeRequest:i,revision:r,page:n,analyticsContext:l,readOnly:a})),Ne.createElement(ee,{style:[D.flex.row,D.flex.justifySpaceBetween,D.flex.alignCenter,te&&X?D.margin.autoLeft:null]},X?null:Ne.createElement(Z.View,{style:[te?null:g.Margin.mediumTop,b.flex1]},a?n.description?Ne.createElement(S,null,Ne.createElement(F,{style:R,selectable:!0},n.description)):u?Ne.createElement(Z.View,{style:zk.pageDescriptionDiffPlaceholder,mobileStyle:"hidden"}):null:Ne.createElement(Vn,{key:n.id,ref:P,component:T3,value:n.description,style:R,maxLength:ow,onChangeText:A,onSubmitEditing:c,onKeyPress:q,placeholder:y("page_description"),placeholderTextColor:p.colors.text.muted})),h||!d?null:_e&&Ne.createElement(d,{space:e,changeRequest:i,revision:r,page:n,analyticsContext:l,readOnly:a})),null)}),T3=Ne.forwardRef(function(o,e){let{style:r,...n}=o,[i,a]=Ne.useState(void 0);return Ne.createElement(ai,{ref:e,...n,multiline:!0,style:[r,typeof i<"u"?{height:i}:void 0],onContentSizeChange:l=>{l.nativeEvent.contentSize.height!==i&&a(l.nativeEvent.contentSize.height)}})}),zk=Q.create({pageEmojiRelative:{position:"relative"},pageEmojiAbsolute:{position:"absolute"},pageDescriptionDiffPlaceholder:{height:vg.mediumLarge}}),Gte=z.create({emojiWrapperMobile:{width:"auto",height:Ye[Pd.mobile].lineHeight},emojiWrapperDesktop:{height:Ye[Pd.desktop].lineHeight},pageBodyDesktopLeftMargin:{marginLeft:Bt},pageBodyMobileLeftMargin:{marginLeft:er}});s();var jt=x(O());G();var L3=Z.createResponsiveComponent(us),D3=H.createInteractiveComponent(zn),N3=jt.memo(function(o){let{revision:e,page:r,style:n}=o,{getNavigationLinkProps:i}=we(),[,a]=I(B),c=ue(),l=et(),u=H.useInteractiveComponent(v.ArrowLeft),d=H.useInteractiveComponent(v.ArrowRight),{desktopSidebarWidth:p}=jt.useContext(Hi),{nextPage:m,previousPage:f}=jt.useMemo(()=>{let k=Hte(e),_=k.findIndex(P=>P.id===r.id);return _===-1?{nextPage:null,previousPage:null}:{nextPage:Vk(k,_,1),previousPage:Vk(k,_,-1)}},[e,r.id]),{previousLinkProps:h,previousGroup:y,nextLinkProps:w,nextGroup:C}=jt.useMemo(()=>({previousLinkProps:f?i({screen:{page:oo(e,f.id)}}):void 0,previousGroup:f?br(e,f.id):null,nextLinkProps:m?i({screen:{page:oo(e,m.id)}}):void 0,nextGroup:m?br(e,m.id):null}),[e,m,f]);return!m&&!f||l?null:jt.createElement(Z.View,{style:n,desktopStyle:b.directionRow,customBreakpointsStyles:{[Wc(p)]:b.directionColumn}},f?jt.createElement(L3,{...h,style:[b.alignCenter,g.Padding.medium,b.flex1],desktopStyle:m?g.Margin.smallRight:null,customBreakpointsStyles:m?{[Wc(p)]:[g.Margin.noneRight,g.Margin.smallBottom]}:void 0},jt.createElement(S,{style:[g.Margin.mediumRight]},jt.createElement(u.Child,{size:M.XS,style:[a.textMuted],hoverStyle:a.primary})),jt.createElement(S,{style:[b.flex1,b.alignEnd]},jt.createElement(S,null,jt.createElement(F,{style:[a.Caption,a.textMuted]},y&&y.type==="group"?`${y.title} - `:"",c("previous"))),jt.createElement(D3.Child,{style:[a.Body,a.Medium,a.text],activeStyle:a.primary},f.title))):null,m?jt.createElement(L3,{...w,style:[b.alignCenter,g.Padding.medium,b.flex1],desktopStyle:f?g.Margin.smallLeft:null,customBreakpointsStyles:f?{[Wc(p)]:[g.Margin.noneLeft,g.Margin.smallTop]}:void 0},jt.createElement(S,{style:[b.flex1]},jt.createElement(S,null,jt.createElement(F,{style:[a.Caption,a.textMuted]},c("next"),C&&C.type==="group"?` - ${C.title}`:"")),jt.createElement(D3.Child,{style:[a.Body,a.Medium,a.text],activeStyle:a.primary},m.title)),jt.createElement(S,{style:[g.Margin.mediumLeft]},jt.createElement(d.Child,{size:M.XS,style:[a.textMuted],hoverStyle:a.primary}))):null)});function Hte(t){let o=[];function e(r){let n=t.pages[r];o.push(n),n.type!=="link"&&n.pages.length&&n.pages.forEach(e)}return t.rootPages.forEach(e),o}function Vk(t,o,e){let r=t[o+e];if(r)return r.type!=="document"?Vk(t,o+e,e):r}s();var Ho=x(O());G();var Kte=Z.createResponsiveComponent(us),Xte=H.createInteractiveComponent(zn);function A3(t){let{subPages:o,revision:e}=t,{desktopSidebarWidth:r}=Ho.useContext(Hi),n=ue(),[,i]=I(B);return et()?null:Ho.createElement(S,null,Ho.createElement(F,{style:[i.Body,i.text]},n("page_articles_section")),Ho.createElement(Z.View,{style:[g.Padding.largeTop,b.wrap],desktopStyle:b.directionRow,customBreakpointsStyles:{[Wc(r)]:b.directionColumn}},o.map((c,l)=>Ho.createElement(Ho.Suspense,{fallback:Ho.createElement(B3,{page:c,revision:e,index:l,totalPageNumber:o.length}),key:c.id},Ho.createElement(Ute,{page:c,revision:e,index:l,totalPageNumber:o.length})))))}function Ute(t){let{page:o}=t,e=tt(o.type==="link"?o.target:void 0);return Ho.createElement(B3,{...t,contentRef:e})}function B3(t){let{page:o,revision:e,index:r,totalPageNumber:n,contentRef:i}=t,{desktopSidebarWidth:a}=Ho.useContext(Hi),{getNavigationLinkProps:c}=we(),[,l]=I(B),u=o.emoji?H.createInteractiveComponent(wt(Ao,{code:o.emoji})):null,d=H.createInteractiveComponent((i==null?void 0:i.secondaryIcon)||Ie),p=n%2===0;return Ho.createElement(Kte,{...o.type==="link"?i?Sc(i):{}:c({screen:{page:oo(e,o.id)}}),style:[b.alignCenter,g.Padding.medium,b.flex1,{minWidth:`calc(50% - ${g.small}px)`}],desktopStyle:[r%2===0?p?g.Margin.smallRight:null:g.Margin.smallLeft,r<n-(p?2:1)?g.Margin.smallBottom:null],customBreakpointsStyles:{[Wc(a)]:[g.Margin.noneHorizontal,r<n-1?g.Margin.smallBottom:null]}},u?Ho.createElement(S,{style:[g.Margin.mediumRight]},Ho.createElement(u.Child,{size:M.XS,style:[l.textMuted],hoverStyle:l.primary})):null,Ho.createElement(Xte.Child,{style:[l.Body,l.Medium,l.text],activeStyle:l.primary},o.title),o.type==="link"&&(!i||i.secondaryIcon)?Ho.createElement(S,{style:[g.Margin.mediumLeft]},Ho.createElement(d.Child,{size:M.XS,style:[l.textMuted],hoverStyle:l.primary})):null)}s();var Qn=x(O());G();s();var Gk=x(O());function Rd(t){let{space:o,changeRequest:e,analyticsContext:r,page:n,onClose:i}=t;return Ou({screen:"space_import",...r},[o.key,e==null?void 0:e.key]),Gk.createElement(yn,null,Gk.createElement(q3,{target:{page:n,space:o,changeRequest:e==null?void 0:e.key},onClose:i}))}function W3(t){let{space:o,changeRequest:e,analyticsContext:r}=t,{navigate:n}=we(),[i,a]=I(jte),c=et(),[l,u]=Qn.useState(null);return c?null:Qn.createElement(Qn.Fragment,null,Qn.createElement(xt,null,l==="import"?Qn.createElement(Rd,{space:o,changeRequest:e,analyticsContext:r,onClose:()=>{u(null)}}):null),Qn.createElement(S,{style:[g.Padding.smallHorizontal,g.Padding.smallVertical,g.Margin.mediumTop,a.blankslateBox,b.directionRow,b.wrap]},Qn.createElement(W,{icon:v.Download,size:"medium",style:g.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{u("import"),ae({...r,type:"space_blank_slate_initiate",kind:"import"})}},"Import content"),el(o)?Qn.createElement(W,{icon:v.Page,size:"medium",style:g.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{n({overlay:{type:"template",space:o.key,organization:o.organization}}),ae({...r,type:"space_blank_slate_initiate",kind:"template"})}},"Use a template"):null,Qn.createElement(W,{icon:v.GitHub,size:"medium",style:g.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{n({screen:{sideSheet:{type:"gitsync"}}}),ae({...r,type:"space_blank_slate_initiate",kind:"gitsync"})}},"Sync with GitHub / GitLab"),el(o)?Qn.createElement(W,{icon:v.User,size:"medium",style:g.Margin.xsmallRight,iconTint:i.colors.primary.main,onPress:()=>{n({screen:{sideSheet:{type:"share",tab:"invite"}}}),ae({...r,type:"space_blank_slate_initiate",kind:"invite-members"})}},"Add members"):null))}var jte=z.create({blankslateBox:t=>({borderRadius:M.RADIUS_L,borderWidth:1,borderColor:t.colors.border.mid})});s();var F3=x(O());function z3(t,o,e){let r=et(),n=wg();F3.useEffect(()=>{var i;if(o&&!r&&n.current)if(o.hash){let a=window.document.getElementById(o.hash);a&&a.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}else(i=e==null?void 0:e.current)==null||i.scrollTo(0,0)},[t,o==null?void 0:o.hash,e,r])}s();var Fc=x(O());s();var oa=x(O());G();var $te=H.createInteractiveComponent(zn),Zte={[Fe]:null,[Ge]:g.Margin.smallLeft,[Mo]:null},eJe=oa.memo(function(o){let{sections:e,activeSection:r}=o,[,n]=I(B),[,i]=I(V3),a=ue();return oa.createElement(S,{style:[i.pageOutline]},oa.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.largeHorizontal,g.Margin.smallBottom]},oa.createElement(F,{style:[n.GroupTitle,n.textMuted,n.Bold]},a("outline"))),e.map(c=>oa.createElement(Qte,{key:c.key,section:c,active:r===c.key})))});function Qte(t){let{section:o,active:e}=t,[,r]=I(B),[,n]=I(V3),{navigateToHash:i}=we();return oa.createElement(H.TouchableOpacity,{style:[b.directionRow,g.Padding.largeHorizontal,n.sectionItem,e&&n.sectionItemActive],onPress:()=>{i(o.anchor)}},o.tag?oa.createElement(hn,{backgroundColor:kl[o.tag]||$.orange.base,style:[n.sectionTag,g.Margin.xsmallRight,b.alignSelfCenter]},oa.createElement(F,{style:[r.textInsideColor,r.MobileCaption,r.Bold,r.Uppercase]},o.tag)):null,oa.createElement($te.Child,{style:[r.Label,r.textMid,o.type&&Zte[o.type],e&&r.primary],hoverStyle:r.primary},o.title))}var V3=z.create({pageOutline:t=>({borderLeftWidth:1,borderLeftColor:t.colors.border.main,maxWidth:qc}),sectionItem:{paddingTop:g.xsmall,paddingBottom:g.xsmall,marginLeft:-1,borderLeftWidth:2,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:t=>({borderLeftColor:t.colors.primary.main}),sectionTag:{borderRadius:M.XXS,height:M.XXS,paddingHorizontal:g.small,justifyContent:"center"}});function G3(t,o){let e=g.large,r=t.length,n=Math.floor(Math.log2(r)+1),i=0,a=r-1,c=Math.ceil((i+a)/2),l=-1,u=null;for(let d=0;d<n;d++){let p=t[c];if(!p)return null;let m=js(p.key),f=m?m.getBoundingClientRect().top-o:null;if(f===null||f>e)a=c,c=Math.floor((i+a)/2);else{if(f>=-e&&f<=e)return t[c].key;f<e&&((u===null||f>u)&&(u=f,l=c),i=c,c=Math.ceil((i+a)/2))}}return l!==-1?t[l].key:null}var H3=.9;function K3(t,o){let[e,r]=Fc.useState(null),n=Hg(),i=Fc.useRef(0),a=Fc.useRef(null),c=Fc.useRef(new Map),l=t.length>1,u=Jte(()=>{typeof i.current!="number"&&(i.current=o.current.getBoundingClientRect().top);let p=G3(t,i.current);p!==e&&r(p)},500),d=p=>{p.forEach(f=>{let h=f.target.getAttribute("data-key");h&&c.current.set(h,f.isIntersecting&&f.intersectionRatio>=H3)});let m=Array.from(c.current.entries()).find(([,f])=>f);m&&r(m[0])};return Fc.useEffect(()=>{var p;if(!(!(o!=null&&o.current)||!l)){if(!n)(p=o.current)==null||p.addEventListener("scroll",u);else{let m=t.map(f=>js(f.key)).filter(fe);a.current=new IntersectionObserver(d,{rootMargin:`-${Go.PUBLIC_DESKTOP_HEADER_HEIGHT}px 0px -40% 0px`,threshold:H3}),m.forEach(f=>{var h;(h=a.current)==null||h.observe(f)})}return()=>{var m,f;(m=o.current)==null||m.removeEventListener("scroll",u),(f=a.current)==null||f.disconnect()}}},[o==null?void 0:o.current,l]),e}function Jte(t,o){let e=!1;return(...r)=>{e||(t.apply(this,r),e=!0,setTimeout(()=>e=!1,o))}}s();var tf=x(O());function Hk(t,o,e){let{baseRevision:r,diffMode:n,diffs:i}=tf.useContext(fb),a=Se(),c=tf.useMemo(()=>{if(!n)return null;let l;switch(n){case"quick":let d=r==null?void 0:r.pages[o];l=d&&d.type==="document"?d.document:void 0;break;case"full":let p=i.get(o);if(!p||p.type!=="modified"||p.before.page.type!=="document")return null;l=p.before.page.document;break}if(!l)return pu(o);let u=Fn(a.store.getDocument(t,l));if(!u)throw new Error(`Original page document "${l}" not found`);return du(u)},[n,r,t,o,i]);return tf.useMemo(()=>n!=="full"?[e,c]:[c?ip.create({document:gI(c.document,e.document)}):e,c],[n,c,e])}var eoe=lt("sheet"),toe=Z.createResponsiveComponent(he);function hb(t){let o=Ut(),{page:e,screen:r,scrollRef:n}=t;return z3(e.id,r,n),o?se.createElement(roe,{...t,hiveBranch:o}):se.createElement(ooe,{...t})}function ooe(t){let{space:o,page:e}=t,r=Se(),n=e.document?Fn(r.store.getDocument(o.key,e.document)):void 0,i=se.useMemo(()=>n?du(n):pu(e.id),[n]),[a,c]=Hk(o.key,e.id,i);return se.createElement(X3,{...t,value:a,baseValue:c,onChange:()=>{}})}function roe(t){let{space:o,page:e,analyticsContext:r}=t,n=_u(),i=Ut();We(i),h3(i);let a=vN({branch:i,pageId:e.id,presence:{userId:n.uid,userDisplayName:n.displayName}});se.useEffect(()=>()=>{a.dataSync.flushBatchUpdates()},[a]),se.useEffect(()=>{i.openPage(a.pageId)},[]);let c=d3({analyticsContext:r,hivePage:a}),l=CN(a),u=se.useMemo(()=>[l],[l]),[d,p,m]=bN(a),[f,h]=Hk(o.key,e.id,d),y=se.useCallback(k=>{m(k),k.value.document!==k.initialValue.document&&c()},[m]);return se.createElement(X3,{...t,value:f,baseValue:h,onChange:y,selections:p,uploadFiles:async k=>{let _=[],P=await KS({kind:"space_file",space:o.key},k);return await i.change(R=>{P.forEach(T=>{let E=jL(T,n.uid);_.push({kind:"file",file:E.id}),R.insertFile(E)})}),_.forEach((R,T)=>{eoe.info(`file ${R.file} uploaded (${T+1} / ${_.length})`)}),_},updateFile:async(k,_)=>{let[P]=await KS({kind:"space_file",space:o.key},[_]);await i.change(R=>{R.updateFile(k.file,P)})},editorPlugins:u})}function X3(t){var If,O1;let{space:o,revision:e,page:r,changeRequest:n,readOnly:i=!0,value:a,baseValue:c,onChange:l,selections:u,uploadFiles:d,updateFile:p,withComments:m,analyticsContext:f,withToC:h,outline:y,toolbar:w,footer:C,withDiff:k,scrollRef:_,sideColumnStickyTop:P,editorPlugins:R}=t,{mode:T}=se.useContext(Qo),E=se.useRef(null),{pages:A,setContentDiffPage:V}=se.useContext(m3),q=Ia(),Y=HP({spaceId:o.key}),te=ue(),X=et(),re=se.useRef(),{sections:_e,sectionIDs:Be}=se.useMemo(()=>{let St=vI(a.document,re.current),$a=tg(a.document,St).filter(ou=>ou.parentType==="document"&&ou.type!==null&&[Fe,Ge,Mo].includes(ou.type));return{sectionIDs:St,sections:$a}},[a.document,re]);re.current=Be;let le=q.screen.type==="space"&&((If=q.screen.sideSheet)==null?void 0:If.type)==="comments"?{commentKey:q.screen.sideSheet.comment,nodeKey:q.screen.sideSheet.node}:void 0;se.useEffect(()=>{var St;le!=null&&le.commentKey&&(le!=null&&le.nodeKey)&&((St=js(le.nodeKey))==null||St.scrollIntoView())},[le==null?void 0:le.commentKey]);let ct=se.useRef(null),dt=se.useCallback(()=>{let St=ct.current;if(!St)return;let $a=St.value.change();ns($a.value.document)||$a.collapseToStartOf(St.value.document),$a.focus(),l($a)},[ct]),Yo=se.useMemo(()=>A.find(St=>St.page.id===r.id&&St.diff),[A,r.id]),zr=St=>{l(St),!Yo&&n&&!a.document.equals(St.value.document)&&V({diff:"modified",page:r})},pt=dt,pn=_e.length>1,Eo=!y||X,$t=K3(_e,_),Fs=se.useCallback(St=>{ae({...f,...St})},[f]),{desktopSidebarWidth:pa}=se.useContext(Hi),{customBreakpointsOutlineStyles:Vr,customBreakpointsPageBodyStyles:An}=se.useMemo(()=>{let St=T==="public-content"?1280:ef(2,pa);return{customBreakpointsOutlineStyles:{[St]:"hidden"},customBreakpointsPageBodyStyles:{[St]:b.justifyContentCenter}}},[T,pa]),U=Lk(pa,pb),ie=(O1=e.conflicts)==null?void 0:O1.pages[r.id],j=ns(a.document),Pe=j&&Object.keys(e.pages).length===1&&!i,{diffs:je}=se.useContext(fb),zt=je.has(r.id),[$e,Mt]=x3({isDiffViewEnabled:k,isCommentMarginVisible:m,isFullPage:h||Eo}),ht=z6(),po=se.useCallback(St=>{St?ht.highlight(St,{highlighting:!1,postButton:!0}):ht.highlight(null)},[ht]),hr=!q.overlay&&j&&!i;se.useEffect(()=>{hr&&dt()},[r.id,hr,dt]);let Gr=Ti(r),Bn=Eu(r)&&!!Gr.cover,Zc=Gr.coverSize,IS=!Gr.pagination||o.showPagination===!1,_S=se.useCallback(()=>{let{data:St}=xP({operationId:"listSpaceIntegrationsBlocks",params:{spaceId:o.key},query:{}}),$a={};return St.forEach(ou=>{$a[ou.name]=ou.blocks}),$a},[o.key]);return se.createElement(se.Fragment,null,Bn&&Zc==="full"?se.createElement(ee,{style:T==="public-content"&&!h?c3.pageCoverBleedFull:null},se.createElement(Fk,{revision:e,page:r,readOnly:i,analyticsContext:f})):null,se.createElement(S,{ref:E,style:[b.flex1,b.directionRow]},se.createElement(w3,{style:[D.flex.flex1,D.flex.column]},Bn&&Zc==="hero"?se.createElement(_d,null,se.createElement(ee,{style:[D.flex.flex1,D.margin.mediumTop]},se.createElement(Fk,{revision:e,page:r,readOnly:i,analyticsContext:f,rounded:!0}))):null,se.createElement(he,{tag:"main",style:[b.flex1,b.directionColumn]},se.createElement(_d,null,se.createElement(Z.View,{style:[b.flex1,b.directionRow],customBreakpointsStyles:An},se.createElement(S,{style:[b.flex1]},se.createElement(M3,{space:o,revision:e,page:r,changeRequest:n,readOnly:i,onSubmitDescription:pt,analyticsContext:f,withDiff:k,toolbar:w})))),se.createElement(Z.View,{desktopStyle:X?void 0:g.Padding.xlargeBottom},ie!==void 0?se.createElement($e,{renderMode:"marginless-centered"},se.createElement(_3,{space:o,page:r,revision:e,document:a.document,pageIsDiff:k,conflictType:ie,analyticsContext:f})):null,i&&j&&r.pages.length?se.createElement($e,{renderMode:"centered"},se.createElement(A3,{subPages:r.pages.map(St=>e.pages[St]),revision:e})):se.createElement(X6,{withComments:m,spaceKey:o.key,pageKey:r.id,changeRequestKey:n==null?void 0:n.key},se.createElement(U3,{ref:ct,value:a,baseValue:c,selections:u,onChange:zr,readOnly:i,isDiff:zt,logAnalyticsEvent:Fs,uploadFiles:d,updateFile:p,placeholder:"Enter your content here\u2026",sectionIDs:Be,selectedSection:q.screen.hash||null,blockLayoutComponent:$e,rightGutterComponent:Mt,getIntegrationsBlocks:_S,integrationBlocksRemote:Y,onBlockHover:po,plugins:R}),Pe?se.createElement($e,{renderMode:"centered"},se.createElement(W3,{space:o,analyticsContext:f,changeRequest:n})):null),Pe?null:se.createElement(_d,{style:D.margin.largeTop},se.createElement(Z.View,{style:[b.flex1,b.directionRow],customBreakpointsStyles:An},se.createElement(S,{style:[b.flex1]},se.createElement(Z.View,null,IS?null:se.createElement(N3,{analyticsContext:f,space:o,revision:e,page:r,style:g.Margin.largeBottom}),C||null))))))),Eo?null:se.createElement(toe,{tag:"aside",accessibilityLabel:te("page_outline"),testID:"page.outline",style:[Kk.pageSideColumn,g.Margin.largeVertical,{top:P!==void 0?P:g.large,maxHeight:P!==void 0?`calc(100vh - ${P}px)`:`calc(100vh - ${Ek+g.large}px)`},T==="app"?Kk.pageSideMaxWidth:Kk.pageSidePublicMaxWidth],mobileStyle:"hidden",desktopStyle:{width:U},customBreakpointsStyles:Vr},pn?se.createElement(y,{sections:_e,activeSection:$t}):null)))}var Kk=Q.create({pageSideMaxWidth:{maxWidth:qc},pageSidePublicMaxWidth:{maxWidth:qc},pageSideColumn:{position:"sticky",overflowY:"auto",alignSelf:"flex-start"},pageBody:{maxWidth:Tn+2*Bt},pageBodyWithComments:{maxWidth:Tn+Bt,marginRight:0},pageBodyDesktopRightPadding:{paddingRight:Bt},pageBodyMobileRightPadding:{paddingRight:er},pageBodyPDFRightPadding:{paddingRight:er},pageBodyDesktopLeftMargin:{marginLeft:Bt},pageBodyMobileLeftMargin:{marginLeft:er},pageBodyPDFLeftMargin:{marginLeft:er}});s();var Xk=x(O());G();function vb(t){let{withPageOutline:o=!0}=t;return Xk.createElement(Z.View,{style:[b.directionRow,b.justifyContentCenter],desktopStyle:[g.Padding.xxlargeTop,yb.pageSheetLoadingDesktop,o&&yb.pageSheetLoadingDesktopWithOutline],mobileStyle:[g.Padding.mediumTop,yb.pageSheetLoadingMobile]},Xk.createElement(No,{size:"xlarge",style:yb.pageBody}))}var yb=Q.create({pageSheetLoadingDesktop:{paddingRight:Bt,paddingLeft:Bt},pageSheetLoadingDesktopWithOutline:{paddingRight:qc+Bt},pageSheetLoadingMobile:{paddingLeft:er,paddingRight:er},pageBody:{maxWidth:Tn+2*Bt}});s();var Mr=x(O());s();var Qe=x(O());G();function j3(t){let{revision:o,analyticsContext:e,page:r,onClose:n}=t,i=Qe.useRef(null),[,a]=I(B),[c,l]=Qe.useState(r.title),[u,d]=Qe.useState(r.emoji),[p,m]=Qe.useState("slug"in r&&r.slug?r.slug:""),[f,h]=Qe.useState(r.type==="link"?r.target:void 0),y=Ut(),w=br(o,r.id),C=w?oo(o,w.id):"",k=r.type!=="link"?VI(o,r.id,c):"",_=async()=>{We(y),await y.change(T=>{T.updatePage(r.id,r.type!=="link"?{title:c,emoji:u,slug:p?NS(p):void 0}:{title:c,emoji:u,target:f})}),r.title!==c&&ae({...e,type:"edit_page_title",pageKind:r.type}),r.type!=="link"&&p&&r.slug!==p&&ae({...e,type:"edit_page_path",pageKind:r.type}),r.emoji!==u&&ae({...e,...u?{type:"edit_pick_page_emoji",pageKind:r.type,emoji:u}:{type:"edit_remove_page_emoji",pageKind:r.type}}),n()},P=T=>{var E;(E=i.current)==null||E.close(),d(T)},R=Qe.useMemo(()=>u?wt(Ao,{code:u}):null,[u]);return Qe.createElement(Co,{title:"Edit page",onClose:n,footer:Qe.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},Qe.createElement(W,{kind:"secondary",onPress:n,style:g.Margin.smallRight},"Cancel"),Qe.createElement(Sp,{kind:"primary",onPress:_},"Save"))},Qe.createElement(S,{style:[g.Margin.largeBottom]},Qe.createElement(S,{style:[g.Margin.smallBottom]},Qe.createElement(xu,null,"Title")),Qe.createElement(S,{style:[b.directionRow,b.alignEnd]},Qe.createElement(S,{style:[g.Margin.mediumRight]},Qe.createElement(Xs,{ref:i,wrapper:hi,anchor:({ref:T,opened:E,toggle:A})=>Qe.createElement(W,{ref:T,active:E,onPress:A,kind:"secondary",size:"large",icon:R||v.EmojiReaction})},Qe.createElement(Cr,{kind:"wide"},Qe.createElement(vy,{onPick:P,onRemove:u?()=>P(void 0):void 0})))),Qe.createElement(S,{style:[b.flex1]},Qe.createElement(no,{size:"large",value:c,onChangeText:l,onSubmit:_})))),r.type==="link"?Qe.createElement(S,null,Qe.createElement(Ty,{label:"Reference",size:"large",value:f,onChangeValue:h})):Qe.createElement(S,null,Qe.createElement(no,{label:"Slug",size:"large",prefix:`${C}/`,value:p,placeholder:k,onChangeText:m,onSubmit:_,feedback:p&&!Y1(p)?{type:"warning",message:Qe.createElement(Qe.Fragment,null,"The page slug contains unsupported characters for an URL. Saving will replace it by"," ",Qe.createElement(F,{style:[a.Bold]},NS(p)),".")}:void 0})))}s();var an=x(O());s();var ra=x(O());G();function Y3(t){let{onClose:o,onSubmit:e}=t,[r,n]=ra.useState(""),[i,a]=ra.useState(),c=async()=>{i?e(rR({title:r,target:i})):o()};return ra.createElement(Co,{title:"Insert link",onClose:o,subtitle:"Insert a link to external content in your content navigation, this link will open in a new tab.",footer:ra.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},ra.createElement(W,{kind:"secondary",onPress:o,style:g.Margin.smallRight},"Cancel"),ra.createElement(W,{kind:"primary",onPress:c,disabled:!i},"Insert"))},ra.createElement(S,{style:[g.Margin.largeBottom]},ra.createElement(no,{autoFocus:!0,label:"Title",size:"large",placeholder:"Enter title to display",value:r,onChangeText:n})),ra.createElement(Ty,{label:"To",size:"large",placeholder:"Paste in or type a url",value:i,onChangeValue:a}))}function $3(t){let{space:o,revision:e,changeRequest:r,analyticsContext:n,parent:i}=t,{navigateToPage:a}=bc(),[c,l]=an.useState(null),u=Ut(),d=an.useCallback(y=>{We(u);let w=u.syncChange(C=>{let k=typeof y=="function"?y(C):y;return C.insertPage(k,{into:i}),k});ae({...n,type:"edit_create_page",pageKind:w.type}),w.type!=="link"&&a(u.revision,w.id)},[u,a]),p=an.useCallback(()=>{We(u);let y=u.syncChange(w=>{let C=WI({title:w.getUniquePageTitle("Group",!0)}),k=mp({title:w.getUniquePageTitle("Page",!0)});return w.insertPage(C,{into:i}),w.insertPage(k,{into:C.id}),k});ae({...n,type:"edit_create_page",pageKind:"group"}),a(u.revision,y.id)},[e,u,a]),m=an.useMemo(()=>ce({groups:[{key:"insertPage",commands:[{key:"insertPage.sheet",icon:v.Page,title:"New document page",trigger:()=>{d(y=>mp({title:y.getUniquePageTitle("Page",!0)}))}},i?null:{key:"insertPage.group",icon:v.AddPageGroup,title:"New group",trigger:()=>{p()}},{key:"insertPage.link",icon:v.Link,title:"New link",trigger:()=>{l("link")}}].filter(fe)},{key:"insertExisting",commands:[{key:"insertExisting.import",icon:v.Download,title:"Import new pages",trigger:()=>{l("import")}}].filter(fe)}]}),[e,i,p,d]),f=()=>{l(null)};return[an.createElement(an.Fragment,null,an.createElement(xt,null,c==="link"?an.createElement(Y3,{onClose:f,onSubmit:y=>{d(y),l(null)}}):null),an.createElement(xt,null,c==="import"?an.createElement(Rd,{space:o,changeRequest:r,page:i,analyticsContext:n,onClose:f}):null)),m,d]}function bb(t,o=[]){let{space:e,revision:r,changeRequest:n,page:i,analyticsContext:a,readOnly:c}=t,[l,u]=Mr.useState(null),d=Se(),p=Ut(),{getNavigationHref:m,navigateToPage:f}=bc(),{navigate:h}=we(),y=Mr.useContext(Qo),w=ue(),C=kg(),[k,_,P]=$3({space:e,revision:r,changeRequest:n,parent:i.id,analyticsContext:a}),R=Object.keys(r.pages).length>1,T=Mr.useMemo(()=>{var A,V,q,Y,te;return ce({groups:[c?null:{key:"pageEdit",commands:[i.type!=="link"?{key:"pageEdit.insert",icon:v.AddPageGroup,title:"Insert subpage",descendant:()=>_,trigger:()=>{P(X=>mp({title:X.getUniquePageTitle("Page",!0)}))}}:null,i.type!=="link"?{key:"pageEdit.import",icon:v.Download,title:"Import subpages",trigger:()=>{u("import")}}:null,i.type==="document"&&Eu(i)?{key:"pageEdit.addCover",icon:v.Image,title:"Add cover",trigger:async()=>{We(p),await p.change(X=>{X.addPageCover(i.id)}),ae({...a,type:"edit_add_cover"})}}:null,{key:"pageEdit.edit",icon:v.Type,title:i.type==="link"?"Edit":"Rename",trigger:()=>{u("edit")}},{key:"pageEdit.duplicate",icon:v.PageDuplicate,title:"Duplicate",trigger:async()=>{We(p);let X=await d.duplicateContent({contentId:p.contentId,branchId:p.branchId},{contentId:p.contentId,branchId:p.branchId,pageId:i.id});ae(mg(e,i,{...a,type:"edit_duplicate_page",pageKind:i.type})),i.type!=="link"&&f(p.revision,X.pageId)}},i.type==="document"?{key:"pageEdit.options",icon:v.Options,title:"Options",trigger:()=>{h({screen:{sideSheet:{type:"page"}}})}}:null,R?{key:"pageEdit.delete",icon:v.Trashcan,title:"Delete",trigger:()=>{u("delete")}}:null].filter(fe)},{key:"pageRead",commands:[i.type==="document"&&(e.hasPDFExport||y.mode!=="public-content")?{key:"pageRead.export",icon:v.PDF,title:w("export_pdf"),testID:"page.exportButton",trigger:()=>{f(r,i.id,{sideSheet:{type:"share",tab:"pdf"}})}}:null,i.type!=="link"?{key:"pageRead.copyURL",icon:v.Link,title:w("copy_link"),trigger:()=>{let X=m(r,i.id),re=`${window.location.origin}${X}`;C.writeTextAndNotify(re,{title:"Page URL copied to clipboard"})}}:null,i.type!=="link"&&e.showEditOnGitProvider&&((A=e.git)!=null&&A.url)&&((V=e.git)!=null&&V.installationProvider)&&((q=i.git)!=null&&q.filePath)&&y.mode==="public-content"?{key:"pageRead.editOnGitHub",icon:ZP[(Y=e.git)==null?void 0:Y.installationProvider],title:w("edit_on_github",QP[(te=e.git)==null?void 0:te.installationProvider]),trigger:()=>{var X,re;window.location.assign(`${(X=e.git)==null?void 0:X.url}/${(re=i.git)==null?void 0:re.filePath}`)}}:null,...o].filter(fe)}].filter(fe)})},[c,e,r,i,R,y.mode,m,f,n,o,d,p]),E=()=>{u(null)};return[Mr.createElement(Mr.Fragment,null,k,Mr.createElement(xt,null,l==="edit"?Mr.createElement(j3,{revision:r,page:i,analyticsContext:a,onClose:E}):null),Mr.createElement(xt,null,l==="delete"?Mr.createElement(gb,{space:e,page:i,revision:r,analyticsContext:a,onClose:E}):null),Mr.createElement(xt,null,l==="import"?Mr.createElement(Rd,{space:e,changeRequest:n,page:i.id,analyticsContext:a,onClose:E}):null)),T]}var noe=[{size:25,label:"Small"},{size:50,label:"Medium"},{size:75,label:"Large"},{size:100,label:"Fit"}];function Z3(t,o){let e=typeof t=="number"?t:t==null?void 0:t.value,r=typeof t=="number"?"px":t==null?void 0:t.unit;return`${e||100}${r||o}`}function Q3(t,o){return typeof t=="number"?`${t}px`:(t==null?void 0:t.unit)==="px"?`${t.value}${t.unit}`:o}async function ioe(t,o,e){let r=o.nodes.toArray().map(a=>{let{ref:c}=a.data.toFrozenObject();return c}),n={url:"",broken:!0},i=r.map(a=>O7(t,a,e).then(({uri:c})=>typeof c!="string"||c===""?n:{url:c,broken:!1}).catch(()=>n));return Promise.all(i)}function J3(t){let{node:o,parent:e,isSelected:r,attributes:n,editor:i}=t,{readOnly:a}=i,{ref:c,height:l,width:u}=o.data.toFrozenObject(),d=zv(i,o.key),{logAnalyticsEvent:p}=xe.useContext(ze),m=My(c),f=Se(),h=ut(),[,y]=I(Uk),w=id(),C=H.useInteractiveState(),k=e.nodes.size>1,[{dragging:_},P]=Aa({type:"block",item:{id:o.key,type:"block",blockType:o.type,previewLabel:"Move image"},canDrag:()=>!a,collect:le=>({dragging:le.isDragging()})}),R=H.useInteractiveState(),[T,E]=xe.useState(null),A=Lo.getImageAltText(o),V=Z3(u,"%"),q=Z3(l,"%"),Y=Q3(l,"auto"),te=Q3(u,"100%"),X=()=>{E("alt")},re=()=>{E(null)},_e=async()=>{if(!m||!m.uri)return;let le=await ioe(f,e,h),ct=e.getChildIndex(o.key);w.open(le,ct)},Be=le=>{if(!m)return;p({type:"edit_page_document_edit_block_property",blockType:Bi,blockProperty:"size",fromValue:void 0,toValue:le.label});let ct=loe(m,le.size);i.change(dt=>{l&&dt.removeDataPathByKey(o.key,["height"]),ct?dt.insertDataByKey(o.key,["width"],ct):dt.removeDataPathByKey(o.key,["width"])})};return xe.createElement(xe.Fragment,null,xe.createElement(xt,null,T==="alt"?xe.createElement(ub,{...t,onClose:re}):null),xe.createElement(S,{style:[b.alignCenter,b.flex1]},xe.createElement(S,{style:[y.imageWrapper,{maxWidth:V,maxHeight:q}],...C.events,...n},xe.createElement(At,{...t},m?xe.createElement(H.TouchableOpacity,{onPress:_e,style:b.alignCenter},xe.createElement(Zo,{width:te,height:Y,source:m,accessibilityLabel:A,loading:d?"priority":"lazy",style:[y.image,_&&Ze.translucent]})):xe.createElement(aoe,{accessibilityLabel:A})),a?null:xe.createElement(xe.Fragment,null,(r||C.hovered)&&!_?xe.createElement(soe,{...t,openAltTextModal:X,setSize:Be}):null,xe.createElement(fi,{theme:{color:"dark"}},k?xe.createElement(S,{ref:P,style:[y.imageDragHandle,{display:(C.hovered||R.hovered)&&!_?"flex":"none"}],...R.events},xe.createElement(v.GrabberVertical,{size:M.ICON_S,style:[y.imageDragHandleIcon]})):null)))),xe.createElement(Mc,{...t,isSelected:t.isSelected||C.hovered}))}function aoe(t){let{style:o,...e}=t,[,r]=I(B),[,n]=I(Uk);return xe.createElement(S,{style:[b.alignCenter,b.justifyContentCenter,n.brokenImage,g.Padding.large,o],...e},xe.createElement(S,null,xe.createElement(v.CloudOff,{size:M.ICON_L,style:[r.textMuted]})),xe.createElement(S,{style:[g.Margin.mediumTop]},xe.createElement(F,{style:[r.Caption,r.textMuted]},"Could not load image")))}function soe(t){let{editor:o,node:e,openAltTextModal:r,setSize:n}=t,[,i]=I(Uk),a=Ot(),[c,l]=xe.useState(!1),u=async()=>{let[p]=await a.prompt({title:"Replace image",accept:"images",acceptURL:!0});p&&o.change(m=>{m.insertDataByKey(e.key,["ref"],p),m.removeDataPathByKey(e.key,["height"]),m.removeDataPathByKey(e.key,["width"])})},d=()=>{o.change(p=>{e&&ye.isTextRange(p.value.selection)&&!p.value.selection.hasEdgeIn(e)&&p.collapseToStartOf(e),p.focus()}),l(!0)};return xe.createElement(xe.Fragment,null,xe.createElement(S,{style:[i.imageToolbar,b.directionRow,c?i.imageToolbarOpen:null]},c?xe.createElement(xe.Fragment,null,xe.createElement(coe,{onPress:n,...t}),xe.createElement(W,{title:"ALT text",size:"small",icon:v.AltText,style:[g.Margin.smallRight],onPress:r}),xe.createElement(W,{title:"Replace",size:"small",icon:v.Replace,style:[g.Margin.smallRight],onPress:()=>u()}),xe.createElement(W,{size:"small",icon:v.X,onPress:()=>l(!1)})):xe.createElement(W,{size:"small",icon:v.MoreVertical,onPress:d})))}function coe(t){let{editor:o,node:e,onPress:r}=t,n=xe.useRef(null),i=noe.map(({size:l,label:u})=>({key:`${l}`,title:u,trigger:()=>{r({size:l,label:u})}})),a=pe(n),c=()=>{a.open(ce({position:{width:"anchor"},groups:[{key:"image.resize",commands:i}].filter(fe)})),o.change(l=>{e&&ye.isTextRange(l.value.selection)&&!l.value.selection.hasEdgeIn(e)&&l.collapseToStartOf(e),l.focus()})};return xe.createElement(xe.Fragment,null,xe.createElement(W,{ref:n,active:a.opened,size:"small",rightIcon:v.ChevronDown,onPress:c},"Size"))}function loe(t,o){let e=t.width||Go.PAGE_BODY_MAX_WIDTH;if(o===100)return;let r=Math.min(e,Go.PAGE_BODY_MAX_WIDTH);return Math.round(r*(o/100))}var Uk=z.create({imageWrapper:{position:"relative",borderRadius:M.RADIUS_M},imageCaption:{position:"relative",textAlign:"center"},image:{borderRadius:M.RADIUS_M,maxWidth:"100%"},imageToolbar:t=>({position:"absolute",top:g.small,right:g.small,padding:g.small,borderRadius:M.RADIUS_M,borderColor:t.colors.border.mid,borderWidth:1,borderStyle:"solid",backgroundColor:t.colors.background.mid,width:42,overflow:"hidden",transition:"width 50ms ease-in-out"}),imageToolbarOpen:{width:172},imageDragHandle:{position:"absolute",top:g.small,left:g.small,cursor:"grab"},imageDragHandleIcon:{textShadowColor:$.BLACK,textShadowRadius:3,color:$.WHITE},brokenImage:t=>({borderRadius:M.RADIUS_M,backgroundColor:t.colors.background.muted})});s();var De=x(O());s();var jk=JSON.parse('{"tooltip":"tooltip_8qsEs","brokenImage":"brokenImage_F5FWc"}');function eB(t){let{editor:o,node:e,parent:r,ancestors:n}=t,i=zv(o,e.key),a=De.useRef(null),c=nn(r.object==="block"?r:null),l=e.data.get("size","original"),[,u]=I(moe),d=n.some(m=>m.object==="inline"&&m.type===vr),p=m=>De.createElement(Sd,{...m,...t,style:[u.inlineFrame,l==="line"?b.alignCenter:null]},De.createElement(De.Suspense,{fallback:De.createElement(Ie,{size:"small"})},De.createElement(uoe,{node:e,parentLineHeight:c,size:l,ref:a,withPriorityLoading:i})));return o.readOnly?p(d?{}:{onPress:()=>{var m;(m=a.current)==null||m.openInGallery()}}):De.createElement(poe,{...t,anchor:p})}var uoe=De.forwardRef(function(o,e){let{node:r,parentLineHeight:n,size:i,withPriorityLoading:a}=o,c=r.data.get("ref"),l=Lo.getImageAltText(r),u=My(c),d=id();De.useImperativeHandle(e,()=>({openInGallery:()=>{u!=null&&u.uri&&d.open([{url:u.uri}])}}),[u==null?void 0:u.uri]);let p={};i==="original"?p={maxWidth:300}:p={maxHeight:n,height:n,width:"auto"};let m=De.createElement(doe,{accessibilityLabel:l});return u?De.createElement(Zo,{accessibilityLabel:l,source:u,style:p,errorFallback:m,loading:a?"priority":"lazy"}):m});function doe(t){let{accessibilityLabel:o}=t,[,e]=I(B);return De.createElement(ee,{style:jk.brokenImage,"aria-label":o},De.createElement(v.CloudOff,{size:M.ICON_M,style:e.textMuted}))}function poe(t){let{node:o,anchor:e,isFocused:r,editor:n}=t,{logAnalyticsEvent:i}=De.useContext(ze),a=De.useRef(null),c=Ot(),[l,u]=De.useState(null),d=r&&n.value.selection.isCollapsed,[p,m]=De.useState(!1);De.useEffect(()=>{if(d){m(!0);return}let C=setTimeout(()=>{m(!1)},300);return()=>{clearTimeout(C)}},[d]);let f=()=>{n.change(C=>{C.collapseToStartOf(o).focus()})},h=C=>{n.change(k=>{k.insertDataByKey(o.key,["size"],C),k.collapseToStartOf(o).focus()})},y=()=>{i({type:"edit_page_document_edit_block_type",fromType:au,toType:Bi}),n.change(C=>{Lo.replaceInlineImageWithBlock(C,o)})},w=async()=>{let[C]=await c.prompt({title:"Replace image",accept:"images",acceptURL:!0});C&&n.change(k=>{k.insertDataByKey(o.key,["ref"],C)})};return bu(()=>{var C;(C=a.current)==null||C.updatePosition()},[o.data]),De.createElement(De.Fragment,null,De.createElement(xt,null,l==="alt"?De.createElement(ub,{...t,onClose:()=>u(null)}):null),De.createElement(Ca,{ref:a,opened:d||p,anchor:({ref:C})=>e({ref:C,onPress:f})},De.createElement(Cr,{kind:"tooltip"},De.createElement(ee,{style:jk.tooltip},De.createElement(W,{size:"small",title:"Inline size",onPress:()=>h("line"),icon:v.ImageSizeSmall}),De.createElement(W,{size:"small",title:"Original size",onPress:()=>h("original"),icon:v.ImageSizeLarge}),De.createElement(W,{size:"small",title:"Convert to block",onPress:y,icon:v.ImageSizeBlock}),De.createElement(W,{size:"small",title:"Replace",onPress:w,icon:v.Replace}),De.createElement(W,{size:"small",title:"ALT text",onPress:()=>u("alt"),icon:v.AltText})))))}var moe=z.create({inlineFrame:{maxWidth:"100%"}});s();var tB=x(O());function oB(t){let{children:o,attributes:e}=t;return tB.createElement(yt,{tag:"strong",style:vo.Bold,...e},o)}s();var rB=x(O());function nB(t){let{children:o,attributes:e}=t;return rB.createElement(yt,{tag:"em",style:vo.Italic,...e},o)}s();var iB=x(O());function aB(t){let{children:o,attributes:e}=t;return iB.createElement(yt,{tag:"span",style:vo.Strikethrough,...e},o)}s();var sB=x(O());function cB(t){let{children:o,attributes:e}=t,[,r]=I(foe);return Z_(),sB.createElement(yt,{tag:"code",style:[r.markCode],...e},o)}var foe=z.create({markCode:t=>({backgroundColor:t.colors.background.muted,borderRadius:t.radiuses.medium,paddingLeft:g.xsmall,paddingRight:g.xsmall,fontFamily:hg})});s();var lB=x(O());function uB(t){let{children:o,mark:e,attributes:r}=t,n=e.data.toObject(),i=mi(),a=n.background&&n.background!=="default",c=n.text&&n.text!=="default",l=a&&i.color==="dark"?{color:$.lightModeText.base}:null;c&&(l=gy.find(d=>d.key===n.text)||null);let u=a?hy.find(d=>d.key===n.background):null;return lB.createElement(yt,{tag:"mark",style:[{color:l?l.color:"inherit",backgroundColor:u?u.color:"inherit"}],...r},o)}s();var Ga=x(O());G();s();var Ko=x(O());G();s();var dB=JSON.parse('{"exitHint":"exitHint_xASL-","show":"show_HIlHf"}');function Sb(t){let{node:o,anchor:e,isSelected:r,isOnlyNodeSelected:n,isFocused:i,editor:a}=t,{formula:c}=o.data.toFrozenObject(),l=Ko.useRef(null),[u,d]=Ko.useState(!1),[p,m]=Ko.useState(!1),[f,h]=Hs(c,[c]),[,y]=I(B),w=()=>{d(!1),m(!1)},C=()=>{u||(a.change(R=>{Vt(R.value.selection)&&R.collapseToStartOf(o).focus()}),d(!0))};Ko.useEffect(()=>{var R;u&&((R=l.current)==null||R.focus())},[u]),Ko.useEffect(()=>{n&&C()},[n]);let k=R=>{h(R),m(!1)},_=()=>{w(),a.change(R=>{R.blur(),R.insertDataByKey(o.key,["formula"],o.object==="inline"?f.replace(/\n/g," "):f)})},P=()=>{w(),a.change(R=>{var T;if(R.blur(),R.insertDataByKey(o.key,["formula"],o.object==="inline"?f.replace(/\n/g," "):f),o.object==="block")Ct(R);else{let E=(T=o.getFirstText())==null?void 0:T.key;if(E){let A=R.value.document.getNextText(E);A&&R.collapseToStartOf(A)}}R.focus()})};return a.readOnly?e({formula:c}):Ko.createElement(LN,{opened:u,onClose:_,wrapper:V_,anchor:({ref:R})=>e({ref:R,isFocused:r&&i||u,onPress:C,formula:f,onError:()=>{m(!0)}})},Ko.createElement(Cr,{kind:"tooltip"},Ko.createElement(S,null,Ko.createElement(no,{ref:l,multiline:!0,numberOfLines:3,autoFocus:!0,selectTextOnFocus:!0,value:f,onChangeText:k,placeholder:"Enter your TeX formula",onSubmit:P,kind:"inverted",textStyle:p?[y.danger]:void 0}),Ko.createElement(goe,null),p?Ko.createElement(yi,{tooltip:"There is an error in your math formula",preferredPlacement:"bottom"},(R,T)=>Ko.createElement(S,{ref:T,style:hoe.blockErrorBadge,...R.events},Ko.createElement(So,{icon:v.ExclamationCircle,kind:"danger"}))):null)))}function goe(){return Ko.createElement(wr,{style:[dB.exitHint,D.text.label,D.textColor.muted,D.text.notSelectable],contentEditable:!1},"Exit with"," ",Ko.createElement(ps,{kind:"muted",style:[D.flex.inline],shortcut:He.EDITOR_EXIT_BLOCK}))}var hoe=Q.create({blockErrorBadge:{position:"absolute",bottom:g.small,left:g.small}});s();var wb=Eg("f1a718ae5a0b5d0a680254c13fabc0ed4b38f7b4037704dda83756645a7f1027",()=>import("https://app.gitbook.com/public/app/chunks/MathTeXView.lazycomponent-VI4WSAJ2.min.js"));function pB(t){return Ga.createElement(Sb,{anchor:({formula:o,onError:e,...r})=>Ga.createElement(ve,{...t},Ga.createElement(At,{...t,...r},Ga.createElement(Ga.Suspense,{fallback:Ga.createElement(Pn,null)},Ga.createElement(ma,{horizontal:!0,showsVerticalScrollIndicator:!1,contentContainerStyle:yoe.container},Ga.createElement(wb,{formula:o,inline:!1,onError:e}))))),...t})}var yoe=Q.create({container:{marginLeft:"auto",marginRight:"auto"}});s();var zc=x(O());function mB(t){return zc.createElement(Sb,{anchor:({formula:o,onError:e,...r})=>zc.createElement(Sd,{...t,...r},zc.createElement(zc.Suspense,{fallback:zc.createElement(Ie,{size:"small"})},zc.createElement(wb,{formula:o,inline:!0,onError:e}))),...t})}s();var eo=x(O());s();var fB=x(O()),Cb=fB.createContext(new Map);s();s();var Zk=x(O());s();s();var Yk=x(O());G();var gB={title:"Checkbox",description:"A single checkbox that can be checked or unchecked.",IconComponent:v.ColumnTypeCheckbox,ValueComponent:voe,onKeyDown:(t,o,e)=>{switch(t){case"backspace":o&&e(!1);break;case"enter":e(!o);break}}};function voe(t){let{value:o,readOnly:e,onValueChange:r,style:n}=t;return Yk.default.createElement(S,{style:[n,b.flex1,b.directionRow,b.alignCenter]},Yk.default.createElement($s,{value:o,onValueChange:r,readOnly:e}))}s();var Jn=x(O());G();var hB={title:"Link",description:"Reference another page, file, space or collection.",IconComponent:v.PageLink,ValueComponent:boe};function boe(t){let{value:o,selected:e,readOnly:r,displayMode:n,style:i,onValueChange:a}=t,c=Jn.default.useRef(null),l=pe(c),u=ut(),d=Se(),p=()=>{l.open(Pr(a,u,d,{accept:["page","file","space","collection","anchor","url"]}))};return Jn.default.createElement(S,{ref:c,style:[b.directionRow,b.wrap,b.flex1,b.alignCenter,i]},Jn.default.createElement(Jn.default.Suspense,{fallback:Jn.default.createElement(Ie,null)},o?Jn.default.createElement(S,{style:[b.flex1,b.directionRow]},Jn.default.createElement(Soe,{contentRef:o})):null,(n==="block"||e)&&!r?Jn.default.createElement(W,{icon:v.MoreVertical,title:n!=="block"?"Select target":null,kind:"secondary",size:"small",onPress:p},n==="block"?"Select target":null):null))}function Soe(t){let{contentRef:o}=t,[e]=Bx([o]),[,r]=I(B);return e?Jn.default.createElement(S,{style:[b.directionRow,b.alignCenter]},e.icon?Jn.default.createElement(S,{style:[g.Margin.smallRight]},Jn.default.createElement(e.icon,{size:M.ICON_M,style:[r.textMuted]})):null,Jn.default.createElement(Oa,{url:e.href,onPress:n=>{n.preventDefault(),e.open()},style:[r.Body]},e.title)):null}s();var Ln=x(O());G();var yB={title:"Files",description:"Attachments allow you to add images, documents, or other files which can then be viewed or downloaded.",IconComponent:v.ColumnTypeFile,ValueComponent:woe};function woe(t){let{value:o,selected:e,readOnly:r,displayMode:n,onValueChange:i,style:a}=t,c=Ot(),l=async()=>{let d=await c.prompt({title:"Select file"});i([...o,...d.filter(p=>p.kind==="file").map(p=>p.file)])},u=d=>{let p=[...o];p.splice(d,1),i(p)};return Ln.default.createElement(S,{style:[b.directionRow,b.wrap,b.flex1,o.length>0?xoe.filesList:null,a]},Ln.default.createElement(Ln.default.Suspense,{fallback:Ln.default.createElement(Ie,null)},o.map((d,p)=>Ln.default.createElement(Coe,{key:d,fileId:d,readOnly:r,onRemove:()=>u(p)}))),(n==="block"||e)&&!r?Ln.default.createElement(W,{icon:v.Plus,title:"Add attachment",kind:"secondary",size:"small",onPress:l},n==="block"?"Add file":null):null)}function Coe(t){var p,m;let{fileId:o,readOnly:e,onRemove:r}=t,[,n]=I(B),i=H.useInteractiveState(),a=Ln.default.useRef(null),c=pe(a),l=tt({kind:"file",file:o}),u=(m=(p=l.resolution)==null?void 0:p.extra)==null?void 0:m.file;return Ln.default.createElement(Ve,{onPress:()=>{e?l.href&&ms(l.href):c.open(ce({groups:[{key:"file",commands:[{key:"remove",title:"Remove",icon:v.Trashcan,trigger:()=>{r()}},u?{key:"download",title:"Download",icon:v.Download,trigger:()=>{ms(l.href)}}:null].filter(fe)}]}))},...i.events},Ln.default.createElement(S,{ref:a,style:[b.directionRow,b.alignCenter,g.Margin.smallRight]},Ln.default.createElement(S,{style:[g.Margin.smallRight]},Ln.default.createElement(sd,{file:u,size:M.BUTTON_S})),Ln.default.createElement(S,null,Ln.default.createElement(F,{style:[n.Body,i.active||c.opened?n.primary:n.text]},(u==null?void 0:u.name)||"Deleted"))))}var xoe=Q.create({filesList:{gap:g.small}});s();var $k=x(O());G();var vB={title:"Number",description:"",IconComponent:v.Numbers,ValueComponent:koe,onKeyDown:(t,o,e)=>{switch(t){case"backspace":e(null);break;case"enter":typeof o!="number"&&e(0);break}}};function koe(t){let{readOnly:o,value:e,onValueChange:r,onSelectionChange:n,style:i}=t,[,a]=I(B),c=[a.Body,Ooe.numberInput,a.textMid,i],l=()=>{n(!0)};return o?$k.default.createElement(F,{style:c},typeof e=="number"?String(e):""):$k.default.createElement(ai,{style:c,value:typeof e=="number"?String(e):"",onChangeText:u=>r(Number(u)),onFocus:l})}var Ooe=Q.create({numberInput:{height:"auto",padding:0,width:"100%",borderWidth:0}});s();var Fl=x(O());G();var Ioe=8,_oe={info:$.primary.light,merge:$.violet.light,upgrade:$.fuchsia.light,danger:$.scarlet.light},bB={title:"Rating",description:"",IconComponent:v.ColumnTypeRating,ValueComponent:Roe,commands:Poe,onKeyDown:(t,o,e)=>{switch(t){case"backspace":e(0);break;case"enter":break}}};function Poe(t){let{definition:o,setDefinition:e}=t;return[{key:"rating",commands:[{key:"rating.max_value",title:"Max",icon:v.MaximumValue,descendant:()=>ce({search:"Select max rating\u2026",groups:[{key:"max_values",commands:[...Array(5).keys()].map(r=>({key:`${r+1}`,title:`${r+1}`,type:1,selected:o.max===r+1,trigger:()=>{e({...o,max:r+1})}}))}]})}]}]}function Roe(t){let{value:o,definition:e,definitionColorKind:r,onValueChange:n,readOnly:i,style:a}=t,[c,l]=I(Toe),[u,d]=Fl.default.useState(0),p=[...Array(e.max+1).keys()].slice(1),m=w=>{n(w===o?null:w)},f=w=>{i||d(w)},h=l.circleBase,y=r?{backgroundColor:_oe[r]}:l.circleActiveDefault;return Fl.default.createElement(S,{style:[b.directionRow,b.flex1,b.alignCenter,a]},p.map(w=>Fl.default.createElement(H.WithInteractiveState,{key:String(w),onHoverIn:()=>f(w),onHoverOut:()=>f(0)},({events:C})=>Fl.default.createElement(Ve,{...C,onPress:()=>m(w)},Fl.default.createElement(Eoe,{size:Ioe+2*(w-1),style:[u===0&&o&&o>=w||u>=w?y:h,{marginRight:g.xsmall}]})))))}function Eoe({size:t,style:o}){return Fl.default.createElement(S,{style:[{width:t,height:t,borderRadius:t/2},o]})}var Toe=z.create({circleBase:t=>({backgroundColor:t.colors.background.standout}),circleActiveDefault:()=>({backgroundColor:$.primary.light})});s();var SB=x(MF()),Lr=x(O());G();var wB={title:"Select",description:"Select allows you to select an option from predefined options in a dropdown.",IconComponent:v.ColumnTypeSelect,ValueComponent:Doe,commands:Moe,onKeyDown:(t,o,e)=>{switch(t){case"backspace":o.length>0&&e([]);break}}};function Moe(t){let{definition:o,setDefinition:e}=t;return[{key:"select",commands:[{key:"select.allow_multiple",title:"Allow multiple",icon:v.OptionAdd,type:2,enabled:o.multiple,trigger:()=>{let[r]=e({...o,multiple:!o.multiple});return r}},{key:"select.options",title:"Manage options",icon:v.OptionManage,descendant:()=>CB(t)}]}]}function CB(t){let{definition:o,setDefinition:e,openModal:r}=t,{options:n}=o,i=n.map((a,c)=>{let l=u=>{let d=[...n];d[c]={...a,label:u},e({...o,options:d})};return{key:a.value,title:a.label,descendant:()=>ce({groups:[{key:"select.options.manageOption",commands:[{key:"editOption",title:"Edit option",icon:v.Edit,trigger:()=>{r(u=>Lr.default.createElement(Loe,{...u,option:a,onSave:l}))}},{key:"deleteOption",title:"Delete option",icon:v.Trashcan,trigger:()=>{let u=[...n];u.splice(c,1),e({...o,options:u})}}]}]})}});return ce({search:"Search options or type to add",groups:[{key:"select.options.manage",commands:a=>{let c=a.query.text.trim();return a.query.text&&!i.find(l=>l.title===c)?[{key:"add_new_option",title:c,icon:v.Plus,trigger:()=>{let u={value:Ff(),label:c,color:"blue"},[,d]=e({...o,options:[...n,u]});return CB(d)}},...i]:i}}]})}function Loe(t){let{option:o,definition:e,onSave:r,onClose:n}=t,{options:i}=e,a=[...i].filter(f=>f.label!==o.label),[c,l]=Lr.default.useState(o),u=f=>f.length===0?"The label can not be empty":a.filter(y=>y.label===f).length>0?"Another option already exists with this label":null,d=()=>{r(c.label),n()},p=f=>{l({...c,label:f})},m=u(c.label);return Lr.default.createElement(Co,{title:"Edit option",footer:Lr.default.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},Lr.default.createElement(W,{kind:"secondary",onPress:n,style:g.Margin.smallRight},"Cancel"),Lr.default.createElement(W,{kind:"primary",onPress:d,disabled:!!m},"Save")),onClose:n},Lr.default.createElement(S,null,Lr.default.createElement(no,{autoFocus:!0,value:c.label,label:"Label",onChangeText:p,feedback:m?{type:"danger",message:m}:void 0})))}function Doe(t){let{value:o,selected:e,definition:r,onValueChange:n,definitionColorKind:i,readOnly:a,displayMode:c,style:l}=t,u=Lr.default.useRef(null),d=pe(u),[,p]=I(B),m=()=>{d.open(Noe(r,o,n))},f=Lr.default.createElement(S,{style:[b.directionRow,b.wrap,b.flex1,o.length>0?Aoe.optionsList:null]},o.map(h=>{let y=r.options.find(w=>w.value===h);return y?Lr.default.createElement(lP,{key:y.value,deletable:!a&&r.multiple,kind:i!=null?i:"info",onPress:()=>r.multiple?n(o.filter(w=>w!==y.value)):null,size:"small"},y.label):null}));return a||c==="inline"&&!e?f:Lr.default.createElement(Ve,{ref:u,onPress:m,style:[l]},Lr.default.createElement(S,{style:[b.directionRow,b.flex1,b.alignCenter]},f,c==="inline"?Lr.default.createElement(S,{style:[g.Margin.smallLeft]},Lr.default.createElement(v.ChevronDown,{size:M.ICON_XS,style:p.textMuted})):null))}function Noe(t,o,e){return ce({search:"Find an option\u2026",position:{width:"small"},groups:[{key:"options",commands:t.options.map(r=>{let n=o.includes(r.value);return{key:r.value,title:r.label,...t.multiple?{type:1,selected:n}:{selected:void 0},trigger:()=>{e(n?o.filter(i=>i!==r.value):(0,SB.default)(t.multiple?[...o,r.value]:[r.value]))}}})}]})}var Aoe=Q.create({optionsList:{gap:g.small}});s();var xb=x(O());G();var xB={title:"Text",description:"",IconComponent:v.ColumnTypeText,ValueComponent:qoe,commands:Boe};function Boe(t){let{definition:o}=t,{textAlignment:e}=o,r={left:v.AlignTextLeft,center:v.AlignTextCenter,right:v.AlignTextRight};return[{key:"text.alignment",commands:[{key:"text.alignment",title:"Alignment",descendant:()=>kB(t),icon:r[e]}]}]}function kB(t){let{definition:o,setDefinition:e}=t;return ce({groups:[{key:"text.alignment.select",commands:[{label:"Left",value:"left",icon:v.AlignTextLeft},{label:"Center",value:"center",icon:v.AlignTextCenter},{label:"Right",value:"right",icon:v.AlignTextRight}].map(r=>({key:`text.alignment.${r.value}`,title:r.label,type:1,selected:o.textAlignment===r.value,icon:r.icon,trigger:()=>{let[,n]=e({...o,textAlignment:r.value});return kB(n)}}))}]})}function qoe(t){let{value:o,definition:e,style:r,readOnly:n}=t;return o==null?null:xb.default.createElement(S,{style:[b.flex1,!n&&Woe.editableFragment,r]},xb.default.createElement(vc.Provider,{value:e.textAlignment},xb.default.createElement(Qr,{fragment:o})))}var Woe=Q.create({editableFragment:{cursor:"text"}});s();var Dr=x(O());G();var OB={title:"Users",description:"A user field lets you add collaborators to your records.",IconComponent:v.Users,ValueComponent:zoe,commands:Foe};function Foe(t){let{definition:o,setDefinition:e}=t;return[{key:"users",commands:[{key:"users.allow_multiple",title:"Allow multiple",icon:v.Team,type:2,enabled:o.multiple,trigger:()=>{let[r]=e({...o,multiple:!o.multiple});return r}}]}]}function zoe(t){let{value:o,selected:e,readOnly:r,displayMode:n,definition:i,onValueChange:a,style:c}=t,l=Dr.default.useRef(null),u=pe(l),d=f=>{let h=[...o];h.splice(f,1),a(h)},p=()=>{u.open(ce({search:"Search users\u2026",position:{width:"small"},groups:[{key:"users",commands:f=>cl.read({query:f.query.text,types:["users"]}).map(y=>y.index!=="users"?null:{key:y.object.objectID,title:y.object.displayName,icon:({size:w})=>Dr.default.createElement(ll,{user:y.object,size:w}),trigger:()=>{a([...o,y.object.objectID])}}).filter(fe)}]}))},m=i.multiple?"Add users":"Replace";return Dr.default.createElement(S,{style:[b.flex1,b.directionRow,c]},Dr.default.createElement(S,{style:[b.directionRow,b.wrap,b.flex1,o.length>0?Goe.filesList:null]},Dr.default.createElement(Dr.default.Suspense,{fallback:null},o.map((f,h)=>Dr.default.createElement(Voe,{key:f,userId:f,readOnly:r,onRemove:()=>d(h)})))),(n==="block"||e)&&!r?Dr.default.createElement(W,{ref:l,icon:i.multiple?v.Plus:v.ChevronDown,title:n==="block"?void 0:m,kind:"secondary",size:"small",onPress:p,active:u.opened},n==="block"?m:null):null)}function Voe(t){let{userId:o,readOnly:e,onRemove:r}=t,[,n]=I(B),i=H.useInteractiveState(),a=Dr.default.useRef(null),c=pe(a),[l]=_a([H1(o)]);return Dr.default.createElement(Ve,{onPress:()=>{c.open(ce({position:{width:"small"},groups:[{key:"user",commands:[e?null:{key:"remove",title:"Remove",icon:v.Trashcan,trigger:()=>{r()}}].filter(fe)}]}))},...i.events},Dr.default.createElement(S,{ref:a,style:[b.directionRow,b.alignCenter,g.Margin.smallRight]},l?Dr.default.createElement(S,{style:[g.Margin.smallRight]},Dr.default.createElement(ll,{user:l,size:M.BUTTON_S})):null,Dr.default.createElement(S,null,Dr.default.createElement(F,{style:[n.Body,i.active||c.opened?n.primary:n.text]},(l==null?void 0:l.displayName)||"Deleted"))))}var Goe=Q.create({filesList:{gap:g.small}});var ei={checkbox:gB,number:vB,text:xB,files:yB,select:wB,users:OB,rating:bB,"content-ref":hB},IB=["text","number","checkbox","select","users","files","content-ref","rating"];function Ha(t){return t.title||ei[t.type].title}function Ed(t){let{record:o,definition:e,readOnly:r,displayMode:n="inline",editor:i,nodeKey:a,selected:c,definitionColorKind:l,style:u}=t,{ValueComponent:d}=ei[t.definition.type],p=h=>{i.change(y=>{oe.setRecordValue(y,a,o.key,e.id,h)})},m=h=>{h&&i.change(y=>{oe.moveTableSelection(y,a,{recordId:o.key,definitionId:e.id})})},f=Zk.createElement(d,{editor:i,nodeKey:a,readOnly:r,displayMode:n,selected:c,value:o.value.values[e.id],definitionColorKind:l,definition:e,onValueChange:p,onSelectionChange:m,style:u});return e.type==="text"?f:Zk.createElement(he,{style:b.flex1,onClick:h=>{h.stopPropagation(),m(!0)}},f)}s();function Ms(t,o={}){return ce({search:"Select column type",groups:[{key:"types",commands:IB.map(e=>{let r=ei[e];return{key:e,icon:r.IconComponent,title:r.title,...o.selectedType?{type:1,selected:o.selectedType===e}:{selected:void 0},trigger:()=>{t(e)}}})}]})}s();var Vc=x(O());G();function _B(t){return t.readOnly?Vc.createElement(Hoe,{...t}):Vc.createElement(Koe,{...t})}function Hoe(t){let{definition:o,style:e}=t,[,r]=I(B);return Vc.createElement(F,{style:[b.directionRow,o.type==="text"?kb[o.textAlignment]:null,r.Body,r.textMid,r.Medium,kb.columnHeader,e],selectable:!0},Ha(o))}function Koe(t){let{editor:o,nodeKey:e,definition:r,style:n}=t,[i,a]=I(B),c=m=>{o.change(f=>{oe.renameColumn(f,e,r.id,m)})},l=r.title||"",u=Ha(r),d=Vc.useMemo(()=>Q.flatten([n,a.Body,a.textMid,a.Medium,kb.columnHeader,r.type==="text"?kb[r.textAlignment]:null]),[n,r]),p=Vc.useMemo(()=>Dg(l||u||"",d),[l,u,d]);return Vc.createElement(Vn,{component:ai,value:l,placeholder:u,placeholderTextColor:i.colors.text.muted,onChangeText:c,style:[d,p===void 0?{}:{width:p,maxWidth:"100%"}]})}var kb=Q.create({columnHeader:{wordWrap:"anywhere"},left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}});s();var RB=x(O()),PB=["info","merge","upgrade","danger"];function Xoe(t,o){let{definitionColorsKindsMap:e}=o.reduce((r,n)=>{let i=t[n];if(i.type==="rating"||i.type==="select"){let a=PB[r.colorIndexToBeClaimed];r.definitionColorsKindsMap[n]=a,r.colorIndexToBeClaimed=(r.colorIndexToBeClaimed+1)%PB.length}return r},{colorIndexToBeClaimed:0,definitionColorsKindsMap:{}});return e}function EB(t,o){return RB.default.useMemo(()=>Xoe(t,o),[t])}s();var oi=x(O());s();s();s();var Qk=x(O());function TB(t){return Qk.default.createElement(Qk.default.Fragment,null)}s();s();function Td(t,o,e={}){let{selected:r=[],search:n="Select columns\u2026",multiple:i=!1,filterDefinition:a=()=>!0}=e;return ce({search:n,groups:[{key:"columns",commands:Object.entries(t).filter(([c,l])=>a(l)).map(([c,l])=>{let u=ei[l.type],d=r.includes(c);return{key:c,title:Ha(l),icon:u.IconComponent,type:1,selected:d,trigger:()=>o(i?d?r.filter(p=>p!==c):[...r,c]:d?[]:[c])}})}]})}s();function dr(t,o,e,r){let{focus:n="end",definition:i,record:a}=r;if(!e.selection.definitionId)return!1;let c=e.records.findIndex(p=>p.key===e.selection.recordId),l=e.view.columns.indexOf(e.selection.definitionId),u=e.records["relative"in a?c+a.relative:a.absolute],d=e.view.columns["relative"in i?l+i.relative:i.absolute];return!d||!u?!1:(oe.moveTableSelection(t,o,{recordId:u.key,definitionId:d},n),!0)}function zl(t,o,e,r){let n=e.records.findIndex(a=>a.key===e.selection.recordId),i=e.records["relative"in r?n+r.relative:r.absolute];return i?(oe.moveTableSelection(t,o,{recordId:i.key,definitionId:void 0}),!0):!1}var MB=(t,o,e,r)=>{if(!e.selection.definitionId&&e.selection.recordId)return joe(t,o,e,r);if(e.selection.definitionId&&e.selection.recordId)return Uoe(t,o,e,r)},Uoe=(t,o,e,r)=>{let n=e.view.cardSize==="medium"?3:2;switch(t){case"move-up":case"move-down":{dr(r,o,e,{definition:{relative:t==="move-up"?-1:1},record:{relative:0},focus:t==="move-up"?"end":"start"})||dr(r,o,e,{definition:{absolute:t==="move-up"?e.view.columns.length-1:0},record:{relative:t==="move-up"?-n:n},focus:t==="move-up"?"end":"start"})||(t==="move-up"?cu(r,o):Ct(r,o));break}case"move-left":case"move-right":{dr(r,o,e,{definition:{absolute:0},record:{relative:t==="move-left"?-1:1},focus:t==="move-left"?"end":"start"});break}case"tab":case"enter":{if(!dr(r,o,e,{definition:{relative:1},record:{relative:0},focus:"end"})&&!dr(r,o,e,{definition:{absolute:0},record:{relative:1},focus:"end"})){let i=oe.insertEmptyRecord(r,o.key);oe.moveTableSelection(r,o,{recordId:i,definitionId:e.view.columns[0]},"start")}break}case"backspace":{dr(r,o,e,{definition:{relative:-1},record:{relative:0},focus:"end"})||oe.moveTableSelection(r,o,{recordId:e.selection.recordId,definitionId:void 0});break}}},joe=(t,o,e,r)=>{let n=e.view.cardSize==="medium"?3:2;switch(t){case"tab":{zl(r,o,e,{relative:1});break}case"shift+tab":{zl(r,o,e,{relative:-1});break}case"move-left":case"move-right":{zl(r,o,e,{relative:t==="move-left"?-1:1})||(t==="move-left"?cu(r,o):Ct(r,o));break}case"move-up":case"move-down":{zl(r,o,e,{relative:t==="move-up"?-n:n})||(t==="move-up"?cu(r,o):Ct(r,o));break}case"backspace":{zl(r,o,e,{relative:-1})||zl(r,o,e,{relative:1}),oe.removeRecord(r,o.key,e.selection.recordId);break}case"enter":{dr(r,o,e,{definition:{absolute:0},record:{relative:0},focus:"start"});break}}};s();var Ls=x(O());s();var Ob=x(O());function LB(t){let{editor:o,nodeKey:e,defaultTextDefinitionId:r}=t,[,n]=I(Yoe),[,i]=I(B),a=()=>{o.change(c=>{let l=oe.insertEmptyRecord(c,e);oe.moveTableSelection(c,e,{recordId:l,definitionId:r})})};return Ob.createElement(H.TouchableOpacity,{style:[b.flex1,n.cardPlaceholder,b.directionRow,b.alignCenter,b.justifyContentCenter,g.Padding.medium],activeStyle:n.cardPlaceholderActive,onPress:a},Ob.createElement(H.Text.Child,{style:[i.Body,i.textMuted],activeStyle:i.primary},Ob.createElement(v.Plus,{size:M.ICON_M,style:[g.Margin.smallRight]}),"New card"))}var Yoe=z.create({cardPlaceholder:t=>({borderRadius:t.radiuses.large,borderColor:t.colors.border.mid,borderWidth:1,borderStyle:"dashed"}),cardPlaceholderActive:t=>({borderColor:t.colors.primary.main})});s();var Nr=x(O());G();s();var Ib=JSON.parse('{"targetCard":"targetCard_YoeqR","controlButtons":"controlButtons_l18tz","grab":"grab_y1-pK","grabbing":"grabbing_fDPig"}');s();var Gc=x(O());G();function DB(t){var P;let{nodeKey:o,editor:e,record:r,view:n,visible:i,onExpand:a,dragHandleRef:c,isDragging:l}=t,u=Gc.useRef(null),d=gi(u,c),p=pe(u),m=Ot(),f=ut(),h=Se(),y=n.coverDefinition?((P=r.value.values[n.coverDefinition])==null?void 0:P.length)>0:!1,w=n.targetDefinition?!!r.value.values[n.targetDefinition]:!1,C=async()=>{let[R]=await m.prompt({title:"Select file",accept:"images",acceptURL:!1});!R||R.kind!=="file"||e.change(T=>{oe.cards.setCardCoverForRecord(T,o,r.key,R)})},k=()=>Pr(R=>{e.change(T=>{oe.cards.setCardTargetForRecord(T,o,r.key,R)})},f,h,{accept:["page","file","space","collection","anchor","url"]}),_=R=>{R.preventDefault(),R.stopPropagation(),p.open(ce({groups:[{key:"actions",commands:[{key:"actions.target",icon:v.PageLink,...w?{title:"Target link",descendant:()=>ce({groups:[{key:"target",commands:[{key:"target.set",title:"Replace target",icon:v.Replace,trigger:()=>k()},{key:"target.remove",title:"Remove target",icon:v.Trashcan,trigger:()=>{e.change(T=>{oe.cards.removeCardTargetForRecord(T,o,r.key)})}}]}]})}:{title:"Add target link",trigger:()=>k()}},{key:"actions.cover",icon:v.Image,...y?{title:"Cover",descendant:()=>ce({groups:[{key:"cover",commands:[{key:"cover.set",title:"Replace cover",icon:v.Replace,trigger:()=>{C()}},{key:"cover.remove",title:"Remove cover",icon:v.Trashcan,trigger:()=>{e.change(T=>{oe.cards.removeCardCoverForRecord(T,o,r.key)})}}]}]})}:{title:"Add cover",trigger:()=>{C()}}},{key:"actions.delete",title:"Delete",icon:v.Trashcan,trigger:()=>{e.change(T=>{oe.removeRecord(T,o,r.key)})}}]}]}))};return Gc.createElement(mo,{onPressIn:R=>{R.preventDefault(),R.stopPropagation()}},Gc.createElement(ee,{style:[D.flex.row,D.flex.alignCenter,Ib.controlButtons,l&&D.opacity.translucent],inlineStyle:p.opened||i?{opacity:1}:void 0},Gc.createElement(ro,{ref:d,kind:"secondary",size:"small",leadingIcon:v.GrabberVertical.CSS,iconOnly:!0,rounded:!0,label:"Drag card",tooltipTitle:l?void 0:`Click for options.
Drag to move.`,onClick:_,preventFocusOnPress:!0,style:{cursor:l?"grabbing":"grab"}}),Gc.createElement(ee,{style:[D.gap.smallColumnGap,D.margin.autoLeft]},Gc.createElement(W,{kind:"secondary",size:"small",rounded:!0,icon:v.Maximize,onPress:a,title:"Open card",tooltipDelay:300}))))}s();var Jk=x(O());G();function NB(t){var a,c;let{coverRef:o}=t,[,e]=I($oe),r=tt(o),n=(c=(a=r.resolution)==null?void 0:a.extra)==null?void 0:c.file,i=r&&n&&Vs(n)?Gi(n.downloadURL,{width:371}):null;return i?Jk.createElement(S,{style:e.cardCover},Jk.createElement(_1,{source:{uri:i},style:e.cardImage})):null}var $oe=z.create({cardCover:t=>({backgroundColor:t.colors.background.muted}),cardImage:{width:"100%",aspectRatio:16/9}});function AB(t){var _e,Be;let{nodeKey:o,definition:e,editor:r,readOnly:n,record:i,view:a,selected:c,selectedBy:l,isLastInRow:u,beforeOrderIndex:d,afterOrderIndex:p,onExpand:m}=t,[,f]=I(Qoe),[,h]=I(B),y=Ba(l),[w,C]=Nr.useState(),k=bo(w),_=Nr.useRef(null),P={type:"table-record",id:i.key,blockKey:o,previewLabel:"Move card"},[{dragging:R},T]=Ic({type:P.type,item:P,canDrag:()=>!n,collect:le=>({dragging:le.isDragging()})}),[E,A]=on({accept:[P.type],drop:(le,ct)=>{ct.didDrop()||r.change(dt=>{oe.moveRecord(dt,o,le.id,k.current==="before"?{before:d,after:i.value.orderIndex}:{before:i.value.orderIndex,after:p})})},hover:(le,ct)=>{if(!ct.canDrop())return;let dt=Zoe(ct,_);w!==dt&&C(dt)},canDrop:le=>i.key!==le.id&&o===le.blockKey,collect:le=>({higlighted:le.isOver()&&le.canDrop()})}),V=A(_),q=a.targetDefinition?i.value.values[a.targetDefinition]:void 0,Y=tt(q),te=()=>{r.change(le=>{oe.moveTableSelection(le,o,{recordId:i.key}),le.focus()})},X=a.coverDefinition&&((_e=i.value.values[a.coverDefinition])!=null&&_e[0])?(Be=i.value.values[a.coverDefinition])==null?void 0:Be[0]:null,re=Nr.createElement(S,{style:[b.flex1,g.Padding.medium,!X&&!n&&g.Margin.mediumVertical,!n&&f.editableArea]},a.columns.map((le,ct)=>{let dt=e[le],Yo=Nr.createElement(Ed,{record:i,selected:!1,definition:dt,nodeKey:o,editor:r,readOnly:n});return Nr.createElement(S,{key:le,style:[ct<a.columns.length-1?g.Margin.smallBottom:null]},a.hideColumnTitle?null:Nr.createElement(S,null,Nr.createElement(F,{style:[h.Label,h.textMid]},dt.title)),Yo)}));return Nr.createElement(bk,{style:[b.flex1],readOnly:n,selected:c,selectionColor:y.base,onSelect:te},Nr.createElement(ee,{style:[Ib.targetCard,D.flex.flex1,R&&D.opacity.translucent,Y_,{[_g]:E.higlighted&&(!u||u&&w==="before"),[wu]:E.higlighted&&u&&w==="after"}],ref:V},Nr.createElement(us,{style:[b.flex1,b.directionColumn],...q?{component:H.TouchableOpacity,href:n?Y.href:void 0,onPress:le=>{le.preventDefault(),Y==null||Y.open()}}:{component:H.View}},X?Nr.createElement(NB,{coverRef:{kind:"file",file:X}}):null,n?re:Nr.createElement(mo,{onPressIn:le=>{le.preventDefault(),le.stopPropagation()}},re),n?null:Nr.createElement(DB,{nodeKey:o,editor:r,record:i,view:a,visible:c,onExpand:m,dragHandleRef:T,isDragging:R}))))}function Zoe(t,o){if(!(o!=null&&o.current))return;let e=o.current.getBoundingClientRect(),r=.5*(e.right-e.left),n=t.getClientOffset();return n?n.x-e.left<r?"before":"after":void 0}var Qoe=z.create({editableArea:{cursor:"text"}});function BB(t){let{nodeKey:o,editor:e,readOnly:r,definition:n,records:i,view:a,selection:c,selections:l,openRecord:u}=t,d=Su(),p=Ls.useMemo(()=>a.columns.find(h=>n[h].type==="text")||void 0,[a.columns,n]),m=Ls.useMemo(()=>{switch(a.cardSize){case"medium":return{mobile:1,tablet:2,desktop:3};case"large":return{mobile:1,tablet:1,desktop:2};default:qe(a.cardSize)}},[a.cardSize]),f=Ls.useCallback(({item:h,index:y})=>{if(h.key==="new")return Ls.createElement(LB,{editor:e,nodeKey:o,defaultTextDefinitionId:p});let w=!c.definitionId&&c.recordId===h.key,C=l.find(k=>k.recordId===h.key&&!k.definitionId);return Ls.createElement(AB,{nodeKey:o,editor:e,readOnly:r,definition:n,record:h,view:a,selected:w||!!C,selectedBy:w||C==null?void 0:C.clientId,isLastInRow:m[d]===1||(y+1)%m[d]===0,beforeOrderIndex:y>0?i[y-1].value.orderIndex:void 0,afterOrderIndex:y<i.length-1?i[y+1].value.orderIndex:void 0,onExpand:()=>u(h.key)})},[o,e,r,n,a,c.recordId,!!c.definitionId,p,u,l]);return Ls.createElement(U_,{data:r?i:[...i,{key:"new"}],renderItem:f,numColumnsPerScreen:m,columnSpacing:g.medium,rowSpacing:g.medium})}var qB={IconComponent:v.Cards3Columns,title:"Cards",recordName:"card",definitionName:"field",selectableView:!1,ViewComponent:BB,DefinitionSettingsComponent:TB,commands:Joe,onKeyDown:MB};function Joe(t){let{view:o,setView:e}=t;return[{key:"cards.definitions",commands:[{key:"cards.selectCover",title:"Cover image",icon:v.Image,descendant:()=>ere(t)},{key:"cards.selectTarget",title:"Target link",icon:v.PageLink,descendant:()=>tre(t)}]},{key:"cards.size",commands:[{key:"cards.size.medium",title:"Medium",icon:v.Cards3Columns,type:1,selected:o.cardSize==="medium",trigger:()=>{let[r]=e({...o,cardSize:"medium"});return r}},{key:"cards.size.large",title:"Large",icon:v.Cards2Columns,type:1,selected:o.cardSize==="large",trigger:()=>{let[r]=e({...o,cardSize:"large"});return r}}]},{key:"cards.options",commands:[{key:"cards.hideColumnTitle",title:"Show labels",icon:v.EyeOff,type:2,enabled:!o.hideColumnTitle,trigger:()=>{let[r]=e({...o,hideColumnTitle:!o.hideColumnTitle});return r}},{key:"cards.definitions",title:"Fields",icon:v.EyeOff,descendant:()=>WB(t)}]}]}function ere(t){let{view:o,definition:e,setView:r}=t;return Td(e,n=>{r({...o,coverDefinition:n[0]})},{multiple:!1,search:"Select column for cover\u2026",selected:o.coverDefinition?[o.coverDefinition]:[],filterDefinition:n=>n.type==="files"})}function tre(t){let{view:o,definition:e,setView:r}=t;return Td(e,n=>{r({...o,targetDefinition:n[0]})},{multiple:!1,search:"Select column for target\u2026",selected:o.targetDefinition?[o.targetDefinition]:[],filterDefinition:n=>n.type==="content-ref"})}function WB(t){let{view:o,definition:e,setView:r}=t;return Td(e,n=>{let[,i]=r({...o,columns:n});return WB(i)},{multiple:!0,search:"Select visible columns\u2026",selected:o.columns})}s();s();var of=x(O());s();var zB=x(zf()),qt=x(O());G();var Ds=qt.createContext(new Map),VB=qt.forwardRef((t,o)=>{let{nodeKey:e,editor:r,view:n,children:i}=t,{readOnly:a}=r,[,c]=I(GB),[l]=Rs.useDimensions(),u=et(),d=u?l.width:l.width-2,{widths:p,totalWidth:m}=qt.useMemo(()=>Bv(n,d,u),[d,n.columns,n.columnWidths]),[f,h]=qt.useState({left:!1,right:!1});qt.useEffect(()=>{h(_=>({left:m>d?_.left:!1,right:m>d?_.right:!1}))},[m,d]);let y=bo(f),w=qt.useCallback(_=>{let{contentOffset:P,contentSize:R,layoutMeasurement:T}=_.nativeEvent,E=P.x>0,A=P.x<R.width-T.width;y.current.left===E&&y.current.right===A||h({left:E,right:A})},[]),C=qt.useCallback((_,P)=>{let R=p.get(_);We(R),r.change(T=>{T.setDataByKey(e,["view","columnWidths",_],(0,zB.default)(R.width+P,Av,Km),{normalize:!1}),T.setDataByKey(e,["view","useNewSizing"],!0,{normalize:!1})})},[p]),k=(_,P)=>{r.change(R=>{oe.moveColumn(R,e,P.id,_)})};return qt.createElement(S,{ref:o},qt.createElement(Ds.Provider,{value:p},qt.createElement(ma,{horizontal:!0,style:c.tableScrollWrapper,onScroll:w,scrollEventThrottle:100,contentContainerStyle:c.tableWrapper},i,a?null:[...n.columns].reverse().reduce((_,P,R,T)=>{let E=p.get(P);return We(E),qt.createElement(ore,{key:P,columnId:P,columnAfterId:T[R-1],tableKey:e,controller:E.controller,width:E.animated,onResizeComplete:C,onDropBefore:A=>k(P,A)},_)},null))),!u&&f.left?qt.createElement(S,{style:c.tableScrollIndicatorLeft,pointerEvents:"none"}):null,!u&&f.right?qt.createElement(S,{style:c.tableScrollIndicatorRight,pointerEvents:"none"}):null)});function ore(t){let{tableKey:o,columnId:e,columnAfterId:r,controller:n,width:i,children:a,onDropBefore:c,onResizeComplete:l}=t,[u,d]=I(GB),p=qt.useMemo(()=>Tf.create({onStartShouldSetPanResponder:(y,w)=>!1,onStartShouldSetPanResponderCapture:(y,w)=>!1,onMoveShouldSetPanResponder:(y,{dx:w})=>!0,onMoveShouldSetPanResponderCapture:(y,w)=>!1,onPanResponderGrant:(y,{dx:w})=>{},onPanResponderMove:(y,{dx:w})=>{n.setValue(w)},onPanResponderTerminationRequest:(y,w)=>!1,onPanResponderRelease:(y,{dx:w})=>{l(e,w)},onPanResponderTerminate:(y,w)=>{}}),[e,n,l]),m=H.useInteractiveState(p.panHandlers),[f,h]=on({accept:"table-definition",drop:(y,w)=>{w.didDrop()||c(y)},canDrop:y=>e!==y.id&&r!==y.id&&o===y.blockKey,collect:y=>({highlighted:y.isOver({shallow:!0})&&y.canDrop()})},[e,r,o]);return qt.createElement(or.View,{ref:h,style:[d.columnLine,{left:i}]},qt.createElement(S,{style:d.blockGrabber,...m.events},qt.createElement(S,{style:[d.blockGrabberBar,(m.hovered||m.dragging||f.highlighted)&&{backgroundColor:u.colors.primary.main}]})),a)}var _b=10,FB=3,GB=z.create({tableScrollWrapper:{borderWidth:0},tableScrollIndicatorLeft:t=>({position:"absolute",left:-1,top:0,bottom:0,width:1,shadowColor:$.BLACK,shadowOffset:{width:5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableScrollIndicatorRight:t=>({position:"absolute",right:-1,top:0,bottom:0,width:1,shadowColor:$.BLACK,shadowOffset:{width:-5,height:0},shadowOpacity:.6,shadowRadius:7,elevation:4}),tableWrapper:{position:"relative",overflow:"hidden",flexDirection:"column"},columnLine:{position:"absolute",top:0,bottom:0},blockGrabber:{position:"absolute",top:0,right:-(_b/2),bottom:0,width:_b,cursor:"ew-resize"},blockGrabberBar:{position:"absolute",top:0,right:_b/2-FB/2,bottom:0,width:FB,borderRadius:M.RADIUS_M},blockGrabberPlus:{position:"absolute",top:g.small,left:-(M.BUTTON_XS/2)+_b/2}});function HB(t){var a;let{view:o,columnId:e,setView:r}=t,n=of.default.useContext(Ds);function i(c){var l;if(c){let{[e]:u,...d}=o.columnWidths||{};r({...o,useNewSizing:!0,columnWidths:d})}else r({...o,useNewSizing:!0,columnWidths:{...o.columnWidths,[e]:((l=n.get(e))==null?void 0:l.width)||Pc}})}return of.default.createElement(of.default.Fragment,null,of.default.createElement(Ng,{value:typeof((a=o.columnWidths)==null?void 0:a[e])>"u",onValueChange:i,label:"Fill available space",labelDescription:"Expand this column to fill the available horizontal space"}))}s();var KB=(t,o,e,r)=>{let n=(i=e.selection.definitionId)=>{if(!i)return;let a=e.records.findIndex(d=>d.key===e.selection.recordId),c=e.records[a],l=e.records[a+1],u=oe.insertEmptyRecord(r,o.key,{before:c.value.orderIndex,after:l==null?void 0:l.value.orderIndex});oe.moveTableSelection(r,o,{recordId:u,definitionId:i},"start")};switch(t){case"move-up":case"move-down":{dr(r,o,e,{definition:{relative:0},record:{relative:t==="move-up"?-1:1},focus:t==="move-up"?"end":"start"})||(t==="move-up"?cu(r,o):Ct(r,o));break}case"tab":case"move-right":{let i=t==="tab"?"select":"start";dr(r,o,e,{definition:{relative:1},record:{relative:0},focus:i})||!dr(r,o,e,{definition:{absolute:0},record:{relative:1},focus:i})&&t==="tab"&&n(e.view.columns[0]);break}case"shift+tab":case"move-left":{let i=t==="shift+tab"?"select":"end";dr(r,o,e,{definition:{relative:-1},record:{relative:0},focus:i})||dr(r,o,e,{definition:{absolute:e.view.columns.length-1},record:{relative:-1},focus:i});break}case"enter":{n();break}case"backspace":{if(dr(r,o,e,{definition:{relative:-1},record:{relative:0},focus:"end"}))break;e.selection.recordId&&oe.isRowEmpty(o,e.selection.recordId)?(dr(r,o,e,{definition:{absolute:e.view.columns.length-1},record:{relative:-1},focus:"end"}),oe.removeRecord(r,o.key,e.selection.recordId)):dr(r,o,e,{definition:{absolute:e.view.columns.length-1},record:{relative:-1},focus:"end"});break}}};s();var Br=x(O());G();s();var Mi=x(O());s();var Pb=g.Padding.mediumLeft;s();var sn=x(O());G();var Rb=sn.default.forwardRef(function(o,e){let{recordKey:r,columnId:n,selected:i,selectedBy:a,width:c,children:l,header:u=!1,isFirstColumn:d=!1,isFirstRow:p=!1,isLastColumn:m=!1,isLastRow:f=!1,onPress:h,readOnly:y,...w}=o,C=sn.default.useRef(null),k=gi(C,e),[,_]=I(rre),R={backgroundColor:Ba(a).base};sn.default.useEffect(()=>{i&&C.current&&Mg(C.current,{behavior:"smooth",scrollMode:"if-needed"})},[i]);let T=sn.default.createElement(or.View,{ref:k,style:[_.cell,b.directionRow,b.alignCenter,d?_.farLeftCell:{},p?_.topCell:{},f?_.bottomCell:{},p&&d?_.topLeftCell:{},p&&m?_.topRightCell:{},f&&d?_.bottomLeftCell:{},f&&m?_.bottomRightCell:{},u?_.columnHeader:{},p?vo.Bold:{},{width:c}]},l,i?sn.default.createElement(sn.default.Fragment,null,sn.default.createElement(S,{style:[_.cellSelectionBorderTop,R]}),sn.default.createElement(S,{style:[_.cellSelectionBorderBottom,R]}),sn.default.createElement(S,{style:[_.cellSelectionBorderRight,R]}),sn.default.createElement(S,{style:[_.cellSelectionBorderLeft,R]})):null);return sn.default.createElement(he,{style:[_.unsetDefaultTH,b.directionRow,b.justifyContentCenter],tag:u?"th":"td"},y?sn.default.createElement(sn.default.Fragment,null,T):sn.default.createElement(mo,{...w},T))}),Ar=1,rre=z.create({unsetDefaultTH:{textAlign:"left"},cell:t=>({position:"relative",paddingVertical:g.small,paddingHorizontal:g.medium,borderLeftWidth:1,borderTopWidth:1,borderColor:t.colors.border.mid}),cellSelectionBorderTop:{position:"absolute",top:-Math.floor(Ar/2),left:-Math.floor(Ar/2),right:-Math.floor(Ar/2),height:Ar},cellSelectionBorderBottom:{position:"absolute",bottom:-Math.floor(Ar/2),left:-Math.floor(Ar/2),right:-Math.floor(Ar/2),height:Ar},cellSelectionBorderRight:{position:"absolute",bottom:-Math.floor(Ar/2),top:-Math.floor(Ar/2),right:-Math.floor(Ar/2),width:Ar},cellSelectionBorderLeft:{position:"absolute",bottom:-Math.floor(Ar/2),top:-Math.floor(Ar/2),left:-Math.floor(Ar/2),width:Ar},topCell:{borderTopWidth:0},farLeftCell:{borderLeftWidth:0},topLeftCell:{},bottomLeftCell:{},topRightCell:{},bottomRightCell:{},bottomCell:{borderBottomWidth:1},columnHeader:t=>({backgroundColor:"transparent"})});var UB=Mi.memo(function(o){let{editor:e,nodeKey:r,readOnly:n,definition:i,view:a}=o,c=Mi.useContext(Ds),[,l]=I(are);return Mi.createElement(he,{tag:"thead"},Mi.createElement(he,{style:[b.directionRow,l.background],tag:"tr"},a.columns.map((u,d)=>{let p=i[u],m=c.get(u);return We(m),Mi.createElement(ire,{key:u,columnId:u,editor:e,nodeKey:r,columnDef:p,view:a,readOnly:n,width:m.animated,isFirstColumn:d===0,isLastColumn:d===a.columns.length-1,isFirstRow:!0,header:!0})})))}),XB=H.createInteractiveHandle("table-column"),nre=H.createInteractiveComponent(he);function ire(t){let{columnDef:o,readOnly:e,editor:r,nodeKey:n,view:i,...a}=t;return Mi.createElement(nre,{handle:XB},Mi.createElement(Rb,{focusable:!1,readOnly:e,...a},Mi.createElement(_B,{editor:r,nodeKey:n,definition:o,readOnly:e,style:[b.flex1,a.isFirstColumn&&!e?Pb:null]}),e?null:Mi.createElement(Eb,{editor:r,nodeKey:n,view:i,definition:o,descendantOf:XB,icon:v.GrabberVertical,rounded:!0})))}var are=z.create({background:t=>({backgroundColor:t.colors.background.mid,borderBottomColor:t.colors.border.mid,borderBottomWidth:2})});s();var Wt=x(O());G();var jB=H.createInteractiveHandle("table-row"),sre=H.createInteractiveComponent(he),ZB=Wt.memo(Wt.forwardRef(function(o,e){let{nodeKey:r,editor:n,readOnly:i,record:a,definition:c,view:l,isFirstRow:u,isLastRow:d,beforeOrderIndex:p,afterOrderIndex:m,selectedColumnId:f,selections:h,definitionColorKinds:y,openRecord:w,style:C}=o,k=Wt.useContext(Ds),_=ti[l.type],P={id:a.key,type:"table-record",blockKey:r,previewLabel:"Move record",previewIcon:"TableRecord"},[{dragging:R},T]=Aa({type:P.type,item:P,canDrag:()=>!i,collect:X=>({dragging:X.isDragging()})}),E=(X,re)=>{n.change(_e=>{oe.moveRecord(_e,r,X.id,re)})},A=Wt.useRef(null),V=pe(A),q=()=>{V.open(ce({search:"Select action\u2026",groups:[{key:"table.row",commands:[{key:"table.row.open",title:`Open ${_.recordName}`,icon:v.Maximize,trigger:()=>{w(a.key)}},{key:"table.row.insertAbove",title:"Insert above",icon:v.TableInsertRowAbove,trigger:()=>{n.change(X=>{oe.insertEmptyRecord(X,r,{after:a.value.orderIndex,before:p})})}},{key:"table.row.insertBelow",title:"Insert below",icon:v.TableInsertRow,trigger:()=>{n.change(X=>{oe.insertEmptyRecord(X,r,d?{before:a.value.orderIndex}:{after:a.value.orderIndex,before:m})})}},{key:"table.row.addColumn",icon:v.TableInsertColumn,title:`Add ${_.definitionName}`,trigger:()=>{n.change(X=>{oe.insertColumn(X,r,oe.createColumnFromType("text"))})},descendant:()=>Ms(X=>{n.change(re=>{oe.insertColumn(re,r,oe.createColumnFromType(X))})})},{key:"table.row.remove",title:`Delete ${_.recordName}`,icon:v.Trashcan,trigger:()=>{n.change(X=>{oe.removeRecord(X,r,a.key)})}}]}]}))},[,Y]=I(QB),te=Wt.createElement(sre,{ref:e,handle:jB,style:[b.directionRow,R&&Ze.translucent,C],tag:"tr"},l.columns.map((X,re)=>{let _e=c[X],Be=f===X,le=h==null?void 0:h.find(Yo=>Yo.definitionId===X),ct=y[X],dt=Wt.createElement(Ed,{definitionColorKind:ct,record:a,selected:Be,definition:_e,nodeKey:r,editor:n,readOnly:i});return Wt.createElement(Rb,{key:X,recordKey:a.key,columnId:X,width:k.get(X).animated,selected:Be||!!le,selectedBy:Be||le==null?void 0:le.clientId,isFirstColumn:re===0,isLastColumn:re===l.columns.length-1,isFirstRow:u,isLastRow:d,onPressIn:Yo=>{Yo.type!=="keydown"&&(Yo.preventDefault(),n.change(zr=>{oe.moveTableSelection(zr,r,{recordId:a.key,definitionId:X})}))},readOnly:i},re>0||i?dt:Wt.createElement(Wt.Fragment,null,Wt.createElement(H.View.Child,{descendantOf:jB,ref:T,style:[b.justifyContentCenter,Y.rowGrabber],inactiveStyle:V.opened?{}:Ze.hidden,activeStyle:Ze.visible},Wt.createElement(W,{ref:A,size:"xsmall",rounded:!0,kind:"grey",active:V.opened,title:`Click for options.
Drag to move.`,icon:v.GrabberVertical,onPress:q})),Wt.createElement(S,{style:[b.flex1,b.justifyContentCenter,Pb]},dt)))}));return i?te:Wt.createElement(S,null,te,Wt.createElement(YB,{currentItem:P,position:"before",onDrop:X=>E(X,{before:p,after:a.value.orderIndex})}),d?Wt.createElement(YB,{currentItem:P,position:"after",onDrop:X=>E(X,{before:a.value.orderIndex,after:m})}):null)}));function YB(t){let{currentItem:o,position:e,onDrop:r}=t,n=H.useInteractiveState(),[,i]=I(QB),{logAnalyticsEvent:a}=Wt.useContext(ze),[c,l]=on({accept:"table-record",drop:(u,d)=>{d.didDrop()||(a({type:"edit_page_document_move_block",method:"dnd",blockType:"table-row",toParent:"table",fromParent:"table"}),r(u))},canDrop:u=>o.id!==u.id&&o.blockKey===u.blockKey,collect:u=>({highlighted:u.isOver()&&u.canDrop()})});return Wt.createElement(S,{ref:l,style:[i.insertionLineWrapper,e==="after"?i.insertionLineAfter:i.insertionLineBefore],...n.events},Wt.createElement(S,{style:[i.insertionLineBar,(n.hovered&&n.dragging||c.highlighted)&&i.insertionLineBarHovered]}))}var Tb=10,$B=3,QB=z.create({insertionLineWrapper:{position:"absolute",left:0,right:0,height:Tb},insertionLineBefore:{top:-(Tb/2)},insertionLineAfter:{bottom:-(Tb/2)},insertionLineBar:{position:"absolute",left:0,right:0,top:Tb/2-$B/2,height:$B,borderRadius:M.RADIUS_M},insertionLineBarHovered:t=>({backgroundColor:t.colors.primary.main}),rowGrabber:{position:"absolute",left:g.xsmall,bottom:"auto",zIndex:10}});var cre=20;function JB(t){let{view:o,editor:e,nodeKey:r}=t,[n,i]=Br.useState(),a=Br.useCallback(c=>{c!==null&&i(c)},[]);return Br.createElement(VB,{editor:e,nodeKey:r,view:o,ref:a},Br.createElement(lre,{...t,parentRef:n}))}function lre(t){let{selection:o,selections:e,records:r,definition:n,view:i,readOnly:a,editor:c,nodeKey:l,parentRef:u,openRecord:d}=t,{mode:p}=Br.useContext(Qo),m=c.value.document.getNode(l),f=Br.useContext(Ds),h=iP({enabled:p==="app"&&r.length>cre,parentRef:u?{current:u}:void 0,getEstimatedItemHeight:k=>hk(m,String(k.key),f),list:r.map(k=>({key:k.key}))}),y=EB(n,i.columns),C=!(i.hideHeader||a&&oe.isHeaderEmpty({definition:n,view:i,records:{}}))||!!o.recordId;return Br.createElement(he,{tag:"table"},C?Br.createElement(UB,{definition:n,view:i,editor:c,nodeKey:l,readOnly:a}):null,Br.createElement(he,{tag:"tbody"},h.map(([k,_,P],R)=>{let T=r[R],E=R>0?r[R-1]:void 0,A=r[R+1],V=e.filter(q=>q.recordId===T.key);return _?Br.createElement(ZB,{key:T.key,ref:k.nodeRef,selectedColumnId:o.recordId===T.key?o.definitionId:void 0,selections:V.length>0?V:void 0,record:T,definition:n,view:i,readOnly:a,editor:c,nodeKey:l,isFirstRow:!C&&R===0,isLastRow:R===r.length-1,beforeOrderIndex:E==null?void 0:E.value.orderIndex,afterOrderIndex:A==null?void 0:A.value.orderIndex,definitionColorKinds:y,openRecord:d,...k.nodeProps}):Br.createElement(S,{key:T.key,style:{height:P},ref:k.nodeRef},Br.createElement(F,null,oe.getTableRowPlainText(m,T.value)))})))}var e5={IconComponent:v.Table,title:"Table",recordName:"row",definitionName:"column",selectableView:!0,ViewComponent:JB,DefinitionSettingsComponent:HB,commands:dre,definitionCommands:ure,onKeyDown:KB};function ure(t){var i;let{view:o,definition:e,setView:r}=t,n=typeof((i=o.columnWidths)==null?void 0:i[e.id])>"u";return[{key:"grid",commands:[{key:"grid.autoSize",title:"Auto size",icon:v.AutoSize,type:2,enabled:n,trigger:()=>{if(n)r({...o,useNewSizing:!0,columnWidths:{...o.columnWidths,[e.id]:Pc}});else{let{[e.id]:a,...c}=o.columnWidths||{};r({...o,useNewSizing:!0,columnWidths:c})}}}]}]}function dre(t){let{view:o,setView:e}=t;return[{key:"grid",commands:[{key:"grid.toggleHeader",title:"Show header",type:2,enabled:!o.hideHeader,trigger:()=>{let[r]=e({...o,hideHeader:!o.hideHeader});return r}},{key:"grid.resetSizing",title:"Reset column sizing",trigger:()=>{let{columnWidths:r,...n}=o;e({...n,useNewSizing:!0})}},{key:"grid.columns",title:"Hide Columns",icon:v.EyeOff,descendant:()=>t5(t)}]}]}function t5(t){let{view:o,definition:e,setView:r}=t;return Td(e,n=>{let[,i]=r({...o,columns:n});return t5(i)},{multiple:!0,search:"Select visible columns",selected:o.columns})}var ti={grid:e5,cards:qB};function Eb(t){let{nodeKey:o,editor:e,view:r,definition:n,descendantOf:i,icon:a,rightIcon:c,rounded:l}=t,u={id:n.id,type:"table-definition",blockKey:o,previewLabel:Ha(n)},[,d]=I(pre),p=oi.useRef(null),m=pe(p),f=H.useInteractiveState(),[,h]=Ic({type:u.type,item:u,canDrag:()=>!0}),[y,w]=oi.useState(null),C=A=>{e.change(V=>{oe.setColumnDefinition(V,o,n.id,A)})},k=()=>{let V=e.value.document.assertBlock(o).data.toFrozenObject(),q=V.definition[n.id];return[P(V.view,q),_(V.view,q)]},_=(A,V)=>({definition:V,view:A,setView:q=>(e.change(Y=>{oe.setView(Y,o,q)}),k()),setDefinition:q=>(C(q),k()),openModal:q=>{w({type:"command",modal:oi.createElement(q,{definition:V,onClose:()=>w(null)})})}}),P=(A,V)=>{let q=ei[V.type],Y=ti[A.type],te=_(A,V);return ce({search:"Select action\u2026",groups:[{key:"definition.type",commands:[{key:"definition.type.change",title:q.title,icon:q.IconComponent,descendant:()=>Ms(X=>{w({type:"change_type",columnType:X})},{selectedType:V.type})}]},...q.commands?q.commands(te):[],...Y.definitionCommands?Y.definitionCommands(te):[],{key:"definition.danger",commands:[{key:"definition.add",title:`Add ${Y.definitionName}`,icon:v.TableInsertColumn,trigger:()=>{e.change(X=>{let re=[...A.columns].findIndex(_e=>V.id===_e);oe.insertColumn(X,o,oe.createColumnFromType("text"),re+1)})},descendant:()=>Ms(X=>{let re=[...A.columns].findIndex(_e=>V.id===_e);e.change(_e=>{oe.insertColumn(_e,o,oe.createColumnFromType(X),re+1)})})},{key:"definition.hide",title:`Hide ${Y.definitionName}`,icon:v.EyeOff,trigger:()=>{e.change(X=>{oe.hideColumn(X,o,V.id)})}},{key:"definition.delete",title:`Delete ${Y.definitionName}`,icon:v.Trashcan,trigger:()=>{w({type:"delete"})}}]}]})},R=()=>{m.open(P(r,n))},T=A=>{w(null),A&&e.change(V=>{oe.removeColumn(V,o,n.id)})},E=A=>{w(null),A&&(y==null?void 0:y.type)==="change_type"&&C(oe.changeColumnType(n,y.columnType))};return oi.createElement(oi.Fragment,null,(y==null?void 0:y.type)==="delete"?oi.createElement(xp,{kind:"danger",title:"Delete column",confirmButtonText:"Delete",onComplete:T},"Do you really want to delete this column and all of its data?"):null,(y==null?void 0:y.type)==="change_type"?oi.createElement(xp,{title:"Change column type",confirmButtonText:"Change",onComplete:E},"You are about to change this column type from ",n.type," to"," ",y.columnType,". We will try to convert any value automatically, but you may lose data if we cannot convert them."):null,(y==null?void 0:y.type)==="command"?y.modal:null,oi.createElement(H.View.Child,{...f.events,descendantOf:i,ref:h,style:[b.justifyContentCenter,d.columnGrabber],inactiveStyle:m.opened||f.focused?{}:Ze.hidden,activeStyle:Ze.visible,focusStyle:Ze.translucent},oi.createElement(W,{kind:"grey",size:"small",ref:p,title:`Click for options.
Drag to move.`,active:m.opened,icon:a,rightIcon:c,rounded:l,onPress:R})))}var pre=z.create({columnGrabber:{position:"absolute",right:g.xsmall,bottom:"auto"}});function Mb(t,o,e){let r=o.data.toFrozenObject(),n=ti[r.view.type],i=n.commands?n.commands(o5(t,r,o.key,e)):[];return{...it(t,o.key,[{key:"views",commands:Object.entries(ti).map(([a,c])=>({key:a,title:c.title,icon:c.IconComponent,type:1,selected:a===r.view.type,trigger:()=>{t.change(u=>{oe.setView(u,o.key,{type:a})});let l=t.value.document.assertBlock(o.key);return Mb(t,l,e)}}))},{key:"table",commands:[{key:"addColumn",icon:v.ArrowRight,title:`Add ${n.definitionName}`,trigger:()=>{t.change(a=>{oe.insertColumn(a,o.key,oe.createColumnFromType("text"))})},descendant:()=>Ms(a=>{t.change(c=>{oe.insertColumn(c,o.key,oe.createColumnFromType(a))})})},{key:"insertRow",icon:v.ArrowDown,title:`Insert ${n.recordName}`,trigger:()=>{t.change(a=>{oe.insertEmptyRecord(a,o.key)})}}]},...i,...e]),search:"Select action\u2026"}}function o5(t,o,e,r){return{view:o.view,definition:o.definition,setView:n=>{t.change(a=>{oe.setView(a,e,n)});let i=t.value.document.assertBlock(e);return[Mb(t,i,r),o5(t,i.data.toFrozenObject(),e,r)]}}}s();var n5=x(TF()),co=x(O());G();s();var Ka=x(O());G();s();var eO=JSON.parse('{"definitionWrapper":"definitionWrapper_0vx5U","grabberWrapper":"grabberWrapper_WLh-V"}');var r5=H.createInteractiveHandle("record-column-value-line");function tO(t){let{nodeKey:o,editor:e,readOnly:r,record:n,view:i,definition:a,style:c}=t,[,l]=I(mre),u={id:a.id,type:"table-definition",blockKey:o,previewLabel:Ha(a)},[{dragging:d},p]=Ic({type:u.type,item:u,canDrag:()=>!r,collect:h=>({dragging:h.isDragging()})}),[m,f]=on({accept:[u.type],drop:(h,y)=>{y.didDrop()||e.change(w=>{oe.moveColumn(w,o,h.id,a.id)})},canDrop:h=>a.id!==h.id&&o===h.blockKey,collect:h=>({higlighted:h.isOver()&&h.canDrop()})});return Ka.createElement(ee,{ref:f,style:[D.flex.column,D.flex.flex1,eO.definitionWrapper,d&&D.opacity.translucent,Pg,{[wu]:m.higlighted}]},Ka.createElement(H.View,{handle:r5,style:c},Ka.createElement(S,{style:[b.directionRow,b.alignCenter,g.Margin.xsmallBottom]},Ka.createElement(ee,{style:[D.position.relative,D.flex.alignCenter]},Ka.createElement(h6,{style:[D.padding.smallRight,eO.grabberWrapper],ref:p,size:"medium"}),Ka.createElement(S,{style:[b.flex1]},Ka.createElement(xu,null,Ha(a)))),r?null:Ka.createElement(Eb,{nodeKey:o,editor:e,view:i,definition:a,descendantOf:r5,icon:ei[a.type].IconComponent,rightIcon:v.ChevronDown})),Ka.createElement(Ed,{nodeKey:o,editor:e,readOnly:r,record:n,definition:a,selected:!1,displayMode:"block",style:[l.recordValueBox,g.Padding.smallVertical,g.Padding.mediumHorizontal]})))}var mre=z.create({recordValueBox:t=>({borderWidth:1,borderColor:t.colors.border.mid,backgroundColor:t.colors.background.main,borderRadius:t.radiuses.large,minHeight:M.BUTTON_L})});function i5(t){let{nodeKey:o,editor:e,readOnly:r,record:n,records:i,view:a,definition:c,openRecord:l,onClose:u}=t,[,d]=I(B),[,p]=I(fre),[m,f]=co.useState(!1),h=ti[a.type],y=a.columns,w=co.useMemo(()=>(0,n5.default)(Object.keys(c),y),[y,a,c]),C=co.useMemo(()=>i.findIndex(P=>P.key===n.key),[i,n.key]),k=i[C-1],_=i[C+1];return co.createElement(Co,{title:`Edit ${h.recordName}`,size:"large",footer:co.createElement(S,{style:[b.directionRow,b.alignCenter,b.justifySpaceBetween]},r?null:co.createElement(W,{icon:v.Trashcan,kind:"secondary",size:"medium",onPress:()=>{e.change(P=>{oe.removeRecord(P,o,n.key)}),u()}},`Delete ${h.recordName}`),co.createElement(S,{style:[b.directionRow,b.alignCenter]},co.createElement(W,{icon:v.ChevronLeft,kind:"secondary",size:"medium",title:`Previous ${h.recordName}`,disabled:!k,onPress:()=>{k&&l(k.key)}}),co.createElement(S,{style:[g.Padding.mediumHorizontal]},co.createElement(F,{style:[d.Body,d.textMuted]},`${C+1} of ${i.length}`)),co.createElement(W,{icon:v.ChevronRight,kind:"secondary",size:"medium",title:`Next ${h.recordName}`,disabled:!_,onPress:()=>{_&&l(_.key)}}))),onClose:u},co.createElement(S,null,y.map((P,R)=>co.createElement(tO,{key:P,nodeKey:o,editor:e,readOnly:r,view:a,record:n,definition:c[P],style:[g.Margin.mediumBottom,R===0?null:g.Margin.xsmallTop]}))),w.length>0||!r?co.createElement(S,{style:[b.directionRow,b.justifySpaceBetween]},w.length>0?co.createElement(W,{icon:m?v.ChevronUp:v.ChevronDown,kind:"grey",size:"medium",onPress:()=>{f(P=>!P)}},m?"Hide":`Show hidden ${h.definitionName}s`):null,r?null:co.createElement(Wg,{icon:v.Plus,kind:"grey",size:"medium",palette:()=>Ms(P=>{e.change(R=>{oe.insertColumn(R,o,oe.createColumnFromType(P))})})},"Add ",h.definitionName)):null,m?co.createElement(S,{style:[p.hiddenColumnsGroup,g.Margin.mediumTop,g.Padding.mediumTop]},w.map((P,R)=>co.createElement(tO,{key:P,nodeKey:o,editor:e,readOnly:r,view:a,record:n,definition:c[P],style:[g.Margin.mediumBottom,R===0?null:g.Margin.xsmallTop]}))):null)}var fre=z.create({hiddenColumnsGroup:t=>({borderTopWidth:1,borderTopColor:t.colors.border.mid,borderTopStyle:"dashed"})});s();function a5(t){return oe.defaultRecordSortedKeys(t).map(e=>({key:e,value:t.records[e]}))}function s5(t){let{node:o,editor:e,isFocused:r,selections:n}=t,i=o.data.toFrozenObject(),a=eo.useMemo(()=>a5(i),[i]),[c,l]=eo.useState(null),u=eo.useMemo(()=>c===null?null:a.find(C=>C.key===c),[a,c]),d=eo.useCallback(C=>{l(C)},[l]),p=eo.useMemo(()=>{let C=[],k=[];return n.forEach(_=>{let P=oe.getTableSelection(e.value.document,_,o);C.push(P),!P.recordId&&!P.definitionId&&k.push(_)}),{states:C,filtered:ha.create(k)}},[a,o,e.readOnly,n]),m=eo.useMemo(()=>e.readOnly?{}:oe.getTableSelection(e.value.document,e.value.selection,o),[a,o,e.readOnly,e.value.selection]),f={view:i.view,definition:i.definition,records:a,selection:m,selections:p.states},h=eo.useContext(Cb);h.set(o.key,f),eo.useEffect(()=>()=>{h.delete(o.key)},[h,o.key]);let y=ti[f.view.type],w=ki(e,o.key);return eo.createElement(eo.Fragment,null,eo.createElement(ve,{...t,palette:Mb(e,o,w?[w]:[])},eo.createElement(At,{...t,selectable:y.selectableView,isFocused:r&&!m.definitionId&&!m.recordId,selections:p.filtered,onSelect:()=>{e.change(C=>{oe.moveTableSelection(C,o,{}),C.focus()})}},eo.createElement(nP,{readOnly:!!u},eo.createElement(y.ViewComponent,{editor:t.editor,nodeKey:o.key,readOnly:e.readOnly,openRecord:d,...f})))),u?eo.createElement(i5,{editor:t.editor,nodeKey:o.key,readOnly:e.readOnly,view:f.view,records:f.records,definition:f.definition,record:u,openRecord:d,onClose:()=>{l(null)}}):null)}s();var Vl=x(pi()),Db=x(O());var c5=(0,Vl.isKeyHotkey)("enter"),gre=(0,Vl.isKeyHotkey)("shift+enter"),l5=(0,Vl.isKeyHotkey)("mod+enter"),oO=(0,Vl.isKeyHotkey)("tab"),Lb=(0,Vl.isKeyHotkey)("shift+tab"),u5=(0,Vl.isKeyHotkey)("backspace");function d5(){let t=Db.useContext(Cb);return[Db.useMemo(()=>({onKeyDown:(...e)=>hre(t,...e)}),[t])]}function hre(t,o,e,r){if(o.key!=="ArrowUp"&&o.key!=="ArrowDown"&&o.key!=="ArrowRight"&&o.key!=="ArrowLeft"&&!(c5(o)&&!gre(o))&&!l5(o)&&!u5(o)&&!oO(o)&&!Lb(o))return;let{selection:n}=e.value;if(!Vt(n)||!n.isCollapsed&&!oO(o)&&!Lb(o))return;let i=oe.getCurrentTable(e.value);if(!i)return;let{table:a,fragment:c}=i;if(i.ancestorBlocks&&i.ancestorBlocks.size>0)return;if(l5(o))return o.preventDefault(),Ct(e,a),e;let l=t.get(a.key);if(!l||!l.selection.recordId&&!l.selection.definitionId)return;let u=a.data.toFrozenObject(),d=l.selection.recordId?u.records[l.selection.recordId]:null,p=l.selection.definitionId?u.definition[l.selection.definitionId]:null,m=ti[l.view.type],f=p?ei[p.type]:null,h=w=>{if(!f||!f.onKeyDown||!d||!p)return!1;let C=!1;return f.onKeyDown(w,d.values[p.id],k=>{C=!0,oe.setRecordValue(e,a.key,l.selection.recordId,l.selection.definitionId,k)}),C},y=w=>{m.onKeyDown&&m.onKeyDown(w,a,l,e)};if(c5(o)){if(c&&!n.hasAnchorAtEndOf(c))return;o.preventDefault(),h("enter")||y("enter")}else if(u5(o)){if(c&&!n.hasAnchorAtStartOf(c))return;o.preventDefault(),h("backspace")||y("backspace")}else if(oO(o)||Lb(o))o.preventDefault(),y(Lb(o)?"shift+tab":"tab");else if(o.key==="ArrowDown"){if(c&&!vre(c,n))return;o.preventDefault(),y("move-down")}else if(o.key==="ArrowUp"){if(c&&!yre(c,n))return;o.preventDefault(),y("move-up")}else if(o.key==="ArrowRight"){if(c&&!n.hasAnchorAtEndOf(c))return;o.preventDefault(),y("move-right")}else if(o.key==="ArrowLeft"){if(c&&!n.hasAnchorAtStartOf(c))return;o.preventDefault(),y("move-left")}return e}function yre(t,o){let e=t.nodes.first();return e?o.hasAnchorIn(e):!1}function vre(t,o){let e=t.nodes.last();return e?o.hasAnchorIn(e):!1}s();var lo=x(O());G();s();var p5=x(O());G();function rO(t){let{children:o}=t,[,e]=I(bre);return p5.default.createElement(S,{style:[e.blockTabsBody]},o)}var bre=z.create({blockTabsBody:t=>({border:`1px solid ${t.colors.border.main}`,backgroundColor:t.colors.background.main,paddingHorizontal:mk,borderRadius:t.radiuses.medium,borderTopLeftRadius:0,"@media print":{padding:0,border:0}})});s();var Nb=x(O());G();function nO(t){let{children:o}=t,[,e]=I(Sre);return Nb.default.createElement(S,{style:e.blockTabsHeader},Nb.default.createElement(Ig,{style:e.blockTabsHeaderContainer},Nb.default.createElement(S,{style:e.blockTabsHeaderContent},o)))}var Sre=z.create({blockTabsHeader:{position:"relative",display:"flex",flexDirection:"row",width:"100%",alignItems:"center",whiteSpace:"nowrap",marginBottom:-1,"@media print":{display:"none"},zIndex:1},blockTabsHeaderContainer:{maxWidth:"100%",display:"flex"},blockTabsHeaderContent:t=>({maxWidth:"100%",display:"flex",flexDirection:"row",borderTopRightRadius:t.radiuses.medium,borderTopLeftRadius:t.radiuses.medium,pointerEvents:"auto"})});s();var Po=x(O()),T5=x(_5());G();s();var Md=x(O());G();var E5=Md.default.forwardRef(function(o,e){let{active:r,editor:n,tab:i,isLast:a,onDropBefore:c,onDropAfter:l,onInsertLeft:u,onInsertRight:d,onDelete:p,children:m,...f}=o;return Md.default.createElement(S,{style:[R5.tabItemControls,r&&R5.tabItemControlsActive],...f,ref:e},Md.default.createElement(P5,{position:"before",onDrop:c,onInsert:u}),m,a?Md.default.createElement(P5,{position:"after",onDrop:l,onInsert:d}):null)});function P5(t){let{position:o,onDrop:e,onInsert:r}=t,[n,i]=on({accept:["tab"],drop:(a,c)=>{c.didDrop()||a.type==="tab"&&e(a.id)},canDrop:a=>a.type==="tab",collect:a=>({hovered:a.isOver({shallow:!0})&&a.canDrop()})});return Md.default.createElement(wp,{ref:i,dropHovered:n.hovered,position:o==="before"?"left":"right",button:{kind:"default",size:"xsmall",icon:v.Plus,onPress:r}})}var R5=Q.create({tabItemControls:{position:"relative",flexShrink:1},tabItemControlsActive:{flexShrink:0},tabItemInsertionLine:{flex:1,opacity:0,display:"flex",alignItems:"center",justifyContent:"center"},tabItemInsertionLineHovered:{opacity:1}});function lO(t){let{editor:o,tab:e,index:r,active:n,isFirst:i,isLast:a,onSelect:c}=t,{readOnly:l}=o,u=e.data?e.data.get("title"):"Untitled",[{isDragging:d},p]=Aa({type:"tab",item:{type:"tab",id:e.key,previewLabel:"Move tab"},canDrag:()=>!l,collect:w=>({isDragging:w.isDragging()})}),m=w=>{o.change(C=>{let k=C.value.document.getParent(e.key);if(!k)return;let _=Wi.createTabsItem("Untitled");C.insertNodeByKey(k.key,r+w,_);let P=C.value.document.getDescendant(_.key);P&&C.collapseToStartOf(P).focus(),c(_)})},f=w=>{o.change(C=>{C.setNodeByKey(e.key,{data:e.data.merge({title:w})})})},h=(w,C)=>{o.change(k=>{C==="before"?k.moveBeforeNodeByKey(w,e.key):k.moveAfterNodeByKey(w,e.key);let _=k.value.document.getDescendant(w);_&&k.collapseToStartOf(_).focus()})},y=()=>{o.change(w=>{w.removeNodeByKey(e.key)})};return l?Po.default.createElement(mo,{onPress:()=>c(e)},Po.default.createElement(cO,{title:u,active:n,isFirst:i,isLast:a,isEditable:!1,withOptions:!1,editor:o,tab:e})):Po.default.createElement(mo,{onPress:()=>c(e)},Po.default.createElement(E5,{onInsertLeft:()=>m(0),onInsertRight:()=>m(1),onDropBefore:w=>h(w,"before"),onDropAfter:w=>h(w,"after"),onDelete:y,...t},Po.default.createElement(cO,{title:u,active:n,isFirst:i,isLast:a,isEditable:n,onTitleChange:f,editor:o,tab:e,withOptions:!0,isDragging:d,dragHandleRef:p})))}var cO=Po.default.forwardRef((t,o)=>{let{title:e,titlePlaceholder:r="Untitled",active:n=!1,isFirst:i=!1,isLast:a=!1,isDragging:c=!1,isEditable:l,withOptions:u,onTitleChange:d,editor:p,tab:m,dragHandleRef:f,...h}=t,[y,w]=Po.default.useState(e),[C,k]=I(Tre),_=d?()=>{d(y||"")}:void 0;Po.default.useEffect(()=>{w(e)},[e]);let P=Po.default.useRef(null),R=gi(P,f),T=pe(P),E=()=>{T.open(ce({position:{width:"small"},groups:[{key:"tab",commands:[{key:"delete",title:"Delete",icon:v.Trashcan,trigger:()=>{p.change(A=>{Wi.removeTab(A,m.key)})}}]}]}))};return Po.default.createElement(H.View,{ref:o,style:[k.blockTabsBodyItem,g.Padding.xsmallVertical,n&&k.blockTabsBodyItemActive,i&&k.blockTabsBodyItemFirst,a&&k.blockTabsBodyItemLast],...h},Po.default.createElement(S,{style:k.flexPadding}),Po.default.createElement(S,{style:[k.blockTabsBodyItemTitleContainer,c&&Ze.translucent,g.Padding.xsmallVertical]},l?Po.default.createElement(Po.default.Fragment,null,Po.default.createElement(T5.default,{value:y,inputStyle:{...Ye.Label,color:C.colors.text.main,backgroundColor:"transparent",border:"none",...bg.Bold,padding:0,margin:0,lineHeight:"22px"},title:y,placeholder:r,onChange:A=>w(A.target.value),onBlur:_})):Po.default.createElement(F,{style:[vo.Label,k.blockTabsBodyItemReadonlyTitle,n&&k.blockTabsBodyItemTitleReadonlyActive]},y||r)),u?Po.default.createElement(H.View.Child,{style:[k.tabItemOptions],inactiveStyle:T.opened||l?Ze.visible:Ze.hidden,activeStyle:Ze.visible},Po.default.createElement(W,{ref:R,kind:"grey",size:"small",rounded:!0,active:T.opened,onPress:E,icon:v.GrabberVertical,title:`Click for options.
Drag to move.`})):null,Po.default.createElement(S,{style:k.flexPadding}))});cO.displayName="TabItem";var Tre=z.create({blockTabsBodyItem:t=>({flexGrow:0,flexShrink:1,flexBasis:"auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,borderWidth:1,borderColor:t.colors.border.main,borderLeftColor:"transparent",backgroundColor:t.colors.background.muted,flexDirection:"row",cursor:"pointer"}),blockTabsBodyItemFirst:t=>({borderLeftColor:t.colors.border.main,borderTopLeftRadius:t.radiuses.medium}),blockTabsBodyItemLast:t=>({borderTopRightRadius:t.radiuses.medium}),blockTabsBodyItemActive:t=>({flexGrow:0,flexShrink:0,flexBasis:"auto",cursor:"auto",backgroundColor:t.colors.background.main,borderBottomColor:t.colors.background.main}),flexPadding:{minWidth:8,width:16,flexGrow:1,flexShrink:1,flexBasis:"16px"},blockTabsBodyItemTitleContainer:{flexGrow:0,flexShrink:1,flexBasis:"auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flexDirection:"row"},blockTabsBodyItemReadonlyTitle:t=>({color:t.colors.text.muted,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),blockTabsBodyItemTitleReadonlyActive:t=>({color:t.colors.text.main}),tabItemOptions:{marginLeft:g.medium,display:"flex",alignItems:"center",justifyContent:"center"}});s();var L5=x(O());G();function uO(t){let{active:o,children:e,...r}=t;return L5.default.createElement(S,{style:[M5.blockTabsItem,o&&M5.blockTabsItemActive],...r},e)}var M5=Q.create({blockTabsItem:{display:"none",pageBreakInside:"avoid"},blockTabsItemActive:{display:"flex"}});s();var nf=x(O());var Mre=5,D5={activeKeys:{},activeTitles:[]},Lre=Lt({key:"tabsAtom",default:D5,effects:[vn.recoilEffect("@recoil/tabsAtom",D5)]});function N5(t){let{sections:o,selected:e}=nf.useContext(wi),r=nf.useMemo(()=>{let u=new Map;return t.blockNodes.forEach(d=>{let p=lu();[...o.entries()].filter(([m])=>d.getNode(m)).forEach(([m,f])=>{p.set(m,f)}),u.set(d.key,p)}),u},[o,t]),[n,i]=Kr(Lre),[a,c]=Hs(!1,[e]),l=Ys();return nf.useMemo(()=>{let{value:u,readOnly:d}=l;return[(d?null:Nre(u,t))||Dre(n,t,a,r,e)||(d?Are(n,t):null)||t.blockNodes.first(),m=>{let f=m.data.get("title");c(!0),i(h=>({activeKeys:{...h.activeKeys,[t.key]:m.key},activeTitles:f?h.activeTitles.filter(y=>y!==f).concat([f]).slice(-Mre):h.activeTitles}))}]},[l,n,i,a,r,e])}function Dre(t,o,e,r,n){let i=t.activeKeys[o.key];return e&&i?o.blockNodes.find(a=>a.key===i):o.blockNodes.find(a=>{var c;return[...((c=r.get(a.key))==null?void 0:c.values())||[]].includes(n||"")})}function Nre(t,o){if(t.selection.isFocused)return o.blockNodes.find(e=>ye.isTextRange(t.selection)&&(t.selection.hasAnchorIn(e)||t.selection.hasFocusIn(e)))}function Are(t,o){return o.blockNodes.map(e=>{let r=e.data.get("title");return{node:e,score:t.activeTitles.indexOf(r)}}).filter(({score:e})=>e>=0).sortBy(({score:e})=>-e).map(({node:e})=>e).first()||void 0}function A5(t){let{node:o,children:e,editor:r}=t,[n,i]=N5(o),a=o.getChildIndex(n.key),c=et(),l=lo.default.useRef(null),u=lo.default.useRef(null),d=lo.default.useCallback(f=>{let h=l.current;h&&h.measureInWindow((y,w)=>{u.current=w}),r.readOnly||r.change(y=>{y.blur()}),i(f)},[r,i]);lo.default.useEffect(()=>{let{current:f}=u;f&&(u.current=null,window.requestAnimationFrame(()=>{let h=l.current;h&&h.measureInWindow((y,w)=>{window.scrollBy(0,w-f)})}))},[n]);let p=o.blockNodes.map((f,h)=>lo.default.createElement(lO,{key:f.key,editor:r,tab:f,index:h,active:h===a,isFirst:h===0,isLast:h===o.nodes.size-1,onSelect:y=>d(y)})),m=lo.default.Children.map(e,(f,h)=>lo.default.createElement(uO,{key:f&&typeof f=="object"&&"key"in f?f.key:h,active:h===a},f));return c?lo.default.createElement(ve,{...t},lo.default.createElement(S,{ref:l},lo.default.Children.map(e,(f,h)=>{let y=o.nodes.toArray()[h];return lo.default.createElement(ve,{key:y.key,...t},lo.default.createElement(S,{ref:l},lo.default.createElement(nO,null,lo.default.createElement(lO,{editor:r,key:y.key,tab:y,index:h,active:!0,isFirst:!0,isLast:!1,onSelect:()=>{}})),lo.default.createElement(rO,null,lo.default.createElement(uO,{active:!0},f))))}))):lo.default.createElement(ve,{...t},lo.default.createElement(S,{ref:l},lo.default.createElement(nO,null,p),lo.default.createElement(rO,null,m)))}s();var dO=x(O());G();function B5(t){let{attributes:o,children:e}=t;return dO.default.createElement(ve,{...t},dO.default.createElement(S,{...o},e))}s();var af=x(pi());var q5={onKeyDown:Bre};function Bre(t,o){let{value:e}=o;return To(e.selection)?null:(0,af.default)("backspace",t)&&e.isCollapsed?qre(t,o):(0,af.default)("enter",t)?Wre(t,o):(0,af.default)("mod+enter",t)?Fre(t,o):(0,af.default)("mod+a",t)?zre(t,o):null}function qre(t,o){let{value:e}=o,r=Wi.getCurrentTab(e);return!r||!lp(r)?null:(t.preventDefault(),Wi.removeTab(o,r.key))}function Wre(t,o){let{value:e}=o,r=Wi.getCurrentTab(e);if(!r||r.nodes.size<=1||!lp(r.blockNodes.last()))return null;let n=e.document.getClosest(e.startKey,u=>"type"in u&&u.type===jr);if(!n)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter is pressed twice");let i=e.document.getParent(n.key);if(!i)throw new Error("Could not find parent of tab while exiting tab when enter is pressed twice");let a=i.getChildIndex(n.key);if(a<0)throw new Error("Could not find child of parent while exiting tab when enter is pressed twice");t.preventDefault();let c=r.blockNodes.last();c&&o.removeNodeByKey(c.key);let l=Gt.create({type:ge,nodes:[Vf.create("")]});return o.insertNodeByKey(i.key,a+1,l).collapseToStartOf(l)}function Fre(t,o){let{value:e}=o;if(!Wi.getCurrentTab(e))return null;let n=e.document.getClosest(e.startKey,c=>"type"in c&&c.type===jr);if(!n)throw new Error("Could not find parent of type BLOCK_TABS while exiting tab when enter are pressed twice");let i=e.document.getParent(n.key);if(!i)throw new Error("Could not find parent of tab while exiting tab on mod+enter");if(i.getChildIndex(n.key)<0)throw new Error("Could not find child of parent while exiting tab on mod+enter");return t.preventDefault(),Ct(o,n),o}function zre(t,o){let{value:e}=o,r=Wi.getCurrentTab(e);return r?(t.preventDefault(),o.collapseToStartOf(r).extendToEndOf(r)):null}var W5={renderNode:Vre,renderVirtualNode:Gre,renderMark:Hre,estimateNodeSize:(t,o)=>{let e=Oi(t,o);return{height:Ll(t,o,{blockSpacing:e})}}};function Vre(t){if(Gt.isBlock(t.node)&&!np.isInline(t.parent)){let o=t;switch(t.node.type){case ge:return Ue.createElement(I8,{...o,node:t.node,parent:t.parent});case go:case Ht:case ho:return Ue.createElement(m8,{...o,node:t.node,parent:t.parent});case $o:return Ue.createElement(f8,{...o,node:t.node,parent:t.parent});case Fe:case Ge:case rt:return Ue.createElement(n3,{...o,node:t.node,parent:t.parent});case fn:return Ue.createElement(s5,{...o,node:t.node,parent:t.parent});case Xr:return Ue.createElement(D9,{...o,node:t.node,parent:t.parent});case ya:return Ue.createElement(B9,{...o,node:t.node,parent:t.parent});case Ur:return Ue.createElement(a3,{...o,node:t.node,parent:t.parent});case Bi:return Ue.createElement(J3,{...o,node:t.node,parent:t.parent});case Ja:return Ue.createElement(o3,{...o,node:t.node,parent:t.parent});case yr:return Ue.createElement(z9,{...o,node:t.node,parent:t.parent});case Mo:return Ue.createElement(TA,{...o,node:t.node,parent:t.parent});case fo:return Ue.createElement(T8,{...o,node:t.node,parent:t.parent});case Kt:return Ue.createElement(R8,{...o,node:t.node,parent:t.parent});case jr:return Ue.createElement(A5,{...o,node:t.node,parent:t.parent});case mn:return Ue.createElement(B5,{...o,node:t.node,parent:t.parent});case tl:return Ue.createElement(pB,{...o,node:t.node,parent:t.parent});case su:return Ue.createElement(z8,{...o,node:t.node,parent:t.parent});case os:return Ue.createElement(F8,{...o,node:t.node,parent:t.parent});case qn:return Ue.createElement(Z9,{...o,node:t.node,parent:t.parent});case Qa:return Ue.createElement(t3,{...o,node:t.node,parent:t.parent});case ci:return Ue.createElement(G9,{...o,node:t.node,parent:t.parent});case es:return Ue.createElement(K8,{...o,node:t.node,parent:t.parent})}}if(np.isInline(t.node)&&!zs.isDocument(t.parent))switch(t.node.type){case vr:return Ue.createElement(c8,{...t,node:t.node,parent:t.parent});case au:return Ue.createElement(eB,{...t,node:t.node,parent:t.parent});case Gf:return Ue.createElement(mB,{...t,node:t.node,parent:t.parent});case Hf:return Ue.createElement(M9,{...t,node:t.node,parent:t.parent})}return null}function Gre(t){switch(t.node.type){case Fe:case Ge:case rt:return Ue.createElement(i3,{...t,key:t.node.key})}}function Hre(t){switch(t.mark.type){case Yr:return Ue.createElement(oB,{...t});case $r:return Ue.createElement(nB,{...t});case Wn:return Ue.createElement(aB,{...t});case yo:return Ue.createElement(cB,{...t});case ap:return Ue.createElement(uB,{...t});case Kf:case Uf:case Xf:return Ue.createElement(G8,{...t})}return null}var U3=at.forwardRef(function(o,e){var Fs,pa,Vr,An,U,ie;let{value:r,baseValue:n,selections:i=ha.create(),onChange:a,placeholder:c,uploadFiles:l,updateFile:u,logAnalyticsEvent:d,readOnly:p=!1,style:m,sectionIDs:f,selectedSection:h,isDiff:y,blockLayoutComponent:w,rightGutterComponent:C,integrationBlocksRemote:k,getIntegrationsBlocks:_,onBlockHover:P,plugins:R}=o,{mode:T}=at.useContext(Qo),E=at.useRef(null),A=gi(E,e),V=at.useMemo(()=>i.filter(Vt).filter(j=>j.isSet),[i]),q=at.useMemo(()=>({...Dx,...w?{blockLayoutComponent:w}:{},...C?{rightGutterComponent:C}:{},onBlockHover:P,getIntegrationsBlocks:_}),[P,_]);l&&(q.uploadFiles=l),u&&(q.updateFile=u),d&&(q.logAnalyticsEvent=d),q.integrationBlocksRemote=k;let[,Y]=I(B),te=O9(q),[X]=d5(),re=K9(_),_e=d8(q),Be=tP(r.document,Xr),le=at.useMemo(()=>[W5,X,I9,q9,L8,q5,_8,g8,_e,...S8,O8,$9,r8,re,X9,Q9,L9,Be,W8,te,P9,s9,_9,...R!=null?R:[]],[te,_e,Be,R]),ct=et(),dt=ns(r.document);at.useEffect(()=>{var j,ne;if((j=E.current)!=null&&j.value.isFocused)return Ug((ne=E.current)!=null&&ne.value.selection.isCollapsed?"editor-selection-collapsed":"editor-selection-expanded")},[(Fs=E.current)==null?void 0:Fs.value.isFocused,(pa=E.current)==null?void 0:pa.value.selection.isCollapsed]);let Yo=at.useRef(null),zr=(An=(Vr=E.current)==null?void 0:Vr.value)!=null&&An.selection?To((ie=(U=E.current)==null?void 0:U.value)==null?void 0:ie.selection):!1;at.useEffect(()=>{let j=zr?"block":"text";Yo.current&&j!==Yo.current&&(d==null||d({type:"edit_switch_selection_mode",selectionMode:j})),Yo.current=zr?"block":"text"},[zr]);let[pt,pn]=at.useState(null),Eo=at.useMemo(()=>({sections:f||lu(),active:pt,selected:h,setActive:pn}),[f,pt]),$t=n===null?null:n===void 0?void 0:n.document;return at.createElement(l9,{original:$t,modified:r.document},at.createElement(wi.Provider,{value:Eo},at.createElement(ze.Provider,{value:q},at.createElement(Rs.View,{style:[Ld.editor,m],isPDF:ct},p?null:at.createElement(mo,{onPress:()=>{var j;(j=E.current)==null||j.change(ne=>FS(ne,"DOCUMENT_START"))}},at.createElement(S,{style:[Ld.editorFocusArea,Ld.editorFocusAreaTop]})),dt&&c&&!r.isFocused&&!p?at.createElement(q.blockLayoutComponent,{renderMode:"centered"},at.createElement(S,{style:[Ld.placeholder]},at.createElement(F,{style:[Y.Body,Y.textMuted]},c))):null,at.createElement(aP,{ref:A,testID:"page.contentEditor",value:r,onChange:a,readOnly:p,selections:V,plugins:le,virtualize:T==="app",enableBlockContainment:p&&!y},!p&&Vt(r.selection)?at.createElement(VA,{value:r,selection:r.selection}):null),p?null:at.createElement(mo,{onPress:()=>{var j;(j=E.current)==null||j.change(ne=>FS(ne,"DOCUMENT_END"))}},at.createElement(S,{style:[Ld.editorFocusArea,Ld.editorFocusAreaBottom]}))))))}),Ld=Q.create({editor:{position:"relative"},editorFocusArea:{position:"absolute",cursor:"text",right:0,left:0},editorFocusAreaTop:{height:g.large,top:-g.large},editorFocusAreaBottom:{height:g.large,bottom:-g.large},placeholder:{position:"absolute",top:g.small}});s();var cn=x(O());s();s();var hf=x(O());s();var Xa=x(O());s();var qr=x(O());s();var Gl="right-scroll-bar-position",Hl="width-before-scroll-bar",pO="with-scroll-bars-hidden",mO="--removed-body-scroll-bar-size";s();s();function F5(t,o){return typeof t=="function"?t(o):t&&(t.current=o),t}s();var z5=x(O());function V5(t,o){var e=(0,z5.useState)(function(){return{value:t,callback:o,facade:{get current(){return e.value},set current(r){var n=e.value;n!==r&&(e.value=r,e.callback(r,n))}}}})[0];return e.callback=o,e.facade}s();function sf(t,o){return V5(o||null,function(e){return t.forEach(function(r){return F5(r,e)})})}s();s();s();function G5(t){return t}function H5(t,o){o===void 0&&(o=G5);var e=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(i){var a=o(i,r);return e.push(a),function(){e=e.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;e.length;){var a=e;e=[],a.forEach(i)}e={push:function(c){return i(c)},filter:function(){return e}}},assignMedium:function(i){r=!0;var a=[];if(e.length){var c=e;e=[],c.forEach(i),a=e}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),e={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),e}}}};return n}function cf(t,o){return o===void 0&&(o=G5),H5(t,o)}function Kl(t){t===void 0&&(t={});var o=H5(null);return o.options=rr({async:!0,ssr:!1},t),o}s();var K5=x(O()),X5=function(t){var o=t.sideCar,e=Jc(t,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=o.read();if(!r)throw new Error("Sidecar medium not found");return K5.createElement(r,rr({},e))};X5.isSideCarExport=!0;function Xl(t,o){return t.useMedium(o),X5}var Ab=Kl();var fO=function(){},Bb=qr.forwardRef(function(t,o){var e=qr.useRef(null),r=qr.useState({onScrollCapture:fO,onWheelCapture:fO,onTouchMoveCapture:fO}),n=r[0],i=r[1],a=t.forwardProps,c=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,m=t.sideCar,f=t.noIsolation,h=t.inert,y=t.allowPinchZoom,w=t.as,C=w===void 0?"div":w,k=Jc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=m,P=sf([e,o]),R=rr(rr({},k),n);return qr.createElement(qr.Fragment,null,d&&qr.createElement(_,{sideCar:Ab,removeScrollBar:u,shards:p,noIsolation:f,inert:h,setCallbacks:i,allowPinchZoom:!!y,lockRef:e}),a?qr.cloneElement(qr.Children.only(c),rr(rr({},R),{ref:P})):qr.createElement(C,rr({},R,{className:l,ref:P}),c))});Bb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bb.classNames={fullWidth:Hl,zeroRight:Gl};s();s();s();function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Dd.apply(this,arguments)}var Et=x(O());s();var lf="data-focus-lock",qb="data-focus-lock-disabled",U5="data-no-focus-lock",j5="data-autofocus-inside",Y5="data-no-autofocus";var Q5=x(O());s();var Nd=x(O());var Ad={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},$5=function(o){var e=o.children;return Nd.createElement(Nd.Fragment,null,Nd.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Ad}),e,e&&Nd.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:Ad}))};$5.propTypes={};$5.defaultProps={children:null};s();var Wb=cf({},function(t){var o=t.target,e=t.currentTarget;return{target:o,currentTarget:e}}),Fb=cf(),Z5=cf(),zb=Kl({async:!0});var Xre=[],gO=Et.forwardRef(function(o,e){var r,n=Et.useState(),i=n[0],a=n[1],c=Et.useRef(),l=Et.useRef(!1),u=Et.useRef(null),d=o.children,p=o.disabled,m=o.noFocusGuards,f=o.persistentFocus,h=o.crossFrame,y=o.autoFocus,w=o.allowTextSelection,C=o.group,k=o.className,_=o.whiteList,P=o.hasPositiveIndices,R=o.shards,T=R===void 0?Xre:R,E=o.as,A=E===void 0?"div":E,V=o.lockProps,q=V===void 0?{}:V,Y=o.sideCar,te=o.returnFocus,X=o.focusOptions,re=o.onActivation,_e=o.onDeactivation,Be=Et.useState({}),le=Be[0],ct=Et.useCallback(function(){u.current=u.current||document&&document.activeElement,c.current&&re&&re(c.current),l.current=!0},[re]),dt=Et.useCallback(function(){l.current=!1,_e&&_e(c.current)},[_e]);(0,Q5.useEffect)(function(){p||(u.current=null)},[]);var Yo=Et.useCallback(function(Vr){var An=u.current;if(An&&An.focus){var U=typeof te=="function"?te(An):te;if(U){var ie=typeof U=="object"?U:void 0;u.current=null,Vr?Promise.resolve().then(function(){return An.focus(ie)}):An.focus(ie)}}},[te]),zr=Et.useCallback(function(Vr){l.current&&Wb.useMedium(Vr)},[]),pt=Fb.useMedium,pn=Et.useCallback(function(Vr){c.current!==Vr&&(c.current=Vr,a(Vr))},[]),Eo=Dd((r={},r[qb]=p&&"disabled",r[lf]=C,r),q),$t=m!==!0,Fs=$t&&m!=="tail",pa=sf([e,pn]);return Et.createElement(Et.Fragment,null,$t&&[Et.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:Ad}),P?Et.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:Ad}):null],!p&&Et.createElement(Y,{id:le,sideCar:zb,observed:i,disabled:p,persistentFocus:f,crossFrame:h,autoFocus:y,whiteList:_,shards:T,onActivation:ct,onDeactivation:dt,returnFocus:Yo,focusOptions:X}),Et.createElement(A,Dd({ref:pa},Eo,{className:k,onBlur:pt,onFocus:zr}),d),Fs&&Et.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:Ad}))});gO.propTypes={};gO.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var J5=gO;s();function hO(t){var o=window,e=o.setImmediate;typeof e<"u"?e(t):setTimeout(t,1)}var eq=J5;s();var Vb=Kl(),Gb="data-focus-on-hidden";var tq=Xa.forwardRef(function(t,o){var e=Xa.useState(!1),r=e[0],n=e[1],i=t.children,a=t.autoFocus,c=t.shards,l=t.enabled,u=l===void 0?!0:l,d=t.scrollLock,p=d===void 0?!0:d,m=t.focusLock,f=m===void 0?!0:m,h=t.returnFocus,y=h===void 0?!0:h,w=t.inert,C=t.allowPinchZoom,k=t.sideCar,_=t.className,P=t.shouldIgnore,R=t.style,T=t.as,E=Jc(t,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),A=k,V=r.onActivation,q=r.onDeactivation,Y=Jc(r,["onActivation","onDeactivation"]),te=rr(rr({},Y),{sideCar:k,shards:c,allowPinchZoom:C,as:T,inert:w,style:R,enabled:u&&p});return Xa.createElement(Xa.Fragment,null,Xa.createElement(eq,{ref:o,sideCar:k,disabled:!(r&&u&&f),returnFocus:y,autoFocus:a,shards:c,onActivation:V,onDeactivation:q,className:_,whiteList:P,lockProps:te,as:Bb},i),u&&Xa.createElement(A,rr({},E,{sideCar:Vb,setLockProps:n,shards:c})))});s();s();s();var wq=x(O());s();s();s();function uf(t,o){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},uf(t,o)}function yO(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,uf(t,o)}var Hb=x(O());function Ure(t,o){function e(r){return r.displayName||r.name||"Component"}return function(n){var i=[],a;function c(){a=t(i.map(function(u){return u.props})),o(a)}var l=function(u){yO(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a};var p=d.prototype;return p.componentDidMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var f=i.indexOf(this);i.splice(f,1),c()},p.render=function(){return Hb.default.createElement(n,this.props)},d}(Hb.PureComponent);return By(l,"displayName","SideEffect("+e(n)+")"),l}}var oq=Ure;s();s();s();s();var Wr=function(t){for(var o=Array(t.length),e=0;e<t.length;++e)o[e]=t[e];return o},df=function(t){return Array.isArray(t)?t:[t]};s();var jre=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var o=window.getComputedStyle(t,null);return!o||!o.getPropertyValue?!1:o.getPropertyValue("display")==="none"||o.getPropertyValue("visibility")==="hidden"},rq=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},nq=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},Yre=function(t,o){return!t||nq(t)||!jre(t)&&o(rq(t))},vO=function(t,o){var e=t.get(o);if(e!==void 0)return e;var r=Yre(o,vO.bind(void 0,t));return t.set(o,r),r},$re=function(t,o){return t&&!nq(t)?Qre(t)?o(rq(t)):!1:!0},bO=function(t,o){var e=t.get(o);if(e!==void 0)return e;var r=$re(o,bO.bind(void 0,t));return t.set(o,r),r},SO=function(t){return t.dataset},Zre=function(t){return t.tagName==="BUTTON"},iq=function(t){return t.tagName==="INPUT"},wO=function(t){return iq(t)&&t.type==="radio"},aq=function(t){return!((iq(t)||Zre(t))&&(t.type==="hidden"||t.disabled))},Qre=function(t){var o=t.getAttribute(Y5);return![!0,"true",""].includes(o)},pf=function(t){var o;return!!(t&&(!((o=SO(t))===null||o===void 0)&&o.focusGuard))},Bd=function(t){return!pf(t)},sq=function(t){return!!t};s();var Jre=function(t,o){var e=t.tabIndex-o.tabIndex,r=t.index-o.index;if(e){if(!t.tabIndex)return 1;if(!o.tabIndex)return-1}return e||r},CO=function(t,o,e){return Wr(t).map(function(r,n){return{node:r,index:n,tabIndex:e&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!o||r.tabIndex>=0}).sort(Jre)};s();s();var cq=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var xO=cq.join(","),ene="".concat(xO,", [data-focus-guard]"),lq=function(t,o){var e;return Wr(((e=t.shadowRoot)===null||e===void 0?void 0:e.children)||t.children).reduce(function(r,n){return r.concat(n.matches(o?ene:xO)?[n]:[],lq(n))},[])},Kb=function(t,o){return t.reduce(function(e,r){return e.concat(lq(r,o),r.parentNode?Wr(r.parentNode.querySelectorAll(xO)).filter(function(n){return n===r}):[])},[])},uq=function(t){var o=t.querySelectorAll("[".concat(j5,"]"));return Wr(o).map(function(e){return Kb([e])}).reduce(function(e,r){return e.concat(r)},[])};var kO=function(t,o){return Wr(t).filter(function(e){return vO(o,e)}).filter(function(e){return aq(e)})},OO=function(t,o){return o===void 0&&(o=new Map),Wr(t).filter(function(e){return bO(o,e)})},mf=function(t,o,e){return CO(kO(Kb(t,e),o),!0,e)},IO=function(t,o){return CO(kO(Kb(t),o),!1)},dq=function(t,o){return kO(uq(t),o)},Hc=function(t,o){return t.shadowRoot?Hc(t.shadowRoot,o):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,o)?!0:Wr(t.children).some(function(e){return Hc(e,o)})};s();var tne=function(t){for(var o=new Set,e=t.length,r=0;r<e;r+=1)for(var n=r+1;n<e;n+=1){var i=t[r].compareDocumentPosition(t[n]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&o.add(n),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&o.add(r)}return t.filter(function(a,c){return!o.has(c)})},pq=function(t){return t.parentNode?pq(t.parentNode):t},qd=function(t){var o=df(t);return o.filter(Boolean).reduce(function(e,r){var n=r.getAttribute(lf);return e.push.apply(e,n?tne(Wr(pq(r).querySelectorAll("[".concat(lf,'="').concat(n,'"]:not([').concat(qb,'="disabled"])')))):[r]),e},[])};s();var mq=function(t){return t.activeElement?t.activeElement.shadowRoot?mq(t.activeElement.shadowRoot):t.activeElement:void 0},Wd=function(){return document.activeElement?document.activeElement.shadowRoot?mq(document.activeElement.shadowRoot):document.activeElement:void 0};var one=function(t){return t===document.activeElement},rne=function(t){return!!Wr(t.querySelectorAll("iframe")).some(function(o){return one(o)})},Xb=function(t){var o=document&&Wd();return!o||o.dataset&&o.dataset.focusGuard?!1:qd(t).some(function(e){return Hc(e,o)||rne(e)})};s();var _O=function(){var t=document&&Wd();return t?Wr(document.querySelectorAll("[".concat(U5,"]"))).some(function(o){return Hc(o,t)}):!1};s();s();s();var nne=function(t,o){return o.filter(wO).filter(function(e){return e.name===t.name}).filter(function(e){return e.checked})[0]||t},Ub=function(t,o){return wO(t)&&t.name?nne(t,o):t},fq=function(t){var o=new Set;return t.forEach(function(e){return o.add(Ub(e,t))}),t.filter(function(e){return o.has(e)})};s();var PO=function(t){return t[0]&&t.length>1?Ub(t[0],t):t[0]},RO=function(t,o){return t.length>1?t.indexOf(Ub(t[o],t)):o};var EO="NEW_FOCUS",gq=function(t,o,e,r){var n=t.length,i=t[0],a=t[n-1],c=pf(e);if(!(e&&t.indexOf(e)>=0)){var l=e!==void 0?o.indexOf(e):-1,u=r?o.indexOf(r):l,d=r?t.indexOf(r):-1,p=l-u,m=o.indexOf(i),f=o.indexOf(a),h=fq(o),y=e!==void 0?h.indexOf(e):-1,w=y-(r?h.indexOf(r):l),C=RO(t,0),k=RO(t,n-1);if(l===-1||d===-1)return EO;if(!p&&d>=0)return d;if(l<=m&&c&&Math.abs(p)>1)return k;if(l>=f&&c&&Math.abs(p)>1)return C;if(p&&Math.abs(w)>1)return d;if(l<=m)return k;if(l>f)return C;if(p)return Math.abs(p)>1?d:(n+d+p)%n}};s();var ine=function(t){return function(o){var e,r=(e=SO(o))===null||e===void 0?void 0:e.autofocus;return o.autofocus||r!==void 0&&r!=="false"||t.indexOf(o)>=0}},hq=function(t,o,e){var r=t.map(function(i){var a=i.node;return a}),n=OO(r.filter(ine(e)));return n&&n.length?PO(n):PO(OO(o))};s();var MO=function(t,o){return o===void 0&&(o=[]),o.push(t),t.parentNode&&MO(t.parentNode.host||t.parentNode,o),o},TO=function(t,o){for(var e=MO(t),r=MO(o),n=0;n<e.length;n+=1){var i=e[n];if(r.indexOf(i)>=0)return i}return!1},jb=function(t,o,e){var r=df(t),n=df(o),i=r[0],a=!1;return n.filter(Boolean).forEach(function(c){a=TO(a||c,c)||a,e.filter(Boolean).forEach(function(l){var u=TO(i,l);u&&(!a||Hc(u,a)?a=u:a=TO(u,a))})}),a},yq=function(t,o){return t.reduce(function(e,r){return e.concat(dq(r,o))},[])};var ane=function(t,o){var e=new Map;return o.forEach(function(r){return e.set(r.node,r)}),t.map(function(r){return e.get(r)}).filter(sq)},vq=function(t,o){var e=document&&Wd(),r=qd(t).filter(Bd),n=jb(e||t,t,r),i=new Map,a=IO(r,i),c=mf(r,i).filter(function(m){var f=m.node;return Bd(f)});if(!(!c[0]&&(c=a,!c[0]))){var l=IO([n],i).map(function(m){var f=m.node;return f}),u=ane(l,c),d=u.map(function(m){var f=m.node;return f}),p=gq(d,l,e,o);return p===EO?{node:hq(a,d,yq(r,i))}:p===void 0?p:u[p]}};s();var LO=function(t){var o=qd(t).filter(Bd),e=jb(t,t,o),r=new Map,n=mf([e],r,!0),i=mf(o,r).filter(function(a){var c=a.node;return Bd(c)}).map(function(a){var c=a.node;return c});return n.map(function(a){var c=a.node,l=a.index;return{node:c,index:l,lockItem:i.indexOf(c)>=0,guard:pf(c)}})};s();var sne=function(t,o){"focus"in t&&t.focus(o),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},DO=0,NO=!1,bq=function(t,o,e){e===void 0&&(e={});var r=vq(t,o);if(!NO&&r){if(DO>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),NO=!0,setTimeout(function(){NO=!1},1);return}DO++,sne(r.node,e.focusOptions),DO--}};var AO=bq;var cne=function(){return document&&document.activeElement===document.body},lne=function(){return cne()||_O()},zd=null,Fd=null,Vd=null,ff=!1,une=function(){return!0},dne=function(o){return(zd.whiteList||une)(o)},pne=function(o,e){Vd={observerNode:o,portaledElement:e}},mne=function(o){return Vd&&Vd.portaledElement===o};function Sq(t,o,e,r){var n=null,i=t;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(n=a);else if(a.lockItem){if(i!==t)return;n=null}else break}while((i+=e)!==o);n&&(n.node.tabIndex=0)}var fne=function(o){return o&&"current"in o?o.current:o},gne=function(o){return o?!!ff:ff==="meanwhile"},hne=function t(o,e,r){return e&&(e.host===o&&(!e.activeElement||r.contains(e.activeElement))||e.parentNode&&t(o,e.parentNode,r))},yne=function(o,e){return e.some(function(r){return hne(o,r,r)})},Yb=function(){var o=!1;if(zd){var e=zd,r=e.observed,n=e.persistentFocus,i=e.autoFocus,a=e.shards,c=e.crossFrame,l=e.focusOptions,u=r||Vd&&Vd.portaledElement,d=document&&document.activeElement;if(u){var p=[u].concat(a.map(fne).filter(Boolean));if((!d||dne(d))&&(n||gne(c)||!lne()||!Fd&&i)&&(u&&!(Xb(p)||d&&yne(d,p)||mne(d,u))&&(document&&!Fd&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(o=AO(p,Fd,{focusOptions:l}),Vd={})),ff=!1,Fd=document&&document.activeElement),document){var m=document&&document.activeElement,f=LO(p),h=f.map(function(y){var w=y.node;return w}).indexOf(m);h>-1&&(f.filter(function(y){var w=y.guard,C=y.node;return w&&C.dataset.focusAutoGuard}).forEach(function(y){var w=y.node;return w.removeAttribute("tabIndex")}),Sq(h,f.length,1,f),Sq(h,-1,-1,f))}}}return o},Cq=function(o){Yb()&&o&&(o.stopPropagation(),o.preventDefault())},$b=function(){return hO(Yb)},xq=function(o){var e=o.target,r=o.currentTarget;r.contains(e)||pne(r,e)},vne=function(){return null},bne=function(o){var e=o.children;return wq.createElement("div",{onBlur:$b,onFocus:xq},e)};bne.propTypes={};var kq=function(){ff="just",setTimeout(function(){ff="meanwhile"},0)},Sne=function(){document.addEventListener("focusin",Cq),document.addEventListener("focusout",$b),window.addEventListener("blur",kq)},wne=function(){document.removeEventListener("focusin",Cq),document.removeEventListener("focusout",$b),window.removeEventListener("blur",kq)};function Cne(t){return t.filter(function(o){var e=o.disabled;return!e})}function xne(t){var o=t.slice(-1)[0];o&&!zd&&Sne();var e=zd,r=e&&o&&o.id===e.id;zd=o,e&&!r&&(e.onDeactivation(),t.filter(function(n){var i=n.id;return i===e.id}).length||e.returnFocus(!o)),o?(Fd=null,(!r||e.observed!==o.observed)&&o.onActivation(),Yb(!0),hO(Yb)):(wne(),Fd=null)}Wb.assignSyncMedium(xq);Fb.assignMedium($b);Z5.assignMedium(function(t){return t({moveFocusInside:AO,focusInside:Xb})});var Oq=oq(Cne,xne)(vne);var jft=Xl(zb,Oq);s();s();var Tt=x(O());s();s();var Zb=x(O());s();s();s();var Pq=x(O());s();s();var Iq;var _q=function(){if(Iq)return Iq;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var o=_q();return o&&t.setAttribute("nonce",o),t}function One(t,o){t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o))}function Ine(t){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(t)}var BO=function(){var t=0,o=null;return{add:function(e){t==0&&(o=kne())&&(One(o,e),Ine(o)),t++},remove:function(){t--,!t&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}};var qO=function(){var t=BO();return function(o,e){Pq.useEffect(function(){return t.add(o),function(){t.remove()}},[o&&e])}};var Ul=function(){var t=qO(),o=function(e){var r=e.styles,n=e.dynamic;return t(r,n),null};return o};s();var _ne={left:0,top:0,right:0,gap:0},WO=function(t){return parseInt(t||"",10)||0},Pne=function(t){var o=window.getComputedStyle(document.body),e=o[t==="padding"?"paddingLeft":"marginLeft"],r=o[t==="padding"?"paddingTop":"marginTop"],n=o[t==="padding"?"paddingRight":"marginRight"];return[WO(e),WO(r),WO(n)]},FO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _ne;var o=Pne(t),e=document.documentElement.clientWidth,r=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,r-e+o[2]-o[0])}};var Rne=Ul(),Ene=function(t,o,e,r){var n=t.left,i=t.top,a=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(pO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(r,";"),e==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gl,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Hl,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(mO,": ").concat(c,`px;
  }
`)},zO=function(t){var o=t.noRelative,e=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r,i=Zb.useMemo(function(){return FO(n)},[n]);return Zb.createElement(Rne,{styles:Ene(i,!o,n,e?"":"!important")})};s();var VO=!1;if(typeof window<"u")try{gf=Object.defineProperty({},"passive",{get:function(){return VO=!0,!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch(t){VO=!1}var gf,jl=VO?{passive:!1}:!1;s();var Tne=function(t){return t.tagName==="TEXTAREA"},Rq=function(t,o){var e=window.getComputedStyle(t);return e[o]!=="hidden"&&!(e.overflowY===e.overflowX&&!Tne(t)&&e[o]==="visible")},Mne=function(t){return Rq(t,"overflowY")},Lne=function(t){return Rq(t,"overflowX")},GO=function(t,o){var e=o;do{typeof ShadowRoot<"u"&&e instanceof ShadowRoot&&(e=e.host);var r=Eq(t,e);if(r){var n=Tq(t,e),i=n[1],a=n[2];if(i>a)return!0}e=e.parentNode}while(e&&e!==document.body);return!1},Dne=function(t){var o=t.scrollTop,e=t.scrollHeight,r=t.clientHeight;return[o,e,r]},Nne=function(t){var o=t.scrollLeft,e=t.scrollWidth,r=t.clientWidth;return[o,e,r]},Eq=function(t,o){return t==="v"?Mne(o):Lne(o)},Tq=function(t,o){return t==="v"?Dne(o):Nne(o)},Ane=function(t,o){return t==="h"&&o==="rtl"?-1:1},Mq=function(t,o,e,r,n){var i=Ane(t,window.getComputedStyle(o).direction),a=i*r,c=e.target,l=o.contains(c),u=!1,d=a>0,p=0,m=0;do{var f=Tq(t,c),h=f[0],y=f[1],w=f[2],C=y-w-i*h;(h||C)&&Eq(t,c)&&(p+=C,m+=h),c=c.parentNode}while(!l&&c!==document.body||l&&(o.contains(c)||o===c));return(d&&(n&&p===0||!n&&a>p)||!d&&(n&&m===0||!n&&-a>m))&&(u=!0),u};var Qb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Lq=function(t){return[t.deltaX,t.deltaY]},Dq=function(t){return t&&"current"in t?t.current:t},Bne=function(t,o){return t[0]===o[0]&&t[1]===o[1]},qne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Wne=0,Gd=[];function Nq(t){var o=Tt.useRef([]),e=Tt.useRef([0,0]),r=Tt.useRef(),n=Tt.useState(Wne++)[0],i=Tt.useState(function(){return Ul()})[0],a=Tt.useRef(t);Tt.useEffect(function(){a.current=t},[t]),Tt.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var y=D1([t.lockRef.current],(t.shards||[]).map(Dq),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var c=Tt.useCallback(function(y,w){if("touches"in y&&y.touches.length===2)return!a.current.allowPinchZoom;var C=Qb(y),k=e.current,_="deltaX"in y?y.deltaX:k[0]-C[0],P="deltaY"in y?y.deltaY:k[1]-C[1],R,T=y.target,E=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in y&&E==="h"&&T.type==="range")return!1;var A=GO(E,T);if(!A)return!0;if(A?R=E:(R=E==="v"?"h":"v",A=GO(E,T)),!A)return!1;if(!r.current&&"changedTouches"in y&&(_||P)&&(r.current=R),!R)return!0;var V=r.current||R;return Mq(V,w,y,V==="h"?_:P,!0)},[]),l=Tt.useCallback(function(y){var w=y;if(!(!Gd.length||Gd[Gd.length-1]!==i)){var C="deltaY"in w?Lq(w):Qb(w),k=o.current.filter(function(R){return R.name===w.type&&R.target===w.target&&Bne(R.delta,C)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var _=(a.current.shards||[]).map(Dq).filter(Boolean).filter(function(R){return R.contains(w.target)}),P=_.length>0?c(w,_[0]):!a.current.noIsolation;P&&w.cancelable&&w.preventDefault()}}},[]),u=Tt.useCallback(function(y,w,C,k){var _={name:y,delta:w,target:C,should:k};o.current.push(_),setTimeout(function(){o.current=o.current.filter(function(P){return P!==_})},1)},[]),d=Tt.useCallback(function(y){e.current=Qb(y),r.current=void 0},[]),p=Tt.useCallback(function(y){u(y.type,Lq(y),y.target,c(y,t.lockRef.current))},[]),m=Tt.useCallback(function(y){u(y.type,Qb(y),y.target,c(y,t.lockRef.current))},[]);Tt.useEffect(function(){return Gd.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,jl),document.addEventListener("touchmove",l,jl),document.addEventListener("touchstart",d,jl),function(){Gd=Gd.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,jl),document.removeEventListener("touchmove",l,jl),document.removeEventListener("touchstart",d,jl)}},[]);var f=t.removeScrollBar,h=t.inert;return Tt.createElement(Tt.Fragment,null,h?Tt.createElement(i,{styles:qne(n)}):null,f?Tt.createElement(zO,{gapMode:"margin"}):null)}var Wgt=Xl(Ab,Nq);s();var tS=x(O());s();var Fne=function(t){if(typeof document>"u")return null;var o=Array.isArray(t)?t[0]:t;return o.ownerDocument.body},Hd=new WeakMap,Jb=new WeakMap,eS={},HO=0,zne=function(t,o,e,r){var n=Array.isArray(t)?t:[t];eS[e]||(eS[e]=new WeakMap);var i=eS[e],a=[],c=new Set,l=new Set(n),u=function(p){!p||c.has(p)||(c.add(p),u(p.parentNode))};n.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))d(m);else{var f=m.getAttribute(r),h=f!==null&&f!=="false",y=(Hd.get(m)||0)+1,w=(i.get(m)||0)+1;Hd.set(m,y),i.set(m,w),a.push(m),y===1&&h&&Jb.set(m,!0),w===1&&m.setAttribute(e,"true"),h||m.setAttribute(r,"true")}})};return d(o),c.clear(),HO++,function(){a.forEach(function(p){var m=Hd.get(p)-1,f=i.get(p)-1;Hd.set(p,m),i.set(p,f),m||(Jb.has(p)||p.removeAttribute(r),Jb.delete(p)),f||p.removeAttribute(e)}),HO--,HO||(Hd=new WeakMap,Hd=new WeakMap,Jb=new WeakMap,eS={})}},Aq=function(t,o,e){e===void 0&&(e="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=o||Fne(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),zne(r,n,e,"aria-hidden")):function(){return null}};s();var Bq=x(O());var Vne=Ul(),Gne=`
 [`+Gb+`] {
   pointer-events: none !important;
 }
`,qq=function(){return Bq.createElement(Vne,{styles:Gne})};var Kc=x(O()),Wq=function(t){return"current"in t?t.current:t};function Fq(t){var o=t.setLockProps,e=t.onEscapeKey,r=t.onClickOutside,n=t.shards,i=t.onActivation,a=t.onDeactivation,c=t.noIsolation,l=(0,Kc.useState)(void 0),u=l[0],d=l[1],p=(0,Kc.useRef)(null),m=(0,Kc.useRef)(0);return tS.useEffect(function(){var f=function(C){C.defaultPrevented||(C.code==="Escape"||C.key==="Escape"||C.keyCode===27)&&e&&e(C)},h=function(C){C.defaultPrevented||C.target===p.current||C instanceof MouseEvent&&C.button!==0||n&&n.map(Wq).some(function(k){return k&&k.contains(C.target)||k===C.target})||r&&r(C)},y=function(C){h(C),m.current=C.touches.length},w=function(C){m.current=C.touches.length};if(u)return document.addEventListener("keydown",f),document.addEventListener("mousedown",h),document.addEventListener("touchstart",y),document.addEventListener("touchend",w),function(){document.removeEventListener("keydown",f),document.removeEventListener("mousedown",h),document.removeEventListener("touchstart",y),document.removeEventListener("touchend",w)}},[u,r,e]),(0,Kc.useEffect)(function(){if(u)return i&&i(u),function(){a&&a()}},[!!u]),(0,Kc.useEffect)(function(){var f=function(){return null},h=!1,y=function(C){c||(f=Aq(L1([C],(n||[]).map(Wq)),document.body,Gb)),d(function(){return C})},w=function(){f(),h||d(null)};return o({onMouseDown:function(C){p.current=C.target},onTouchStart:function(C){p.current=C.target},onActivation:y,onDeactivation:w}),function(){h=!0,o(!1)}},[]),tS.createElement(qq,null)}var zq=Xl(Vb,Fq);var Hne=function(t){return hf.createElement(zq,rr({},t))},KO=hf.forwardRef(function(t,o){return hf.createElement(tq,rr({},t,{ref:o,sideCar:Hne}))});G();var Qq=x(Zq());function Jq(t){let o=cn.useRef(null),[e,r]=Kr(Px),{medias:n,currentIndex:i}=e,a=()=>{r({medias:[],currentIndex:0})},c=()=>{r(d=>({...d,currentIndex:Math.max(d.currentIndex-1,0)}))},l=()=>{r(d=>({...d,currentIndex:Math.min(d.currentIndex+1,d.medias.length-1)}))},u=d=>{r(p=>({...p,currentIndex:d}))};return Ks({opened:n.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},o),Gn(n.length?{Left:()=>c(),Right:()=>l()}:{},"all",[r,!n.length]),n.length?cn.createElement(yn,{ref:o},cn.createElement(KO,null,cn.createElement(S,{style:Xd.imagesZoonPortal},cn.createElement(Qq.default,{imageUrls:n.map(d=>({url:d.url})),index:i,renderIndicator:d=>cn.createElement(S,{style:Xd.indactor},cn.createElement(S,{style:Xd.indicatorElement}),cn.createElement(S,{style:[Xd.indicatorElement,b.alignCenter,b.justifyContentCenter]},cn.createElement(F,{style:Xd.indicatorText},`${d}/${n.length}`)),cn.createElement(S,{style:[Xd.indicatorElement,b.alignEnd,b.justifyContentCenter]},cn.createElement(W,{icon:v.X,defaultTextStyle:{color:$.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>cn.createElement(W,{icon:v.ChevronLeft,defaultTextStyle:{color:$.WHITE},onPress:()=>c()}),renderArrowRight:()=>cn.createElement(W,{icon:v.ChevronRight,defaultTextStyle:{color:$.WHITE},onPress:()=>l()}),onChange:d=>u(d||0),onCancel:()=>a(),enableSwipeDown:!0})))):null}var Xd=Q.create({imagesZoonPortal:{position:"fixed",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:$.WHITE}});s();var eW=x(O());function tW(t){let o=_u(),{navigate:e}=we(),r=wo(),n=BP(),i=WP(t),a=qP(t),c=bo(i),l=XS(a,"create-space"),u=XS(a,"create-collection")&&aie(t,n);return eW.default.useMemo(()=>el(t)?{createSpace:l?async(d=!0)=>{let p=await ec(),m;try{m=(await p.spaces.createSpace(t.organization,{parent:t.collection})).data}catch(f){throw r.notify({title:"Error while creating space",details:ga(f),kind:"danger"}),f}return ae(Dt(m,{type:"space_create"})),d&&e({screen:{type:"space",space:m.id,organization:t.organization,page:""}}),m}:void 0,createCollection:u?async(d=!0)=>{let p=new Ni("startCollection");p.label("User",o.uid),p.label("Owner type",Bf(t)?"user":"organization"),p.label("Owner",Bf(t)?t.user:t.organization),t.collection&&p.label("Collection",t.collection),p.label("Perm",a);let[m,f]=M6(h=>eI(h,{title:"New Collection",owner:t,at:j1(c.current.collections),createdBy:o.uid,perm:a}));return p.wrapPromise(f),ae(l_(m,{type:"collection_create",collection:m.key,restricted:!1})),d&&e({screen:{type:"collection",collection:m.key,...op(m)}}),m}:void 0}:{createSpace:void 0,createCollection:void 0},[Bf(t)?t.user:t.organization,t.collection,o.uid,c,e,l,u])}function aie(t,o){let e=0,r=t.collection;for(;r;){let n=o.collections.find(i=>i.key===r);r=n?n.collection:void 0,e++}return e<J1}s();var JO=x(O());s();var Ud=JSON.parse('{"iconWrapper":"iconWrapper_x37cD","icon":"icon_TnMUQ","active":"active_CllGx","ok":"ok_V1sO-","interactive":"interactive_B2TwX","good":"good_nqe9w","bad":"bad_pz0f3"}');function oW(t){let{active:o=!0,interactive:e=!1,size:r,rating:n}=t,i=sie[n];return JO.createElement(ee,{style:[Ud.iconWrapper,Ud[n],o&&Ud.active,e&&Ud.interactive],inlineStyle:{"--rating-size":`${r}px`}},JO.createElement(i,{style:[Ud.icon]}))}var sie={["ok"]:v.FeedbackOk.CSS,["good"]:v.FeedbackGood.CSS,["bad"]:v.FeedbackBad.CSS};s();var Sf=x(O());s();var Dn=x(O());G();function rW(t){let{sources:o,pickSource:e,withGitSyncAction:r,onClose:n}=t,[,i]=I(nW),{navigate:a}=we(),c=()=>{n(),a({screen:l=>l.type!=="space"?l:{sideSheet:{type:"gitsync"}}})};return Dn.createElement(qg,{size:"large",onClose:n,title:"Import your content",subtitle:"Choose a file type or platform below to get started importing your data.",footer:Dn.createElement(vi,{icon:v.GitHub,kind:"default",title:"Need to stay in sync?",details:r?"Set up GitHub or GitLab Sync and link a repo for two-way syncing.":"Start a new space, set up GitHub or GitLab Sync, and link a repo for two-way syncing.",actions:r?[{label:"Set up now",onPress:c}]:void 0})},Dn.createElement(S,{style:[i.cardsWrapper]},o.map(({title:l,name:u,source:d,icon:p})=>Dn.createElement(cie,{key:l,title:u,onPress:()=>e(d),icon:p}))))}function cie(t){let{title:o,description:e,icon:r,onPress:n,style:i}=t,[,a]=I(B),[,c]=I(nW);return Dn.createElement(H.TouchableOpacity,{style:[b.directionRow,b.alignCenter,g.Padding.smallVertical,g.Padding.smallRight,c.importCard,i],onPress:n},Dn.createElement(S,{style:g.Margin.smallLeft},typeof r=="function"?Dn.createElement(r,{size:M.ICON_L}):Dn.createElement(Zo,{source:r,style:c.importCardImage})),Dn.createElement(S,{style:g.Margin.smallLeft},Dn.createElement(S,null,Dn.createElement(H.Text.Child,{style:[a.Label,a.text],activeStyle:a.primary},o)),Dn.createElement(S,null,Dn.createElement(H.Text.Child,{style:[a.Body,a.textMuted],activeStyle:a.primary},e))))}var nW=z.create({importCard:t=>({borderWidth:1,borderColor:t.colors.border.main,borderRadius:4,flexShrink:0,flexGrow:0,flexBasis:"32%",padding:g.small,marginRight:g.small,marginBottom:g.small}),importCardImage:{width:M.ICON_L,height:M.ICON_L},cardsWrapper:{flexWrap:"wrap",flexDirection:"row",marginRight:-g.small}});s();function Zl(t){return"organization"in t}s();var sS=x(O());s();var Ua=x(O());s();var ia=x(O());G();s();var na=x(O());G();s();var Uc=x(O());G();function iW(t){let{fileIcon:o,files:e,setFiles:r}=t,[,n]=I(B),i=Do(o,{style:n.primary},[o]),a=Uc.useCallback(({item:c})=>{let l=()=>{r(u=>u.filter(d=>d.key!==c.key))};return Uc.createElement(ds,{layout:"wide",icon:i,title:c.file.name,buttons:[c.uploaded||c.failed?null:Uc.createElement(Ie,{size:"medium"}),c.failed?Uc.createElement(W,{tint:$.scarlet.base,icon:v.Alert,title:"Failed to upload. Please try again.",onPress:l}):null,Uc.createElement(W,{icon:v.X,title:"Remove",onPress:l})]})},[o,r]);return Uc.createElement(Rf,{data:e,renderItem:a})}function iS(t){let{getSpace:o,files:e,setFiles:r,fileIcon:n,fileExtension:i,limitWarning:a=!1,fileUploadsLimit:c=1/0}=t,[,l]=I(B),u=wo(),d=(h,y)=>{r(w=>w.map(C=>C.key===h?{...C,...y}:C))},p=async h=>{let y=await o();try{let w=await XI({kind:"space_import",space:y.id},h.file);d(h.key,{uploaded:w})}catch(w){throw u.notify({kind:"danger",title:"Error while uploading files",details:"Please try again or contact support if the problem persists.",icon:v.Alert}),d(h.key,{failed:!0}),w}},m=h=>{let y=[];for(let w of h){if(e.length>=c){u.notify({kind:"danger",title:"Cannot upload file",details:`You can only upload ${c} file for this operation`,timeout:5e3});break}if(w.size>209715200){u.notify({kind:"danger",title:`Your file must be less than ${wm(209715200)}`,details:`Please try a different file that's below ${wm(209715200)}`,timeout:5e3});continue}let C={key:Ff(),file:w};y.push(C)}r(w=>w.concat(y)),y.forEach(w=>p(w))};return na.createElement(na.Fragment,null,na.createElement(S,null,na.createElement(j_,{icon:n,onDropFiles:m,onPress:async()=>{let h=await KP();m(h)},hint:`Drop your ${i} file here or choose a file`})),a?na.createElement(S,{style:g.Margin.smallTop},na.createElement(F,{style:[l.Caption,l.textMuted]},"GitBook has limits for imported content,"," ",na.createElement(Oa,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))):null,e.length>0?na.createElement(S,{style:[g.Margin.mediumTop]},na.createElement(iW,{fileIcon:n,files:e,setFiles:r})):null)}s();var bf=x(O());G();function jd(t){let{title:o,subtitle:e,onClose:r,onSubmit:n,children:i}=t;return bf.default.createElement(qg,{title:o,subtitle:e,footer:bf.default.createElement(S,{style:[b.directionRow,b.justifyContentEnd]},bf.default.createElement(W,{kind:"secondary",onPress:r,style:g.Margin.smallRight},"Back"),bf.default.createElement(W,{kind:"primary",onPress:n},"Start import")),onClose:r},i)}function sW(t){let{getSpace:o,fileIcon:e,fileExtension:r,steps:n=[],startImport:i,limitWarning:a=!1,fileUploadsLimit:c}=t,[,l]=I(B),[u,d]=ia.useState([]),m=u.some(h=>!h.uploaded)||u.length===0;return ia.createElement(jd,{...t,onSubmit:async()=>{if(!m){let h=await o();i(u.map(y=>{var w;return(w=y.uploaded)==null?void 0:w.downloadURL}).filter(fe),h)}}},n.length>0?ia.createElement(S,{style:[g.Margin.mediumBottom]},n.map((h,y)=>ia.createElement(S,{key:y,style:[b.directionRow]},ia.createElement(S,{style:[g.Margin.smallRight]},ia.createElement(F,{style:[l.Body,l.textMid]},`${y+1}.`)),ia.createElement(S,{style:b.flex1},ia.createElement(F,{style:[l.Body,l.textMid]},h))))):null,ia.createElement(iS,{getSpace:o,files:u,setFiles:d,fileIcon:e,fileExtension:r,limitWarning:a,fileUploadsLimit:c}))}s();var aS=x(O());function cW(t){let o=aS.useRef(),{createSpace:e}=tW({organization:t.organization});return aS.useMemo(()=>async()=>{if(o.current)return o.current;if(!e)throw new Error("Cannot import into shared space due to incorrect hook usage");return o.current=await e(!1),o.current},[e,o])}s();var Uo=x(O());G();s();var aa=x(O());G();function lW(t){let{url:o,setURL:e,placeholder:r="e.g: https://mysite.com/a_file",supportedFormats:n=[],validate:i=si}=t,[,a]=I(B),c=i(o);return aa.createElement(aa.Fragment,null,aa.createElement(S,null,aa.createElement(no,{size:"large",placeholder:r,value:o,cleareable:!0,onChangeText:e,feedback:o&&!c?{type:"danger",message:"URL is invalid. It must be a valid absolute URL starting with https:// or http://"}:{type:"none"}})),n.length>1?aa.createElement(S,{style:[g.Margin.smallTop,b.directionRow,b.alignCenter]},aa.createElement(S,null,aa.createElement(v.InfoCircle,{size:M.ICON_S,style:a.info})),aa.createElement(S,{style:[g.Margin.smallLeft,b.flex1]},aa.createElement(F,{style:[a.Caption,a.info]},`Supported formats: ${n.join(", ")}`))):null)}function uW(t){let{getSpace:o,fileIcon:e,fileExtension:r,steps:n=[],startImport:i,limitWarning:a=!1,fileUploadsLimit:c}=t,[,l]=I(B),[u,d]=Uo.useState([]),[p,m]=Uo.useState(""),[f,h]=Uo.useState("files"),y=u.some(_=>!_.uploaded),w=_=>si(_),C=(y||u.length===0)&&(!p||!w(p));return Uo.createElement(jd,{...t,onSubmit:async()=>{if(!C){let _=await o();i(f==="files"?u.map(P=>{var R;return(R=P.uploaded)==null?void 0:R.downloadURL}).filter(fe):[p],_)}}},n.length>0?Uo.createElement(S,{style:[g.Margin.mediumBottom]},n.map((_,P)=>Uo.createElement(S,{key:P,style:[b.directionRow]},Uo.createElement(S,{style:[g.Margin.smallRight]},Uo.createElement(F,{style:[l.Body,l.textMid]},`${P+1}.`)),Uo.createElement(S,{style:b.flex1},Uo.createElement(F,{style:[l.Body,l.textMid]},_))))):null,Uo.createElement(S,{style:[b.flex1,b.directionRow,b.alignCenter]},Uo.createElement(Qs,null,Uo.createElement(Qs.Tab,{active:f==="files",onPress:()=>h("files")},"Files"),Uo.createElement(Qs.Tab,{active:f==="url",onPress:()=>h("url")},"URL"))),Uo.createElement(S,{style:[b.directionColumn,g.Margin.smallTop]},f==="files"?Uo.createElement(iS,{getSpace:o,files:u,setFiles:d,fileIcon:e,fileExtension:r,limitWarning:a,fileUploadsLimit:c}):null,f==="url"?Uo.createElement(lW,{url:p,validate:w,setURL:m,placeholder:"https://myapi.io/swagger.yaml",supportedFormats:["JSON","YAML"]}):null))}s();var ln=x(O());G();function dW(t){let{title:o="Import a Website",subtitle:e="Enter a link to a web page below to import it into your space.",getSpace:r,startImport:n}=t,[i,a]=ln.useState(""),[,c]=I(B),l=i?si(i):!1,u=async()=>{if(l){let d=await r();n([i],d)}};return ln.createElement(jd,{...t,title:o,subtitle:e,onSubmit:u},ln.createElement(S,{style:[g.Margin.smallBottom]},ln.createElement(Vn,{label:"URL",labelDescription:"We\u2019ll crawl your site and pull in as much of your content as possible.",placeholder:"https://docs.mycompany.com",value:i,onChangeText:a,onSubmit:u,feedback:i?{type:l?"success":"danger",message:l?"":"URL is not valid"}:void 0})),ln.createElement(S,{style:g.Margin.mediumBottom},ln.createElement(F,{style:[c.Caption,c.textMuted]},"GitBook has limits for imported content,"," ",ln.createElement(Oa,{url:"https://docs.gitbook.com/features/import#limits"},"read more here."))),i&&l?ln.createElement(ln.Suspense,{fallback:null},ln.createElement(lie,{url:i})):null)}function lie(t){let{url:o}=t,[e]=Oy(o);return e.data?ln.createElement(S,{style:[g.Margin.mediumBottom]},ln.createElement(Ma,{title:e.data.title,details:e.data.site,icon:wt(wa,{source:{uri:e.data.icon||void 0}}),onPress:()=>{ms(o)}})):null}function pW(t){return Zl(t.target)?Ua.createElement(die,{...t,target:t.target}):Ua.createElement(uie,{...t,target:t.target})}function uie(t){let o=Ua.useCallback(async()=>{if("id"in t.target.space)return t.target.space;let{data:e}=await kP({operationId:"getSpaceById",params:{spaceId:t.target.space.key}});return e},[t.target.space]);return Ua.createElement(mW,{...t,getSpace:o})}function die(t){let o=cW(t.target);return o?Ua.createElement(mW,{...t,getSpace:o}):null}function mW(t){let{sourceInfo:o,startImport:e,target:r,setSource:n,getSpace:i,onBack:a}=t,{source:c}=o!=null?o:{};if(o===void 0||c===void 0)return null;switch(c){case"website":case"github-wiki":return Ua.createElement(dW,{target:r,title:o.title,subtitle:o.subtitle,getSpace:i,startImport:e,onClose:()=>{n(null)}});case"docx":case"markdown":case"html":case"zip":case"dropbox-paper":case"google-docs":case"confluence":case"quip":case"notion":{let l=c==="zip"||c==="confluence"||c==="notion";return Ua.createElement(sW,{target:r,getSpace:i,title:o.title,subtitle:o.subtitle,steps:o.steps,fileIcon:o.fileIcon,fileExtension:o.fileExtension,onClose:a,startImport:e,limitWarning:l})}case"open-api":return Ua.createElement(uW,{target:r,getSpace:i,title:o.title,subtitle:o.subtitle,steps:o.steps,fileIcon:o.fileIcon,fileExtension:o.fileExtension,onClose:a,startImport:e,fileUploadsLimit:1,limitWarning:!0});default:qe(c)}}s();var Ae=x(O());G();s();var e1="https://app.gitbook.com/public/app/assets/confluence-XZRVQN7T.png";var t1="https://app.gitbook.com/public/app/assets/dropbox-paper-F627BIKK.png";var o1="https://app.gitbook.com/public/app/assets/google-docs-T6C75XLR.png";var r1="https://app.gitbook.com/public/app/assets/openapi-H4Y5H3P5.png";var n1="https://app.gitbook.com/public/app/assets/quip-SHLUXOMG.png";function fW(){let[t]=I(),[,o]=I(B),e=Do(v.FileCode,{style:o.primary}),r=Do(v.FileText,{style:{color:$.scarlet.light}}),n=Do(v.FileWord,{style:{color:$.primary.light}}),i=Do(v.FileCode,{style:{color:$.violet.light}}),a=Do(v.FileZIP,{style:{color:$.orange.light}}),c=Do(v.GitHub,{style:{color:t.colors.text.main}}),l=Do(v.Notion,{style:{color:t.colors.text.main}}),u=Do(wa,{source:{uri:e1}}),d=Do(wa,{source:{uri:n1}}),p=Do(wa,{source:{uri:t1}}),m=Do(wa,{source:{uri:o1}}),f=Do(wa,{source:{uri:r1}});return[{name:"Website",title:"Import a Website",subtitle:"Enter a link to a web page below to import it into your space.",source:"website",icon:e,type:"application"},{name:"Markdown",title:"Import a Markdown file",source:"markdown",icon:r,subtitle:"Drag and drop your .md file below to start the import.",fileIcon:v.FileText,fileExtension:".md",type:"file"},{name:"MS Word",title:"Import a Word document",source:"docx",icon:n,subtitle:"Drag and drop your .docx file below to start the import.",fileIcon:v.FileWord,fileExtension:".docx",type:"application"},{name:"HTML",title:"Import a HTML file",source:"html",subtitle:"Drag and drop your .html file below to start the import.",icon:i,fileIcon:v.FileCode,fileExtension:".html",type:"file"},{name:"ZIP",title:"Import a ZIP file",source:"zip",subtitle:"Drag and drop your .zip file below to start the import.",icon:a,fileIcon:v.FileZIP,fileExtension:".zip",type:"file"},{name:"Confluence",title:"Import from Confluence",icon:u,source:"confluence",type:"application",subtitle:"Export your space as ZIP to bring your content from Confluence.",fileExtension:".zip",fileIcon:v.FileZIP,steps:[Ae.createElement(Ae.Fragment,null,"Go to ",Ae.createElement(F,{style:[o.Bold,o.text]},"Space Settings")," for the space you're looking to export and select the"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"Content tools")," section."),Ae.createElement(Ae.Fragment,null,"Click on the ",Ae.createElement(F,{style:[o.Bold,o.text]},"Export")," tab, and select"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"HTML"),", then hit"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"Next, and Export"),"."),Ae.createElement(Ae.Fragment,null,"Choose ",Ae.createElement(F,{style:[o.Bold,o.text]},"Normal Export")," unless you want to choose specific pages to export.")]},{name:"Notion",title:"Import from Notion",icon:l,source:"notion",type:"application",subtitle:"Export your workspace as Markdown to bring your content from Notion.",steps:[Ae.createElement(Ae.Fragment,null,"Go to the Workspace you're looking to export and select the"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"\u2026")," button in the top right."),Ae.createElement(Ae.Fragment,null,"Choose ",Ae.createElement(F,{style:[o.Bold,o.text]},"Export All as Markdown"))],fileIcon:v.FileText,fileExtension:".md"},{name:"GitHub Wiki",title:"Import from GitHub Wiki",subtitle:"Enter a link to a GitHub Wiki below to import it into your space.",icon:c,source:"github-wiki",type:"application"},{name:"Quip",title:"Import from Quip",icon:d,source:"quip",fileIcon:v.FileText,fileExtension:".md",type:"application"},{name:"Dropbox Paper",title:"Import from Dropbox Paper",icon:p,source:"dropbox-paper",steps:[Ae.createElement(Ae.Fragment,null,`Click "\u2026" (ellipsis) in the Paper doc you're viewing.`),Ae.createElement(Ae.Fragment,null,"Click ",Ae.createElement(F,{style:[o.Bold,o.text]},"Export"),"."),Ae.createElement(Ae.Fragment,null,"Select ",Ae.createElement(F,{style:[o.Bold,o.text]},".docx")," and click"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"Download"),"."),Ae.createElement(Ae.Fragment,null,"Drag your downloaded files to the box below to import.")],fileIcon:v.FileWord,fileExtension:".docx",type:"application"},{name:"Google docs",title:"Import from Google Docs",icon:m,source:"google-docs",type:"application",subtitle:"Export your documents as .docx or webpage to bring your content from Google Docs.",steps:[Ae.createElement(Ae.Fragment,null,"Click on ",Ae.createElement(F,{style:[o.Bold,o.text]},"File ",">"," Download"),"."),Ae.createElement(Ae.Fragment,null,"Choose between ",Ae.createElement(F,{style:[o.Bold,o.text]},"Microsoft Word")," or"," ",Ae.createElement(F,{style:[o.Bold,o.text]},"Web Page"),".")],fileIcon:v.FileWord,fileExtension:".docx"},{name:"OpenAPI",title:"Import from OpenAPI",icon:f,source:"open-api",type:"application",subtitle:"Provide an OpenAPI specification file or URL to import your API.",fileIcon:v.FileText,fileExtension:".yaml or .json",fileUploadsLimit:1}]}function gW({target:t,onStartImport:o,onComplete:e,onBack:r}){let[n,i]=sS.useState(null),a=fW(),c=wo(),l=m=>{m&&(Zl(t)?ae(pg(t.organization,{type:"templates_pick_import",source:m})):ae(Dt(t.space,{type:"edit_pick_import",source:m}))),i(m)},u=async(m,f)=>{if(!n)return;let h=await ec(),y={url:m,source:n};if(Zl(t)||!t.page&&!t.changeRequest)return h.spaces.importContent(f.id,y);if(t.page&&t.changeRequest)return h.spaces.importContentInChangeRequestPageById(f.id,t.changeRequest,t.page,y);if(t.page)return h.spaces.importContentInPageById(f.id,t.page,y);if(t.changeRequest)return h.spaces.importContentInChangeRequest(f.id,t.changeRequest,y)},d=async(m,f)=>{if(n){ae(u_(f,void 0,{type:"edit_import",source:n})),o?o(f):r();try{(await c.notifyProgress(Promise.all(m.map(async w=>{let C=await u(w,f);return C?C.data:void 0})),{title:"Importing docs",details:"We are importing your docs, this might take a while."})).some(w=>w&&w.totalResources!==w.importedResources)?c.notify({kind:"warning",title:"Incomplete import",timeout:0,icon:v.Alert,details:"Some of your docs were not imported due to file limits, try splitting them into several imports."}):(c.notify({icon:v.CheckCircle,kind:"success",title:"Imported docs",details:"Docs have been successfully imported. Enjoy!"}),e&&e(f))}catch(h){throw c.notify({kind:"danger",title:"Error while importing docs",details:ga(h,"Please try again or contact support if the problem persists."),icon:v.Alert}),h}}},p=a.find(({source:m})=>m===n);return{modals:sS.createElement(pW,{sourceInfo:p,startImport:d,target:t,setSource:i,onBack:r}),source:n,sources:a,onSelectSource:l}}function q3(t){let{target:o,onStartImport:e,onComplete:r,onClose:n}=t,{modals:i,source:a,sources:c,onSelectSource:l}=gW({onStartImport:u=>{e?e(u):n()},onComplete:r,onBack:()=>l(null),target:o});return Sf.createElement(Sf.Fragment,null,a?i:Sf.createElement(rW,{withGitSyncAction:!Zl(o),sources:c,pickSource:l,onClose:n}))}s();var hW=x(O());var yie=5,yW=Lt({key:"recentSearches",default:[],effects:[vn.recoilEffect("@recoil/recentSearches",[])]});function vW(){return Hr(yW)}function bW(t){let o=Li(yW);hW.useEffect(()=>{if(!t)return;let e=setTimeout(()=>{o(r=>r.includes(t)?r:[t,...r.slice(0,yie-1)])},3e3);return()=>clearTimeout(e)},[t])}s();var SW=x(O());function wW(t,o){let{space:e,organization:r}=o,n=Hg();SW.useEffect(()=>{if(!t)return;let i=setTimeout(()=>{let a={type:n?"public_content_search_type":"search_type",query:t};e?ae(Dt(e,a)):r?ae(pg(r,a)):ae(a)},700);return()=>{clearTimeout(i)}},[t])}s();var Je=x(O());s();var i1=JSON.parse('{"loadingDelayedText":"loadingDelayedText_WVBF7","loadingDelayedTextVisible":"loadingDelayedTextVisible_y5onq"}');s();var ri=x(O());s();var CW=JSON.parse('{"aiAnswerFooter":"aiAnswerFooter_UeG4c"}');s();var Ql=x(O());function xW(t){let{answer:o,singleSpace:e}=t,{navigate:r}=we(),n=Se(),i=Ql.useMemo(()=>vie(n,o,e),[n,o,e]),a=Ql.useCallback(l=>{switch(ae({type:"ai_search_open_source"}),l.type){case"space":r({screen:{type:"space",space:l.space.key,...op(l.space),page:"",query:void 0}});break;case"page":r({screen:{type:"space",space:l.space.key,...op(l.space),page:l.path,query:void 0}});break;default:qe(l)}},[r]),c=Ql.useCallback(l=>{switch(l.type){case"space":return{icon:M_(wt(Ao,{code:o_(l.space)})),title:l.space.title||ss,action:"Go to space"};case"page":return{icon:v.Page.CSS,title:l.page.title,subtitle:l.ancestors.filter(u=>u.id!==l.page.id).map(u=>u.title).join(" \u203A "),nested:!e,action:"Go to page"};default:qe(l)}},[e]);return Ql.createElement(Js,{data:i,getKey:bie,renderItem:c,onOpen:a})}function vie(t,o,e){let r=new Map;return XP(o.pages,n=>{var d;let i=(d=Iu([cs(n.space)])[0])==null?void 0:d.result;if(!i)return null;let a=Fn(t.store.getRevision(n.space,i.revision));if(!a)return null;let c=a.pages[n.page];if(!c||c.type!=="document")return null;let l=fu(a,c.id),u=r.get(i.key)||[];u.length===0&&!e&&u.push({type:"space",space:i}),u.push({type:"page",space:i,page:c,ancestors:l,path:oo(a,c.id)}),r.set(i.key,u)}),Array.from(r.values()).flat()}function bie(t){switch(t.type){case"space":return`space:${t.space.key}`;case"page":return`page:${t.space.key}/${t.page.id}`;default:qe(t)}}function kW(t){let{answer:o,singleSpace:e}=t,[r,n]=ri.useState(!1),i=ue();return ri.createElement(ee,{style:[D.flex.column,D.padding.mediumHorizontal,D.padding.mediumVertical,CW.aiAnswerFooter]},ri.createElement(ee,{style:[D.flex.row]},ri.createElement(ee,{style:[D.flex.flex1]},ri.createElement(W,{size:"small",rightIcon:r?v.ChevronDown:v.ChevronRight,onPress:()=>{n(!r)}},i("search_answer_sources",`${o.pages.length}`)))),r?ri.createElement(ee,{style:D.margin.mediumTop},ri.createElement(ri.Suspense,{fallback:ri.createElement(No,{size:"medium"})},ri.createElement(xW,{answer:o,singleSpace:e}))):null)}s();var ja=x(O());function OW(t){let{query:o,answer:e}=t,[r,n]=ja.useState(!1),i=wo(),a=kg(),c=ue(),l=()=>{a.writeTextAndNotify(e.text)},u=()=>{ae({type:"ai_search_upvote_answer",query:o,answer:e.text}),n(!0),i.notify({icon:v.ThumbsUp,title:c("search_answer_feedback_title"),details:c("search_answer_feedback_details")})},d=()=>{ae({type:"ai_search_downvote_answer",query:o,answer:e.text}),n(!0),i.notify({icon:v.ThumbsUp,title:c("search_answer_feedback_title"),details:c("search_answer_feedback_details")})};return ja.createElement(ee,{style:[D.flex.row]},ja.createElement(W,{size:"small",title:c("search_answer_copy"),icon:v.Copy,onPress:l}),r?null:ja.createElement(ja.Fragment,null,ja.createElement(W,{size:"small",icon:v.ThumbsUp,title:c("search_answer_feedback_upvote"),onPress:u,style:g.Margin.xsmallLeft}),ja.createElement(W,{size:"small",icon:v.ThumbsDown,title:c("search_answer_feedback_downvote"),onPress:d,style:g.Margin.xsmallLeft})))}s();var s1=x(O());s();var a1=JSON.parse('{"aiSearchSpinner":"aiSearchSpinner_cTH2Q","aiSearchSpinnerAnim":"aiSearchSpinnerAnim_75OX-","aiSearchSpinnerIcon":"aiSearchSpinnerIcon_MOqIL"}');function IW(t){let{size:o=M.ICON_L}=t;return s1.createElement(ee,{style:a1.aiSearchSpinner,inlineStyle:{width:o,height:o}},s1.createElement(v.AILens.CSS,{style:a1.aiSearchSpinnerIcon}))}function _W(t){let{query:o,target:e}=t,r=Je.useCallback((n,i,a)=>{ae(e.space?Dt(e.space,{type:"ai_search_crash",query:o.query}):{type:"ai_search_crash",query:o.query})},[o]);return Je.createElement(Af,{fallback:()=>Je.createElement(xie,null),onError:r},Je.createElement(Je.Suspense,{fallback:Je.createElement(wie,null)},Je.createElement(Sie,{...t})))}function Sie(t){let{target:o,query:e,onAnswerLoaded:r,onSubmitQuery:n}=t,i=OP(o.space?{operationId:"askQueryInSpace",params:{spaceId:o.space.key},query:{},body:e}:{operationId:"askQuery",params:{},query:{},body:e}),{answer:a}=i.data;if(Je.useEffect(()=>{ae(o.space?Dt(o.space,{type:"ai_search_view_answer",query:e.query,queriesInMemory:e.previousQueries.length,hasAnswer:!!a,hasFollowupQuestions:!!a&&a.followupQuestions.length>0}):{type:"ai_search_view_answer",query:e.query,queriesInMemory:e.previousQueries.length,hasAnswer:!!a,hasFollowupQuestions:!!a&&a.followupQuestions.length>0})},[e,a,o.space]),Je.useEffect(()=>{a&&(r==null||r())},[a,r]),!a)return Je.createElement(Cie,null);let c=l=>{ae(o.space?Dt(o.space,{type:"ai_search_pick_followup",query:e.query,followup:l,previousQueriesCount:e.previousQueries.length}):{type:"ai_search_pick_followup",query:e.query,followup:l,previousQueriesCount:e.previousQueries.length}),n(l)};return Je.createElement(ee,{style:[D.flex.column]},Je.createElement(ee,{style:[D.flex.column,D.padding.large]},Je.createElement(ee,{style:[D.flex.row,D.margin.mediumBottom]},Je.createElement(ee,{style:[D.margin.mediumRight,D.flex.flex1]},Je.createElement(wr,{style:[D.text.heading2,D.textColor.main]},e.query)),Je.createElement(ee,{style:D.margin.smallRight},Je.createElement(OW,{query:e.query,answer:a}))),Je.createElement(ku,{markdown:a.text}),a.followupQuestions.length>0?Je.createElement(ee,{style:[D.flex.row,D.flex.wrap,D.margin.smallTop]},a.followupQuestions.map(l=>Je.createElement(ee,{style:[D.margin.smallTop,D.margin.smallRight]},Je.createElement(W,{icon:v.AILens,kind:"pill",size:"medium",key:l,onPress:()=>{c(l)}},l)))):null),Je.createElement(kW,{answer:a,singleSpace:!!o.space}))}function wie(t){let[o,e]=Je.useState(!1),r=ue();return Je.useEffect(()=>{let n=setTimeout(()=>{e(!0)},3e3);return()=>{clearTimeout(n)}},[]),Je.createElement(xa,{size:"small",icon:IW,title:r("search_answer_loading")},Je.createElement(wr,{style:[i1.loadingDelayedText,o&&i1.loadingDelayedTextVisible]},r("search_answer_loading_wait")))}function Cie(t){let o=ue();return Je.createElement(xa,{size:"small",title:o("search_answer_none_title")},o("search_answer_none_details"))}function xie(t){let o=ue();return Je.createElement(xa,{size:"small",icon:v.Alert,title:o("search_answer_error_title")},o("search_answer_error_details"))}s();var PW=x(O());function cS(t){var e;let o=IP(t===null||((e=t.documents)==null?void 0:e.length)===0?null:t.space?{operationId:"getRecommendedQuestionsInSpace",params:{spaceId:t.space.key},query:{}}:{operationId:"getRecommendedQuestions",params:{},query:{},body:{documents:t.documents}});return PW.useMemo(()=>o?o.data.questions.map(r=>({type:"recommended-question",question:r})):[],[o])}s();var kie=x(O());var Oie=Lt({key:"recentAISearches",default:[],effects:[vn.recoilEffect("@recoil/recentAISearches",[])]});function lS(){return Hr(Oie)}s();var As=x(O());function RW(t){let{allowEnterToOpen:o,target:e,onSubmitAIQuery:r}=t,n=ue(),i=lS(),a=cS(e),c=As.useCallback(p=>{switch(p.type){case"recent-search":return{icon:v.Search.CSS,title:p.query,action:n("search_ask")};case"recommended-question":return{icon:v.AILens.CSS,title:p.question,action:n("search_ask")};default:qe(p)}},[n]),l=As.useCallback(p=>{switch(p){case"recent-search":return{title:n("search_blankslate_recent_questions")};case"recommended-question":return{title:n("search_blankslate_recommended_questions")};default:return}},[n]),u=(p,m)=>{switch(p.type){case"recent-search":{r(p.query),ae({type:"ai_search_pick_suggestion_recent_search",suggestionIndex:m});break}case"recommended-question":ae({type:"ai_search_pick_suggestion_question"}),r(p.question);break;default:qe(p)}},d=As.useMemo(()=>[...i.map(m=>({type:"recent-search",query:m})),...a],[i,a]);return d.length===0?As.createElement(xa,null,n("search_blankslate_ai")):As.createElement(ee,{style:[D.flex.flex1,D.flex.column]},As.createElement(Js,{data:d,getKey:Iie,renderItem:c,renderGroup:l,groupItem:_ie,getGroupKey:Pie,onOpen:u,style:[D.padding.mediumHorizontal,D.padding.mediumVertical],allowEnterToOpen:o}))}function Iie(t){switch(t.type){case"recent-search":return`recent-search:${t.query}`;case"recommended-question":return`recommended-question:${t.question}`;default:qe(t)}}function _ie(t){return t.type}function Pie(t){return t}s();var EW=x(O());var Rie=10,Eie=Lt({key:"aiSearchQuery",default:{query:"",previousQueries:[]},effects:[vn.recoilEffect("@recoil/aiSearchQuery",{query:"",previousQueries:[]})]});function TW(){let[t,o]=Kr(Eie),e=EW.useCallback(r=>{o(n=>n?{query:r,previousQueries:[...n.previousQueries.filter(i=>i!==r&&i!==n.query),...n.query?[n.query]:[]].slice(-Rie)}:{query:r,previousQueries:[]})},[o]);return[t,e]}s();var uo=x(O());G();var Tie=lt("app:crash");function wf(t){let{children:o}=t,e=uo.useCallback((r,n,i)=>{Tie.emergency(`An error occured during rendering:

`,r,`

The error is located at:
`,n),ae({type:"crash",crashType:c1(r),sentryEvent:i})},[]);return uo.createElement(Af,{fallback:r=>uo.createElement(Mie,{...r}),onError:e,beforeCapture:Nie},o)}function Mie(t){let{eventId:o,error:e}=t,[,r]=I(Aie),n=()=>{B1({eventId:o||void 0})},i=()=>{window.location.reload()};uo.useEffect(()=>{let c=document.querySelector(".gitbook-splashscreen");c==null||c.remove()},[]);let a=()=>{switch(c1(e)){case"network-crash":return uo.createElement(Die,{onReload:i,...t});case"crash":default:return uo.createElement(Lie,{onShareFeedback:n,onReload:i,...t})}};return uo.createElement(S,{style:[r.background]},a())}function Lie(t){let o=ue(),{onReload:e,onShareFeedback:r}=t;return uo.createElement(bp,{title:o("something_wrong"),action:uo.createElement(uo.Fragment,null,uo.createElement(W,{kind:"primary",size:"medium",onPress:e,style:g.Margin.smallRight},o("reload")),uo.createElement(W,{kind:"secondary",size:"medium",onPress:r},o("let_us_know")))},o("we_have_been_notified"))}function Die(t){let{onReload:o}=t,e=ue(),r=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return uo.createElement(bp,{title:e("connection_lost"),icon:v.CloudOff,action:uo.createElement(uo.Fragment,null,uo.createElement(W,{kind:"primary",size:"medium",onPress:o,style:g.Margin.smallRight},e("reload")),uo.createElement(W,{size:"medium",icon:v.Link,onPress:r},e("network_troubleshooting")))},e("device_offline"))}function Nie(t,o){switch(c1(o)){case"network-crash":t.setTag("error_category","network-crash");break;case"crash":default:t.setTag("error_category","react-crash")}}function c1(t){return t.name==="FirebaseError"&&t.code==="unavailable"?"network-crash":"crash"}var Aie=z.create({background:t=>({backgroundColor:t.colors.background.main,minHeight:"100vh"})});s();var ii=x(O());s();var l1=x(O());function uS(t){let{children:o,ssrRequestPath:e,ssrRouterContext:r}=t;return r?l1.createElement(R6,{location:e,context:r},o):l1.createElement(Ox,null,o)}s();var dS=x(O());function MW(t="https://policies.gitbook.com/privacy/cookies",o=!1){let e=wo(),r=ue();dS.useEffect(()=>{if(!o)return;let n=!1;if(fg()!==null)return;let i=e.notify({title:r("cookies"),details:r("cookie_prompt",dS.createElement(Oa,{url:t},r("cookie_policy"))),timeout:0,icon:v.Cookies,actions:[{label:r("reject_all"),onPress:()=>{n=!0,US(!1),i()}}],onClose:()=>{n||US(!0)}})},[])}s();var me=x(O());G();s();var LW=JSON.parse('{"withStickyHeader":"withStickyHeader_HQiM-"}');s();var un=x(O());G();var{TOC_DESKTOP_WIDTH:Bie}=Go,qie=Z.createResponsiveComponent(Ve),Wie=H.createInteractiveComponent(qie),u1=Bie-g.large-g.large;function pS(t){let{space:o,collection:e,headerBackgroundColor:r,headerLogoURL:n,mobileStyle:i,desktopStyle:a}=t,[,c]=I(B),{getNavigationLinkProps:l}=we(),d={color:Ea(r)==="light"?$.lightModeText.base:$.darkModeText.base},p=(e?(e==null?void 0:e.publishedTitle)||(e==null?void 0:e.title):o.publishedTitle||o.title)||ss,m=p.length>14,f=m?2:1,h=Ai(o);return un.createElement(Wie,{style:[b.directionRow,b.alignCenter],mobileStyle:i,desktopStyle:a,...l({screen:{space:o.key,page:""}}),testID:"public.headerHomeLink",accessibilityLabel:p},n?un.createElement(Z.View,{style:[b.flex1,b.directionRow,b.alignCenter,Cf.headerDesktop],mobileStyle:Cf.logoMobile,desktopStyle:Cf.logoDesktop},un.createElement(Z.View,{desktopStyle:"visible",mobileStyle:"hidden"},un.createElement(Zo,{source:{uri:Gi(n,{height:40,fit:"contain"})},loading:"priority",style:{maxHeight:40,maxWidth:u1,width:"auto",height:"auto"}})),un.createElement(Z.View,{desktopStyle:"hidden",mobileStyle:"visible"},un.createElement(Zo,{source:{uri:Gi(n,{height:30,fit:"contain"})},style:{maxHeight:30,maxWidth:u1,width:"auto",height:"auto"}}))):un.createElement(S,{style:[Cf.headerDesktop,b.flex1,b.directionRow,b.justifyContentStart,b.alignCenter]},un.createElement(S,null,un.createElement(Z.View,{mobileStyle:"hidden",desktopStyle:"visible"},un.createElement(tw,{content:e||o,renderFor:"public-content",size:M.BUTTON_L,style:[g.Margin.mediumRight]})),un.createElement(Z.View,{mobileStyle:"visible",desktopStyle:"hidden"},un.createElement(tw,{content:e||o,renderFor:"public-content",size:M.ICON_XL,style:[g.Margin.mediumRight]}))),un.createElement(Z.Text,{style:Cf.textOverflow,mobileStyle:[c.Heading3],desktopStyle:[m?c.Heading3:c.Heading2]},un.createElement(H.Text.Child,{style:[d],numberOfLines:f,ellipsizeMode:"tail",inactiveStyle:c.text,activeStyle:h==="bold"?c.textStandout:c.primary},p))))}var Cf=Q.create({textOverflow:{overflow:"hidden"},logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:u1}});s();var eu=x(O());G();s();s();var ni=x(O());G();var Fie=Z.createResponsiveComponent(H.TouchableOpacity),zie=H.createInteractiveComponent(Z.View);function mS(t){return`hsla(${C_(t.colors.text.primary).h}, 60%, 70%, 0.1)`}var DW=ni.forwardRef(function(o,e){let{isLast:r,leftIcon:n,icon:i,rightIcon:a,kind:c="primary",children:l,expanded:u=!1,onChevronPress:d,active:p=!1,onPress:m,textStyle:f,href:h}=o,y=H.useInteractiveState(),[w,C]=I(Vie),[,k]=I(B),_=c==="primary"?k.textMid:k.textMuted,P=p?k.primary:_,R=m?Fie:zie,T=u?v.ChevronDown:v.ChevronRight;return ni.createElement(R,{ref:e,...y.events,style:[C.tocMenuItem,g.Padding.smallHorizontal,g.Margin.smallRight,r?null:g.Margin.xsmallBottom,p?{backgroundColor:mS(w)}:null],hoverStyle:m&&!p?C.tocMenuItemHovered:null,mobileStyle:C.tocMenuItemMobile,desktopStyle:C.tocMenuItemDesktop,onPress:m,href:h&&m?h:void 0},n?ni.createElement(S,{style:[g.Margin.mediumRight]},ni.createElement(n,{size:M.ICON_M,style:[P,f]})):null,i?ni.createElement(S,{style:[g.Margin.mediumRight]},ni.createElement(i,{size:M.ICON_M,style:[P,f]})):null,ni.createElement(F,{style:[b.flex1,g.Padding.xsmallVertical,c==="group"?k.GroupTitle:k.Label,P,f,p?k.Bold:null]},l),d?ni.createElement(Ve,{style:[b.directionRow,b.alignCenter],onPress:d},ni.createElement(T,{size:M.ICON_S,style:P})):null,a?ni.createElement(S,{style:C.tocMenuItemRightIcon},ni.createElement(a,{size:M.ICON_M,style:k.textMuted})):null)}),Vie=z.create({tocMenuItem:t=>({flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,borderRadius:t.radiuses.medium,minHeight:M.XS}),tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:t=>({backgroundColor:t.colors.background.standout}),tocMenuItemRightIcon:{marginLeft:g.small,marginRight:(M.S-M.ICON_M)/2}});s();var Zd=x(O());s();var la=x(O());G();s();var Gie=750,Hie=g.xxlarge,Kie=Gie+2*Hie,d1=300,Xie=220;function NW(t=0){return t+d1+Kie+Xie}s();var xf=x(O());G();s();var pr=x(O());G();function p1(t){return pr.createElement(pr.Suspense,{fallback:pr.createElement(AW,{...t})},pr.createElement(Uie,{...t}))}function Uie(t){let{treePage:o}=t,{page:e}=o,r=tt(e.type==="link"?e.target:void 0);return pr.createElement(AW,{...t,contentRef:r})}function AW(t){let{revision:o,treePage:e,parent:r,currentPage:n,contentRef:i,isLastPage:a}=t,{page:c}=e,{getNavigationHref:l,navigateToPage:u}=bc(),d=n?n.id:null,p=d===c.id,m=!!d&&tD(o,c.id,d),[f,h]=pr.useState(m),[,y]=I(jie),w=C=>{C.isDefaultPrevented()||C.nativeEvent.metaKey||C.nativeEvent.ctrlKey||(C.preventDefault(),c.type==="document"?u(o,c.id):c.type==="link"&&(i==null||i.open()))};return pr.useEffect(()=>{m&&h(!0)},[m]),pr.createElement(S,{style:[c.type==="group"&&g.Margin.mediumVertical]},pr.createElement(DW,{isLast:a,kind:c.type==="group"?"group":!r||r.type==="group"?"primary":"secondary",icon:c.emoji?wt(Ao,{code:c.emoji}):void 0,rightIcon:c.type==="link"?i?i.secondaryIcon:Ie:void 0,active:p,expanded:f,onPress:c.type==="group"?void 0:w,href:(()=>c.type==="link"?i==null?void 0:i.href:l(o,c.id))(),onChevronPress:e.pages.length>0&&c.type==="document"?C=>{C.preventDefault(),h(k=>!k)}:void 0},c.title),(f||c.type==="group")&&e.pages.length>0?pr.createElement(S,{style:[y.tocItemChildren,...c.type==="group"?[g.Margin.noneLeft]:[g.Margin.smallLeft,g.Margin.xsmallTop,g.Margin.smallBottom]]},e.pages.map((C,k)=>pr.createElement(S,{style:c.type==="group"?null:g.Margin.smallLeft,key:C.renderKey},pr.createElement(p1,{...t,treePage:C,isLastPage:k===e.pages.length-1,parent:c}))),c.type==="group"?null:pr.createElement(S,{style:y.tocItemChildrenLine})):null)}var jie=z.create({tocItemChildren:{position:"relative"},tocItemChildrenLine:t=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:t.colors.border.main})});s();var sa=x(O());G();var BW=x(JN());var m1=40,Yie=H.createInteractiveComponent(L_);function Yd(t){return sa.createElement(al,null,sa.createElement($ie,{...t}))}function $ie(t){let{space:o,floating:e}=t,[r,n]=I(Zie),[,i]=I(B),a=ue(),c=new URLSearchParams({utm_source:"content",utm_medium:"trademark",utm_campaign:o.key}),l=`https://${fa.homepage.domain}/?${c.toString()}`,u=()=>{ae(Dt(o,{type:"public_content_click_trademark"}))};return sa.createElement(S,{style:e&&n.floatingWrapper},e?sa.createElement(BW.default,{colors:[`${r.colors.background.main}00`,r.colors.background.main],style:n.floatingTopGradient}):null,sa.createElement(S,{style:e&&[g.Padding.mediumHorizontal,g.Padding.mediumBottom,n.floatingBackground]},sa.createElement(H.TouchableOpacity,{style:[b.directionRow,b.alignCenter,...e?[n.trademarkFloating,g.Padding.smallVertical,g.Padding.mediumHorizontal]:[n.tradeMarkDefault]],activeStyle:i.primary,onPress:u,href:l,target:"_blank"},sa.createElement(Yie,{size:m1,style:i.textMuted,activeStyle:i.primary}),sa.createElement(S,{style:[b.flex1,g.Padding.mediumLeft]},sa.createElement(H.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",sa.createElement(F,{style:i.Bold},"GitBook")))))))}var Zie=z.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:g.medium},floatingBackground:t=>({backgroundColor:t.colors.background.main}),tradeMarkDefault:t=>({backgroundColor:"transparent"}),trademarkFloating:t=>({backgroundColor:t.colors.background.standout,borderRadius:t.radiuses.xlarge})});function fS(t){let{showingTrademark:o,revision:e}=t,r=xf.useMemo(()=>GC(e.pages,e.rootPages),[e]);return xf.createElement(ma,{style:b.flex1,contentContainerStyle:[g.Padding.mediumVertical,o?Qie.scrollviewWithTrademark:null]},r.map((n,i)=>xf.createElement(p1,{key:n.renderKey,...t,treePage:n,isLastPage:i===r.length-1})))}var Qie=Q.create({scrollviewWithTrademark:{paddingBottom:g.medium+m1+2*g.medium}});s();var Fr=x(O());G();s();var gS=x(O());s();var jc=x(O());var Jie={color:tp,radius:X1},ca=jc.createContext([Jie,()=>{}]),qW="@gitbook/themeMode";function eae(t,o){let[e,r]=jc.useState(()=>{if(typeof window>"u"||!t.themeModeTogglable)return o;let i=vn.get(qW);return i!==null?i:o});return{themeMode:e,toggleThemeMode:()=>{r(i=>{let a=i==="light"?"dark":"light";return vn.set(qW,a),ae(c_(t,{type:"public_content_toggle_theme_mode",themeMode:a})),a})}}}function WW(t){let{content:o,isPreview:e,children:r}=t,{color:n,radius:i}=U1(o),{themeMode:a,toggleThemeMode:c}=eae(o,n);jc.useEffect(()=>{window==null||window.document.body.classList.remove("theme-overlay")},[]);let l=e?n:a!=null?a:n;return Fi(u=>{u.setTheme([`${l?`theme-color-${l}`:""}`,`${i?`theme-radius-${i}`:""}`].join(" "))}),jc.createElement(ca.Provider,{value:[{color:l,radius:i},c]},r)}function mr(t){let[{color:o}]=gS.useContext(ca);return gS.useMemo(()=>ky(t,o),[o,t])}s();var hS=x(O());function Jl(t){let{content:o,mode:e="switch"}=t,[{color:r},n]=hS.useContext(ca),{headerBackgroundColor:i}=mr(o);return hS.createElement(n6,{onValueChange:n,value:r==="dark",mode:e,backgroundColor:i})}s();var Bs=x(O());G();s();function f1(t){switch(ny(t)){case"lightest":return{backgroundColor:"rgba(59, 69, 78, 0.1)",textColor:$.lightModeText.base};case"light":return{backgroundColor:"rgba(255, 255, 255, 0.6)",textColor:$.lightModeText.base};case"semiLight":return{backgroundColor:"rgba(255, 255, 255, 0.55)",textColor:$.lightModeText.base};case"medium":return{backgroundColor:"rgba(59, 69, 78, 0.25)",textColor:$.darkModeText.base};case"semiDark":return{backgroundColor:"rgba(59, 69, 78, 0.3)",textColor:$.darkModeText.base};case"dark":return{backgroundColor:"rgba(59, 69, 78, 0.5)",textColor:$.darkModeText.base};case"darkest":default:return{backgroundColor:"rgba(255, 255, 255, 0.2)",textColor:$.darkModeText.base}}}function FW(t){let[,{open:o}]=Gg(),e=ue();return Bs.createElement(W,{icon:v.SearchPublic,onPress:o,accessibilityLabel:e("search"),...t})}function zW(t){let{contentTheme:o,headerBackgroundColor:e}=t,[,{open:r}]=Gg(),n=ue(),{textColor:i}=f1(e);return Bs.createElement(W,{icon:v.SearchPublic,size:"medium",kind:o==="bold"?"default_bold":"default",alignItems:"start",onPress:r,style:[g.Padding.noneHorizontal],defaultTextStyle:[{color:i}],accessibilityLabel:n("search")})}function yS(t){let{headerBackgroundColor:o=$.WHITE}=t,[,{open:e}]=Gg(),r=ue(),[,n]=I(B),[,i]=I(tae),{backgroundColor:a,textColor:c}=f1(o);return Bs.createElement(H.TouchableOpacity,{style:[{backgroundColor:a},i.searchBarButton,b.directionRow,b.justifySpaceBetween,b.alignCenter,g.Padding.mediumLeft,g.Padding.smallRight],activeStyle:i.searchBarButtonActive,accessibilityLabel:r("search"),onPress:e},Bs.createElement(S,{style:[b.directionRow,b.alignCenter]},Bs.createElement(v.SearchPublic,{size:M.ICON_XS,style:[{color:c},g.Margin.smallRight]}),Bs.createElement(H.Text.Child,{style:[n.Label,{color:c}],activeStyle:n.text},r("search"))),Bs.createElement(S,null,Bs.createElement(ps,{kind:"main",shortcut:He.SEARCH_OPEN})))}var tae=z.create({searchBarButton:t=>({width:"100%",height:M.BUTTON_L,borderRadius:t.radiuses.large,borderWidth:1,borderColor:"transparent"}),searchBarButtonActive:t=>({borderColor:t.colors.border.mid})});function vS(t){let{space:o,collection:e,collectionSpaces:r,currentPage:n,revision:i}=t,[,a]=I(VW),{headerBackgroundColor:c,headerLogoURL:l,headerDisabled:u}=mr(o),d=r&&(e==null?void 0:e.publishingType)==="variants"?Fr.createElement($d,{key:"variants-picker",currentVariant:o,collection:e,variants:r,revision:i,currentPage:n}):null;return Fr.createElement(Fr.Fragment,null,u?Fr.createElement(Fr.Fragment,null,Fr.createElement(oae,{key:"space-header",space:o,collection:e,headerBackgroundColor:c,headerLogoURL:l,variantsSwitcher:d}),Fr.createElement(Z.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[a.searchBarSection,b.directionRow,b.justifySpaceBetween,b.alignCenter,g.Margin.mediumRight]},Fr.createElement(S,{style:[b.flex1,b.directionRow,g.Margin.mediumVertical]},Fr.createElement(yS,{key:"search-bar",headerBackgroundColor:c})),o.themeModeTogglable?Fr.createElement(S,{style:[g.Margin.mediumLeft]},Fr.createElement(Jl,{content:o,mode:"button"})):null)):null)}function oae(t){let{space:o,collection:e,headerBackgroundColor:r,headerLogoURL:n,variantsSwitcher:i}=t,[,a]=I(VW);return Fr.createElement(Z.View,{style:[a.spaceTitleWrapper,b.directionRow,b.justifyContentCenter,b.alignCenter],mobileStyle:"hidden",desktopStyle:"visible"},Fr.createElement(pS,{space:o,collection:e,headerBackgroundColor:r,headerLogoURL:n,desktopStyle:b.flex1}),Fr.createElement(S,{style:[b.alignSelfCenter,g.Margin.smallHorizontal]},i))}var VW=z.create({searchBarSection:t=>({borderColor:t.colors.border.mid,borderBottomWidth:1}),selectedTab:t=>({borderLeftColor:t.colors.primary.main,borderLeftWidth:2}),hoverTab:t=>({backgroundColor:t.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:M.BUTTON_M,lineHeight:M.BUTTON_M,borderRadius:0,paddingHorizontal:g.medium},mainBadge:{fontFamily:v_,fontSize:yg.xxsmall,lineHeight:M.BUTTON_M,...bg.Bold,textTransform:"uppercase",letterSpacing:1},spaceTitleWrapper:t=>({height:M.L}),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:rae}=Go;function GW(t){let{space:o}=t,e=ue(),{headerDisabled:r}=mr(o),[,n]=I(nae[r?"none":"default"]),{desktopSidebarWidth:i}=la.useContext(Hi),a=la.useMemo(()=>({[NW(i)]:"visible"}),[i]),c=!o.hideTrademark;return la.createElement(Z.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:a,style:[n.tocDesktopWrapper,b.directionRow,b.justifyContentEnd]},la.createElement(he,{tag:"nav",accessibilityLabel:e("table_of_contents"),style:[iae.tocDesktop,b.directionColumn]},la.createElement(S,{style:[b.flex1,g.Padding.largeLeft]},la.createElement(vS,{...t}),la.createElement(fS,{...t,showingTrademark:c})),c?la.createElement(Yd,{floating:!0,space:o}):null))}var nae={none:z.create({tocDesktopWrapper:t=>({position:"sticky",top:0,height:"100vh",overflowY:"auto",alignSelf:"flex-start",backgroundColor:t.colors.background.main,borderRightColor:t.colors.border.mid,borderRightWidth:1})}),default:z.create({tocDesktopWrapper:t=>({position:"sticky",top:g.xxlarge,height:`calc(100vh - ${rae}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:t.colors.background.main,borderRightColor:t.colors.border.mid,borderRightWidth:1})})},iae=Q.create({tocDesktop:{width:d1}});s();var Ft=x(O());G();var aae=Z.createResponsiveComponent(or.View),sae=Z.createResponsiveComponent(or.createAnimatedComponent(Ve));function KW(t){let{currentPage:o,space:e,collection:r,collectionSpaces:n,revision:i}=t,a=ue(),c=kp(Kr(bm),Ft.useState(!1)),[,l]=I(B),{sidebarMobileLeft:u,showOverlay:d}=bP(c),[p,m]=I(XW);Ft.useEffect(()=>{c.close()},[o==null?void 0:o.id]);let f=!e.hideTrademark,h=n&&(r==null?void 0:r.publishingType)==="variants"?Ft.createElement($d,{key:"variants-picker",currentVariant:e,collection:r,variants:n,revision:i,currentPage:o}):null,y=!!e.themeModeTogglable,w=y?Ft.createElement(S,{style:[g.Margin.mediumRight]},Ft.createElement(Jl,{content:e,mode:"button"})):null;return Ft.createElement(yn,null,Ft.createElement(aae,{style:[m.sidebar,{left:u}],mobileStyle:"visible",desktopStyle:"hidden"},Ft.createElement(he,{tag:"nav",accessibilityLabel:a("table_of_contents"),style:[b.directionColumn,b.flex1]},Ft.createElement(S,{style:b.flex1},Ft.createElement(cae,{key:"mobile-closing-bar",switcher:h!=null?h:w}),y&&h?Ft.createElement(S,{style:[b.directionRow,b.justifySpaceBetween,b.alignCenter,g.Padding.smallVertical,g.Padding.mediumHorizontal,m.mobileChangeAppearance]},Ft.createElement(F,{style:[l.Label,l.text]},a("theme_change_appearance")),Ft.createElement(Jl,{content:e})):null,Ft.createElement(vS,{...t}),Ft.createElement(S,{style:[g.Padding.mediumLeft,b.flex1,m.sidebarWrapper]},Ft.createElement(fS,{...t,showingTrademark:f}))),f?Ft.createElement(Yd,{floating:!0,space:e}):null)),Ft.createElement(sae,{style:[m.screenOverlay,{backgroundColor:u.interpolate({inputRange:[-Fg.MOBILE_WIDTH,0],outputRange:[p.colors.backdrop.transparent,p.colors.backdrop.background]})}],mobileStyle:d?"visible":"hidden",desktopStyle:"hidden",onPress:c.closeMobile}))}function cae(t){let[,o]=I(XW),e=kp(Kr(bm),Ft.useState(!1));return Ft.createElement(Z.View,{style:[o.mobileClosingBar,g.Padding.smallHorizontal,b.justifySpaceBetween,b.alignCenter,b.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},Ft.createElement(W,{icon:v.X,size:"large",kind:"default",onPress:()=>e.closeMobile(),style:[b.alignSelfCenter,g.Padding.smallHorizontal],accessibilityLabel:"Close"}),t.switcher)}var HW=10,XW=z.create({sidebar:t=>({backgroundColor:t.colors.background.main,width:Fg.MOBILE_WIDTH,maxWidth:"100%",height:"100%",flexDirection:"row",position:"fixed",top:0,bottom:0,zIndex:HW}),sidebarWrapper:t=>({borderRightWidth:1,borderRightColor:t.colors.border.mid}),sidebarCloseButton:{position:"absolute",width:M.BUTTON_M,height:M.BUTTON_M,top:(M.M-M.BUTTON_M)/2,left:Fg.MOBILE_WIDTH+M.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:HW-1},mobileClosingBar:t=>({height:M.L,borderBottomWidth:1,borderBottomColor:t.colors.border.mid,backgroundColor:t.colors.background.main}),mobileChangeAppearance:t=>({borderBottomWidth:1,borderColor:t.colors.border.mid})});function UW(t){return Zd.createElement(Zd.Fragment,null,Zd.createElement(GW,{...t}),Zd.createElement(KW,{...t}))}var g1=150,lae=200,uae=150;function bS(t){let[,o]=I(jW);return eu.createElement(Z.View,{style:o.wrapper,mobileStyle:[o.wrapperMobile,g.Margin.smallVertical,g.Margin.smallHorizontal],desktopStyle:[o.wrapperDesktop,g.Margin.smallVertical,g.Margin.xsmallHorizontal]},eu.createElement(ma,null,t.children))}function SS(t){let{title:o,kind:e="default",active:r=!1,onPress:n,isLast:i}=t,[a,c]=I(jW),[,l]=I(B);return eu.createElement(H.TouchableOpacity,{hoverStyle:c.menuItemHovered,style:[c.menuItem,g.Padding.xsmallVertical,g.Padding.smallHorizontal,i?null:g.Margin.xsmallBottom,r?{backgroundColor:mS(a)}:null],onPress:n},eu.createElement(S,{style:[b.directionRow,b.alignCenter,b.justifySpaceBetween]},eu.createElement(H.Text.Child,{hoverStyle:r?null:l.textStandout,style:[l.Label,e==="link"?l.SemiBold:null,...r?[l.primary,l.Bold]:[l.text]],numberOfLines:2,ellipsizeMode:"tail"},o),eu.createElement(S,{style:[g.Margin.mediumLeft]},t.rightElement)))}var jW=z.create({wrapper:t=>({backgroundColor:t.colors.background.main}),wrapperDesktop:{minWidth:g1,maxWidth:lae,maxHeight:uae},wrapperMobile:{width:"auto",maxWidth:"100%",maxHeight:"100%"},menuItem:t=>({borderRadius:t.radiuses.large}),menuItemHovered:t=>({backgroundColor:t.colors.background.muted})});s();var fr=x(O());G();function $d(t){let{backgroundColor:o,currentPage:e,collection:r,variants:n,currentVariant:i,revision:a}=t,{getNavigationLinkProps:c}=we(),l=ue(),u=fr.useRef(null),[,d]=I(B),p=fr.useMemo(()=>e?oo(a,e.id):"",[e]);return fr.createElement(Xs,{ref:u,wrapper:hi,closeOnClick:!0,closeOnOutsideClick:!0,anchor:({ref:m,toggle:f,opened:h})=>{let y=h?v.ChevronUp:v.ChevronDown;return fr.createElement(W,{ref:m,size:"medium",rightIcon:y,kind:Ea(o||$.WHITE)?"default_bold":"default",alignItems:"start",onPress:f,style:[g.Padding.noneHorizontal]},fr.createElement(S,{style:[YW.variantsPicker]},fr.createElement(F,{numberOfLines:1,ellipsizeMode:"tail"},i.publishedTitle||i.title||ss)))}},fr.createElement(Cr,{kind:"menu",preferredAlignment:"start"},fr.createElement(fr.Suspense,{fallback:fr.createElement(No,{size:"small"})},fr.createElement(bS,null,n.map((m,f,h)=>fr.createElement(SS,{key:m.key,title:m.title,active:m.key===i.key,isLast:f===h.length-1,rightElement:m.key===r.primarySpace?fr.createElement(F,{style:[d.textMuted,d.Uppercase,YW.mainLabel]},l("main")):null,...c({screen:{space:m.key,page:p}},()=>{var y;(y=u.current)==null||y.close()})}))))))}var YW=Q.create({mainLabel:{letterSpacing:1.2},variantsPicker:{maxWidth:g1}});s();var wS=x(O());var kf=wS.forwardRef(function(o,e){let{contentRef:r,style:n,kind:i="default",...a}=o,c=tt(r);return wS.createElement(Oa,{ref:e,url:c.href,onPress:l=>{l.nativeEvent.metaKey||l.nativeEvent.ctrlKey||(l.preventDefault(),c.open())},kind:i,sameWebTab:!1,style:[vo.Body,vo.SemiBold,n],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:o.title,...a},o.title)});s();var ZW=x(O());s();var $W=JSON.parse('{"publicContainer":"publicContainer_11UZS"}');function CS(t){let{children:o,style:e}=t;return ZW.createElement(ee,{style:[$W.publicContainer,e]},o)}var{PAGE_BODY_DESKTOP_H_PADDING:dae,TOC_DESKTOP_WIDTH:pae,PUBLIC_DESKTOP_HEADER_HEIGHT:mae,PUBLIC_MOBILE_HEADER_HEIGHT:fae}=Go,gae=Z.createResponsiveComponent(W),hae=Z.createResponsiveComponent(he);function JW(t){let{space:o}=t,e=mi(),{headerBackgroundColor:r,headerDisabled:n,headerLinksColor:i,headerLogoURL:a}=mr(o),c=me.useMemo(()=>({...e,color:Ea(r)}),[r,e]);return me.createElement(fi,{theme:c},n?me.createElement(Z.View,{desktopStyle:"hidden",mobileStyle:"visible"},me.createElement(QW,{...t,headerDisabled:n,headerBackgroundColor:r,headerLinksColor:i,headerLogoURL:a})):me.createElement(QW,{...t,headerDisabled:n,headerBackgroundColor:r,headerLinksColor:i,headerLogoURL:a}))}function QW(t){let{space:o,headerDisabled:e,headerBackgroundColor:r,headerLogoURL:n,headerLinksColor:i,revision:a,collection:c,collectionSpaces:l,currentPage:u}=t,[,d]=I(wae[e?"none":Ai(o)==="default"?"defaultWithBorder":"default"]),p=kp(Kr(bm),me.useState(!1)),f=Ti(u).tableOfContents,h=[Yc.searchWrapper,g.Padding.largeLeft,g.Padding.smallRight],[y]=me.useContext(ca);return me.createElement(me.Fragment,null,me.createElement(hae,{tag:"header",desktopStyle:Yc.desktopHeight,mobileStyle:Yc.mobileHeight,style:[d.spaceHeader,b.directionRow,b.alignCenter,e?null:{backgroundColor:r}]},me.createElement(CS,{style:[D.padding.smallHorizontal,D.flex.alignCenter,LW.withStickyHeader]},f?me.createElement(gae,{desktopStyle:"hidden",mobileStyle:"visible",icon:v.Menu,style:g.Margin.smallRight,kind:"grey",rounded:!0,title:p.opened?"Hide Table of Content":"Show Table of Content",onPress:p.toggle}):null,me.createElement(pS,{space:o,collection:c,headerBackgroundColor:r,headerLogoURL:n,mobileStyle:[Yc.autoWidth,g.Padding.noneLeft,g.Padding.mediumRight,b.flexShrink1,b.justifyContentStart,f?null:g.Margin.smallLeft],desktopStyle:[Yc.autoWidth,g.Padding.mediumLeft,g.Padding.largeRight,b.justifyContentStart]}),l&&(c==null?void 0:c.publishingType)==="variants"?me.createElement(Z.View,{mobileStyle:"hidden",desktopStyle:"visible"},me.createElement($d,{key:"variants-picker",backgroundColor:r,currentPage:u,collection:c,revision:a,variants:l,currentVariant:o})):null,me.createElement(yae,{space:o,linkColor:i}),o.themeModeTogglable?me.createElement(Z.View,{mobileStyle:"hidden",desktopStyle:"visible"},me.createElement(Jl,{content:o})):null,me.createElement(fi,{theme:y},me.createElement(Z.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[h,Yc.searchBarContainer,b.flex1]},me.createElement(yS,{contentTheme:Ai(o),headerBackgroundColor:r})),me.createElement(Z.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[h]},me.createElement(zW,{contentTheme:Ai(o),headerBackgroundColor:r}))))),me.createElement(Z.View,{mobileStyle:"visible",desktopStyle:"hidden"},me.createElement(fi,{theme:y},me.createElement(Sae,{space:o}))))}function yae(t){let{space:o,linkColor:e}=t;return me.createElement(Z.View,{style:[b.directionRow,b.justifyContentEnd,b.alignCenter,b.flex1,g.Padding.mediumLeft],mobileStyle:"hidden"},(o.headerLinks||[]).map((r,n,i)=>r.title?me.createElement(vae,{key:r.title,headerLink:r,linkColor:e}):null))}function vae(t){let{headerLink:o,linkColor:e}=t,r=H.useInteractiveState({hoverDelay:250}),n=H.useInteractiveState(),i=a=>me.createElement(kf,{ref:a.ref,style:[g.Padding.mediumHorizontal,e?{color:e}:null],title:o.title,contentRef:o.to,...a.events});return o.links&&o.links.length>0?me.createElement(Ca,{opened:r.hovered||n.hovered,wrapper:hi,anchor:({ref:a})=>i({ref:a,events:r.events})},me.createElement(Cr,{kind:"menu",preferredAlignment:"start"},me.createElement(S,{...n.events},me.createElement(bS,null,o.links.map((a,c,l)=>me.createElement(bae,{key:c,link:a,isLast:c===l.length-1})))))):i({})}function bae(t){let{link:o,isLast:e}=t,r=tt(o.to);return me.createElement(SS,{kind:"link",title:o.title,isLast:e,onPress:n=>{n.nativeEvent.metaKey||n.nativeEvent.ctrlKey||(n.preventDefault(),r.open())}})}function Sae(t){let{space:o}=t,[e,r]=me.useState(!1),[,{headerLinksMobile:n}]=I(Cae),i=e?v.ChevronDown:v.ChevronRight;return!o.headerLinks||o.headerLinks.length===0?null:me.createElement(S,{style:[Yc.headerLinksMobile,n,b.justifyContentCenter,g.Padding.medium]},me.createElement(S,{style:[Yc.headerLinksMobileButton]},me.createElement(W,{size:"large",rightIcon:i,alignItems:"start",onPress:()=>r(a=>!a),style:[g.Padding.noneHorizontal]},"Links")),e?me.createElement(S,null,o.headerLinks.map((a,c,l)=>a.title?me.createElement(eF,{space:o,link:a,isLast:c===l.length-1}):null)):null)}function eF(t){let{link:o,space:e,isLast:r}=t,[n,i]=me.useState(!1),a="links"in o?o.links||[]:[],c=n?v.ChevronDown:v.ChevronRight,l=Ai(e);return me.createElement(S,{style:[b.directionColumn]},me.createElement(S,{style:[b.directionRow,b.alignCenter]},me.createElement(kf,{style:[g.Padding.smallTop,r?null:g.Padding.smallBottom],kind:l==="bold"?"bold":"default",title:o.title,contentRef:o.to}),a.length>0?me.createElement(W,{size:"large",kind:"link",rightIcon:c,alignItems:"start",onPress:()=>i(u=>!u),style:[g.Padding.noneHorizontal]}):null),n?me.createElement(S,{style:[g.Margin.smallLeft,g.Margin.smallBottom]},a.map((u,d,p)=>me.createElement(eF,{key:d,space:e,link:u,isLast:d===p.length-1}))):null)}var wae={none:z.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.border.mid,zIndex:1})}),default:z.create({spaceHeader:{zIndex:1,position:"sticky",top:0}}),defaultWithBorder:z.create({spaceHeader:t=>({borderBottomWidth:1,borderBottomColor:t.colors.border.mid,zIndex:1,position:"sticky",top:0})})},Cae=z.create({headerLinksMobile:t=>({backgroundColor:t.colors.background.main,borderBottomWidth:1,borderBottomColor:t.colors.border.main})}),Yc=Q.create({searchWrapper:{marginLeft:"auto"},searchBarContainer:{maxWidth:225},autoWidth:{width:"auto"},tocDesktop:{width:pae},headerLinks:{paddingHorizontal:dae-g.medium},headerLinksMobile:{minHeight:M.M},headerLinksMobileButton:{marginRight:"auto"},mobileHeight:{height:fae},desktopHeight:{height:mae}});s();var jo=x(O());s();var Nn=x(O());G();s();var ua=x(O());G();function tF(t){let{space:o,revision:e,page:r,analyticsContext:n}=t,i=d_(),[,a]=I(B),c=ue(),[{result:l,error:u}]=Xg([JI(o.key,r.id,i)]);if(u)return null;let d=p=>{p!==(l==null?void 0:l.rating)&&(ae({...n,type:"public_content_page_feedback_post",rating:p}),ES(m=>{e_(m,{space:o.key,page:r.id,revision:e.id,visitorId:i,rating:p,previousRating:l==null?void 0:l.rating})}))};return ua.createElement(S,{style:[b.directionRow,b.alignCenter]},ua.createElement(S,null,ua.createElement(F,{style:[a.GroupTitle,a.textMuted]},c("was_it_helpful"))),ua.createElement(S,{style:[b.directionRow,b.alignCenter]},ua.createElement(h1,{tooltip:c("poor_content"),active:(l==null?void 0:l.rating)==="bad",rating:"bad",onPress:d}),ua.createElement(h1,{tooltip:c("ok_content"),active:(l==null?void 0:l.rating)==="ok",rating:"ok",onPress:d}),ua.createElement(h1,{tooltip:c("excellent_content"),active:(l==null?void 0:l.rating)==="good",rating:"good",onPress:d})))}function h1(t){let{active:o,tooltip:e,rating:r,onPress:n}=t;return ua.createElement(yi,{tooltip:e},(i,a)=>ua.createElement(Ve,{ref:a,onPress:()=>n(r),style:[g.Margin.smallLeft],accessibilityLabel:e,...i.events},ua.createElement(oW,{active:o,interactive:!0,rating:r,size:M.BUTTON_S})))}function oF(t){let{space:o,revision:e,page:r,analyticsContext:n}=t,[,i]=I(B),[,a]=I(xae),c=ue(),l=dp(r.edits),u=Tu(r),d=!!l,p=o.hasPublicFeedback,m=!o.hideTrademark&&(u==="editorial"||u==="landing");if(!d&&!p)return null;let f=Nn.createElement($v,null,Nn.createElement(Nn.Suspense,{fallback:null},Nn.createElement(tF,{space:o,revision:e,page:r,analyticsContext:n})));return Nn.createElement(S,{style:[g.Padding.largeTop,a.footer]},Nn.createElement(Z.View,{tabletStyle:b.directionColumn,desktopStyle:b.directionRow,style:[b.alignCenter,b.justifySpaceBetween]},d?Nn.createElement(Z.View,{tabletStyle:g.Margin.mediumBottom,style:m?[]:[b.flex1]},Nn.createElement(F,{style:[i.textMuted,i.Label]},c("last_modified",Nn.createElement(mP,{value:new Date(l.updatedAt),onlyDate:!1})))):null,m?Nn.createElement(Yd,{space:o,floating:!1}):null,p?Nn.createElement(Z.View,{tabletStyle:m?"hidden":"visible",desktopStyle:"visible"},f):null),m&&p?Nn.createElement(Z.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[b.directionRow,b.flex1,b.justifyContentCenter,g.Margin.largeTop]},f):null)}var xae=z.create({footer:t=>({borderTopColor:t.colors.border.mid,borderTopWidth:1})});s();var da=x(O());G();var kae=H.createInteractiveComponent(zn),Oae={[Fe]:null,[Ge]:g.Margin.smallLeft,[Mo]:null},rF=da.memo(function(o){let{sections:e,activeSection:r}=o,[,n]=I(B),[,i]=I(nF),a=ue();return da.createElement(S,{style:[i.pageOutline]},da.createElement(S,{style:[b.directionRow,b.alignCenter,g.Padding.largeHorizontal,g.Margin.smallBottom]},da.createElement(F,{style:[n.GroupTitle,n.textMuted,n.Bold]},a("outline"))),e.map(c=>c.type===null||c.type===rt?null:da.createElement(Iae,{key:c.key,section:c,active:r===c.key})))});function Iae(t){let{section:o,active:e}=t,[,r]=I(B),[,n]=I(nF),{navigateToHash:i}=we();return da.createElement(H.TouchableOpacity,{style:[b.directionRow,g.Padding.largeHorizontal,n.sectionItem,e&&n.sectionItemActive],onPress:()=>{i(o.anchor)}},o.tag?da.createElement(hn,{backgroundColor:kl[o.tag]||$.orange.base,style:[n.sectionTag,g.Margin.xsmallRight,b.alignSelfCenter]},da.createElement(F,{style:[r.textInsideColor,r.MobileCaption,r.Bold,r.Uppercase]},o.tag)):null,da.createElement(kae.Child,{style:[r.Label,r.textMid,o.type&&Oae[o.type],...e?[r.primary,r.Medium]:[]],hoverStyle:r.primary},o.title))}var nF=z.create({pageOutline:t=>({maxWidth:Go.MAX_PAGE_OUTLINE_WIDTH}),sectionItem:{marginTop:g.xsmall,marginBottom:g.xsmall,marginLeft:-1,borderLeftWidth:3,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:t=>({borderLeftColor:t.colors.primary.main}),sectionTag:{borderRadius:M.XXS,height:M.XXS,paddingHorizontal:g.small,justifyContent:"center"}});s();var $c=x(O());function iF(t){let{space:o,page:e}=t,[{color:r},n]=$c.useContext(ca),i=ue(),{headerDisabled:a}=mr(o),{tableOfContents:c}=Ti(e),l=!c&&a,u=[l?{key:"pageRead.switchTheme",icon:r==="light"?v.ThemeDark:v.ThemeLight,title:i(r==="light"?"switch_to_dark_theme":"switch_to_light_theme"),trigger:n}:null].filter(fe),[d,p]=bb(t,u);return $c.createElement($c.Fragment,null,d,l&&$c.createElement(FW,{kind:"grey",size:"large",title:"Search",rounded:!0}),$c.createElement(Wg,{palette:p,icon:v.MoreVertical,kind:"grey",size:"large",title:"Page actions",rounded:!0,testID:"pageToolbar.paletteButton"}))}var{PUBLIC_DESKTOP_HEADER_HEIGHT:_ae}=Go;function aF(t){var C;let{space:o,revision:e,screen:r,analyticsContext:n,collection:i,collectionSpaces:a,assetHostname:c,currentPage:l}=t,u=ue(),[d,p]=I(Pae);$6(o);let{headerDisabled:m}=mr(o),f=Ti(l),h=_N();Fi(k=>{k.writeAsync([{type:"meta",name:"description",content:l&&l.description?l.description:""},{type:"meta",name:"og:description",content:l&&l.description?l.description:""},{type:"meta",name:"og:image",content:o.socialPreviewURL?Gi(o.socialPreviewURL,{height:640,width:1280,fit:"contain"}):Eae(o,e,l)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),o.visibility==="in-collection"?(k.setTitle(l?l.title:u("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||ss),k.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(k.setTitle(l?l.title:u("page_not_found"),o.publishedTitle||o.title||ss),k.writeAsync([{type:"meta",name:"robots",content:o.visibility!=="public"?"noindex, nofollow":"index"}]))}),Ou(l?mg(o,l,{screen:"space",visibility:o.visibility,pageLayout:Tu(l),diffMode:!1}):Dt(o,{screen:"space_page_notfound",visibility:o.visibility}),[o.key,l==null?void 0:l.id]),N6(o,(C=l==null?void 0:l.id)!=null?C:null);let y=!!f.tableOfContents,w=!!f.outline;if(!l&&r.page){let[k]=Kg([s_(o.key,r.page)]);if(k&&e.pages[k.page])return jo.default.createElement(C7,{to:oo(e,k.page)})}return jo.default.createElement(jo.default.Fragment,null,jo.default.createElement(Tae,{space:i||o,assetHostname:c}),jo.default.createElement(Z.View,{style:[b.flex1,p.spacePageContainerBg],mobileStyle:b.directionColumn,desktopStyle:b.directionRow},jo.default.createElement(CS,null,y?jo.default.createElement(UW,{space:o,revision:e,currentPage:(l==null?void 0:l.type)==="document"?l:null,analyticsContext:n,collection:i,collectionSpaces:a}):null,jo.default.createElement(hn,{style:[p.spacePageBody],backgroundColor:d.colors.background.main},jo.default.createElement(jo.default.Suspense,{fallback:jo.default.createElement(vb,{withPageOutline:(l==null?void 0:l.layout)!=="landing"})},l&&l.type==="document"?jo.default.createElement(hb,{screen:r,key:Rae(r,e,l),space:o,changeRequest:void 0,revision:e,page:l,scrollRef:h,readOnly:!0,withComments:!1,withToC:y,analyticsContext:n,outline:w?rF:void 0,toolbar:iF,footer:jo.default.createElement(oF,{space:o,revision:e,page:l,analyticsContext:n}),sideColumnStickyTop:g.large+(m?0:_ae)}):jo.default.createElement(F9,{statusCode:404},jo.default.createElement(bp,{title:u("page_not_found"),action:jo.default.createElement(EP,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:o.key,page:""}}},u("back_to_home"))},u("page_not_found_long"))))))))}var Pae=z.create({spacePageContainerBg:t=>({backgroundColor:t.colors.background.main}),spacePageBody:{flex:1}});function Rae(t,o,e){let r=t.space;return r+=`/${t.changeRequest||"main"}`,r+=`/${o.conflicts?"conflicts":"normal"}`,r+=`/${e.id}`,t.diff&&(r+="/diff"),t.revision&&(r+="/revision"),r}function Eae(t,o,e){let r=e&&o.rootPages[0]!==e.id?`/page/${e.id}`:"",{primaryColor:n,headerLogoURL:i}=ky(t),a=Ai(t),c=`color=${encodeURIComponent(n||"")}&logo=${encodeURIComponent(Gs(i||t.iconURL||""))}&theme=${encodeURIComponent(a||"")}`;return`${Df()}/share/space/thumbnail/${t.key}${r}.png?${c}`}function Tae(t){let{space:o,assetHostname:e}=t,r=r_(o,"public-content"),[n]=I(),[i,a]=jo.default.useState(r.iconURL||(r.emoji?`${e}${t_(r.emoji)}`:null));return jo.default.useEffect(()=>{if(i)return;let c=192,l=document.createElement("canvas"),u=l.getContext("2d");if(!u)return;l.width=c,l.height=c,u.fillStyle=n.colors.background.main,u.fillRect(0,0,c,c);let d=.7;u.fillStyle=n.colors.text.main,u.font=`400 ${c*d}px gitbook-content-font`,u.textAlign="center",u.textBaseline="middle",u.fillText(o.title.slice(0,1),c/2,c/2),a(l.toDataURL("image/png"))},[o.title,a]),Fi(c=>{c.writeAsync([{type:"link",rel:"icon",href:i?Gs(i):`${e}/public/images/icon-512.png`},{type:"link",rel:"apple-touch-icon",href:i?Gs(i):`${e}/public/images/icon-512.png`}])}),null}s();var Le=x(O());G();var Mae=Z.createResponsiveComponent(he),sF=200,Lae=4*(sF+g.small);function cF(t){let{space:o,collection:e}=t,[,r]=I(B),[,n]=I(Aae),i=Le.useMemo(()=>(o==null?void 0:o.footer)||(e==null?void 0:e.footer),[o,e]);return Le.createElement(Le.Fragment,null,i?Le.createElement(Mae,{tag:"footer",style:[b.alignCenter,n.footer]},Le.createElement(Z.View,{desktopStyle:[Ya.desktopContainer]},Le.createElement(Z.View,{desktopStyle:b.directionRow,mobileStyle:b.directionColumn},i!=null&&i.logoURL?Le.createElement(Z.View,{style:[b.directionRow,b.alignStart,g.Padding.xlargeTop,i!=null&&i.copyright?null:g.Padding.xlargeBottom],desktopStyle:g.Margin.xxlargeHorizontal,mobileStyle:g.Margin.largeHorizontal},Le.createElement(Z.View,{desktopStyle:"visible",mobileStyle:"hidden"},Le.createElement(Zo,{source:{uri:i==null?void 0:i.logoURL},style:Ya.footerImageDesktop,loading:"lazy"})),Le.createElement(Z.View,{desktopStyle:"hidden",mobileStyle:"visible"},Le.createElement(S,{style:g.Margin.largeLeft},Le.createElement(Zo,{source:{uri:i==null?void 0:i.logoURL},style:Ya.footerImageMobile,loading:"lazy"})))):null,i!=null&&i.linkGroups?Le.createElement(Z.View,{style:[g.Padding.xlargeTop,i.logoURL?b.alignStart:b.alignCenter,b.flex1,i!=null&&i.copyright?null:g.Padding.xlargeBottom],mobileStyle:b.alignStart,tabletStyle:g.Padding.largeLeft},Le.createElement(Z.View,{mobileStyle:"hidden",tabletStyle:"hidden",desktopStyle:i.linkGroups.length<3&&!i.logoURL?"visible":"hidden"},Le.createElement(Dae,{linkGroups:i.linkGroups})),Le.createElement(Z.View,{mobileStyle:"visible",tabletStyle:"visible",desktopStyle:i.linkGroups.length>=3||i.logoURL?"visible":"hidden"},Le.createElement(Nae,{linkGroups:i.linkGroups}))):null),i!=null&&i.copyright?Le.createElement(Z.View,{style:[b.flex1,g.Padding.xlargeVertical]},Le.createElement(F,{style:[Ya.copyright,r.textMuted]},i==null?void 0:i.copyright)):null)):null)}function Dae(t){let{linkGroups:o}=t,[,e]=I(B),r=[],n=o==null?void 0:o.map(({title:i})=>i);return o==null||o.forEach(i=>{var a;(a=i==null?void 0:i.links)==null||a.forEach((c,l)=>{if(r[l]===void 0)return r[l]=[c];r[l].push(c)})}),Le.createElement(S,{style:[b.flex1,b.justifyContentStart,b.directionRow]},Le.createElement(S,{style:Ya.linkGroupColumnDesktop},Le.createElement(S,{style:[b.flex1]},n==null?void 0:n.map((i,a)=>Le.createElement(S,{key:i,style:[b.alignStart,a>0?g.Margin.smallTop:null]},Le.createElement(F,{style:[e.text,e.Heading3]},i))))),r.map((i,a)=>Le.createElement(S,{key:a,style:Ya.linkGroupColumnDesktop},Le.createElement(lF,{links:i,renderMode:"horizontal"}))))}function Nae(t){let{linkGroups:o}=t,[,e]=I(B);return Le.createElement(Z.View,{style:[b.flex1,b.justifyContentStart,b.directionRow],desktopStyle:[Ya.linkGroupColumnsDesktop,b.directionRow,b.wrap,b.flexShrink1],mobileStyle:b.directionColumn},o.map((r,n)=>Le.createElement(Z.View,{key:n,desktopStyle:[Ya.linkGroupColumnDesktop,g.Margin.xlargeTop],mobileStyle:[Ya.linkGroupColumnMobile,g.Margin.xlargeTop,g.Margin.largeLeft]},Le.createElement(S,{style:b.alignStart},Le.createElement(F,{style:[e.text,e.Heading3]},r.title)),Le.createElement(lF,{links:r.links,renderMode:"vertical"}))))}function lF(t){let{links:o,renderMode:e}=t,[,r]=I(B);return Le.createElement(Z.View,{style:[b.alignStart,b.flex1,b.directionColumn],desktopStyle:e==="vertical"?g.Margin.largeTop:null,mobileStyle:g.Margin.smallTop},(o||[]).map((n,i)=>{let a=i===o.length-1;return n.title?Le.createElement(Le.Suspense,{fallback:null,key:n.title},Le.createElement(S,{style:[Ya.referenceLink,e==="horizontal"&&i>0?g.Margin.smallTop:null]},Le.createElement(kf,{title:n.title,contentRef:n.to,style:[r.textMuted,r.Medium,e==="horizontal"?null:[g.Padding.smallTop,a?null:g.Padding.smallBottom]]}))):null}))}var Aae=z.create({footer:t=>({backgroundColor:t.colors.background.mid})}),Ya=Q.create({linkGroupColumnsDesktop:{maxWidth:Lae,marginTop:-g.xlarge},linkGroupColumnDesktop:{width:sF,marginLeft:g.small,paddingRight:g.xlarge},linkGroupColumnMobile:{width:"auto"},desktopContainer:{maxWidth:1280,width:"100%"},copyright:{textAlign:"center"},mobileHeight:{height:"auto"},referenceLink:{maxWidth:"100%"},footerImageDesktop:{maxHeight:150,maxWidth:150,objectFit:"contain"},footerImageMobile:{maxHeight:30,maxWidth:30,objectFit:"contain"}});s();var tr=x(O());s();var Ro=x(O());s();var Of=x(O());function uF(t){let{query:o,space:e,onUpdateQuery:r,onSubmitAIQuery:n,allowEnterToOpen:i}=t,a=Of.useCallback(()=>{r("")},[r]);return o.query?Of.createElement(_W,{target:{space:e},query:o,onAnswerLoaded:a,onSubmitQuery:n}):Of.createElement(RW,{target:{space:e},onSubmitAIQuery:n,allowEnterToOpen:i})}s();var y1=x(O());s();var qs=x(O());function dF(t){let{space:o,onUpdateQuery:e,onSubmitAIQuery:r}=t,n=ue(),i=vW(),a=lS(),c=cS(o.hasAISearch?{space:o}:null),l=qs.useCallback(m=>{switch(m.type){case"recent-search":return{icon:v.Search.CSS,title:m.query,action:n("search")};case"recent-question":return{icon:v.AILens.CSS,title:m.question,action:n("search_ask")};case"recommended-question":return{icon:v.AILens.CSS,title:m.question,action:n("search_ask")};default:qe(m)}},[n]),u=qs.useCallback(m=>{switch(m){case"recent-search":return{title:n("search_blankslate_recent_searches")};case"recent-question":return{title:n("search_blankslate_recent_questions")};case"recommended-question":return{title:n("search_blankslate_recommended_questions")};default:return}},[n]),d=(m,f)=>{switch(m.type){case"recent-search":{e(m.query),ae(Dt(o,{type:"search_pick_suggestion_recent_search",suggestionIndex:f}));break}case"recent-question":{r(m.question),ae(Dt(o,{type:"ai_search_pick_suggestion_recent_search",suggestionIndex:f}));break}case"recommended-question":ae(Dt(o,{type:"search_pick_suggestion_question"})),r(m.question);break;default:qe(m)}},p=qs.useMemo(()=>{let m=o.hasAISearch?a.map(h=>({type:"recent-question",question:h})):[],f=i.filter(h=>!a.includes(h)).map(h=>({type:"recent-search",query:h}));return[...m,...f,...c]},[i,a,c,o.hasAISearch]);return p.length===0?qs.createElement(xa,null,n("search_blankslate")):qs.createElement(ee,{style:[D.flex.flex1,D.flex.column]},qs.createElement(Js,{data:p,getKey:Bae,renderItem:l,renderGroup:u,groupItem:qae,getGroupKey:Wae,onOpen:d,style:[D.padding.mediumHorizontal,D.padding.mediumVertical]}))}function Bae(t){switch(t.type){case"recent-search":return`recent-search:${t.query}`;case"recent-question":return`recent-question:${t.question}`;case"recommended-question":return`recommended-question:${t.question}`;default:qe(t)}}function qae(t){return t.type}function Wae(t){return t}s();var Ws=x(O());function pF(t){let{space:o}=t,e=Ws.useDeferredValue(t.query),r=ue(),{navigate:n}=we(),i=JP({query:e,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:o.key}]}),a=Ws.useCallback(u=>{switch(u.type){case"page":return{title:u.title,icon:v.Page.CSS,subtitle:u.ancestors.filter(d=>d.type!=="group"&&d.id!==u.page.id).map(d=>d.title).join(" \u203A "),action:r("search_goto_page")};case"section":return{title:u.title,body:u.body,icon:v.Hash.CSS,nested:!0,action:r("search_goto_section")};default:throw new Error("Unexpected item type")}},[r]),c=Ws.useCallback(u=>{if(u)return{title:u.page.title}},[]),l=Ws.useCallback((u,d)=>{if(!(u.type!=="page"&&u.type!=="section"))switch(ae(Dt(o,{type:"public_content_search_open_result",resultType:u.type,resultIndex:d})),u.type){case"page":n({screen:{type:"space",space:u.space.key,page:u.path,hash:void 0,query:void 0}});break;case"section":n({screen:{type:"space",space:u.space.key,page:u.path,hash:u.anchor,query:void 0}});break;default:qe(u)}},[]);return i.length===0?Ws.createElement(xa,null,r("search_blankslate_query",e)):Ws.createElement(Js,{data:i,getKey:Fae,renderItem:a,renderGroup:c,groupItem:Vae,getGroupKey:zae,onOpen:l,style:[D.padding.mediumHorizontal,D.padding.mediumVertical]})}function Fae(t){return t.key}function zae(t){return t?t.page.id:""}function Vae(t){return t.groups.find(o=>o.type==="page")}function mF(t){let{space:o,query:e,onUpdateQuery:r,onSubmitAIQuery:n}=t;return bW(e),wW(e,{space:o}),e?y1.createElement(pF,{space:o,query:e}):y1.createElement(dF,{space:o,onUpdateQuery:r,onSubmitAIQuery:n})}function fF(t){let{space:o}=t,[e,{open:r,close:n,setQuery:i}]=TP();return Gn({[He.SEARCH_OPEN]:()=>{r()},"/":()=>{r()}},["all"],[]),Ro.createElement(q_,null,typeof e=="string"?Ro.createElement(Gae,{space:o,query:e,setQuery:i,close:n}):null)}function Gae(t){let{space:o,query:e,setQuery:r,close:n}=t,i=ue(),a=Ro.useRef(null),[c,l]=TW(),[u,d]=Hs("search",[!!o.hasAISearch]);Ou({screen:"search",screenTab:u},[u]);let p=Ro.useCallback(h=>{var y;r(h),(y=a.current)==null||y.focus()},[r,a]),m=Ro.useCallback(h=>{var y;o.hasAISearch&&(d("lens"),r(h),l(h),(y=a.current)==null||y.focus(),ae(Dt(o,{type:"ai_search_submit",query:h})))},[!o.hasAISearch,d,r,l,a]),f=Ro.useCallback(h=>{d(h),l(h==="search"?"":e)},[d,l]);return Ro.useEffect(()=>{var h;(h=a.current)==null||h.focus()},[u]),Ro.createElement(SP,{ref:a,inputIcon:u==="search"?v.Search.CSS:v.AILens.CSS,rightButton:o.hasAISearch?Ro.createElement(ee,{style:[D.flex.row,D.flex.alignCenter]},u==="lens"&&e&&e!==c.query?Ro.createElement(ee,{style:[D.margin.mediumRight,D.flex.row,D.flex.alignCenter]},Ro.createElement(ee,{style:D.margin.xsmallRight},Ro.createElement(wr,{style:[D.text.caption,D.textColor.muted]},"Enter")),Ro.createElement(v.ArrowEnter.CSS,{style:[D.icons.xsmall,D.textColor.muted]})):null,Ro.createElement(g6,{activeTab:u,tabs:[{key:"search",label:i("search")},{key:"lens",label:"Lens"}],onPress:f})):null,query:e,onQueryChange:r,onSubmitQuery:m,onClose:n,queryPlaceholder:i(u==="search"?"search_placeholder":"search_placeholder_ask")},u==="search"||!o.hasAISearch?Ro.createElement(mF,{query:e,space:o,onUpdateQuery:p,onSubmitAIQuery:m}):Ro.createElement(uF,{query:c,space:o,onUpdateQuery:p,onSubmitAIQuery:m,allowEnterToOpen:e.length===0}))}s();var xS=x(O());var Qd=new Map;typeof window<"u"&&(window.GitBook=window.GitBook||{addEventListener:(t,o)=>{Qd.has(t)||Qd.set(t,[]),Qd.get(t).push(o)},removeEventListener:(t,o)=>{if(!Qd.has(t))return;let e=Qd.get(t),r=e.indexOf(o);r!==-1&&e.splice(r,1)}});function gF(t,...o){let e=Qd.get(t);e&&e.forEach(r=>{r(...o)})}function hF(t){if(xS.useContext(Qo).mode!=="public-content")throw new Error("useInjectIntegrationsScripts can only be used in public-content mode");xS.useEffect(()=>(gF("load"),()=>{gF("unload")}),[t.key])}function kS(t){let{space:o,assetHostname:e,collection:r,collectionSpaces:n,usesCookies:i}=t,{locale:a}=tr.useContext(Qo),{screen:c}=Ia(),l=Se(),u=A6(o.key,c),d=c.type==="space"&&typeof c.changeRequest=="string";if(d&&!u)throw new Di.NotFound("Change request not found");let p=c.type==="space"&&c.revision,m=d&&u?u.revisionCurrent:p&&c.revision||o.revision,f=Fn(l.store.getRevision(o.key,m));if(!f)throw d?new Di.NotFound("Change request not found"):c.type==="space"&&c.revision?new Di.NotFound("Revision not found"):new Error("Expected revision");K6(o),hF(o);let h=el(o)?o.organization:void 0,y=tr.useMemo(()=>Dt(o,{}),[o.key,h,o.collection]);if(c.type!=="space"||c.space!==o.key)throw new Error("screen should be the space we render");tr.useEffect(()=>{if(o.searchKey)return AP(o.searchKey)},[o.searchKey]),Fi(_=>{_.write({type:"font",font:o.font||"Inter",fontFamilyName:"gitbook-content-font"}),(c.revision||c.changeRequest||c.sideSheet)&&_.write({type:"meta",name:"robots",content:"noindex"}),_.setLang(a)}),MW(o.privacyPolicyURL,Tx(o)||i);let[w,C]=jP(f,c.page),k={space:o.key,...C?{page:C.id}:{},...u?{changeRequest:u.key}:{revision:f.id}};return tr.createElement(tr.Fragment,null,w?tr.createElement(Vg,{to:{screen:w}}):null,tr.createElement(b7,{value:k},tr.createElement(JW,{space:o,revision:f,collection:r,currentPage:C,collectionSpaces:n}),tr.createElement(aF,{space:o,revision:f,screen:c,analyticsContext:y,collection:r,collectionSpaces:n,assetHostname:e,currentPage:C}),tr.createElement(cF,{space:o,collection:r}),tr.createElement(fF,{space:o}),tr.createElement(Jq,null),tr.createElement(w7,{organization:h,content:o,contentRef:cs(o.key)})))}s();var v1=x(O());s();function Jd(t){return t?t.endsWith("/")?t:`${t}/`:""}function yF(t,o){return e=>{let r=`/${Jd(t.basePath)}`;switch(e.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"root":case"join":case"account_verification":case"integrations":case"import":case"template":case"welcome":case"contentkit_builder":throw new Error(`Cannot navigate to ${e.type} on public content`);case"home":{if(e.organization){let i=sl.read({type:"organization",organization:e.organization});r=hp(i);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let i=sl.read({type:"user",user:e.user});r=hp(i);break}case"collection":{let i=sl.read({type:"collection",collection:e.collection});r=hp(i);break}case"space":{let i=sl.read({type:"space",space:e.space});i.hostname===t.hostname&&(!t.basePath||i.pathname.startsWith(t.basePath))||o?(t.shareLink&&(r+=Jd(t.shareLink)),i.pathname!==t.basePath&&(t.basePath?r+=Jd(Q1(i.pathname,Jd(t.basePath))):r+=Jd(i.pathname))):r=hp(i),r+=Hae(e);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:qe(e)}let n;if(typeof e.query=="string"){let i=new URLSearchParams;i.set("q",e.query),n=`?${i.toString()}`}return{pathname:r,hash:e.hash,search:n}}}function Hae(t){let o="";return t.revision&&(o+=`~/revisions/${t.revision}/`),t.changeRequest&&(o+=`~/changes/${t.changeRequest}/`),o+=`${t.page[0]==="/"?t.page.slice(1):t.page}`,t.sideSheet&&(o=`${Jd(o)}~/${t.sideSheet.type}${"tab"in t.sideSheet?`/${t.sideSheet.tab}`:""}`),o}s();function vF(t,o,e,r=[]){return n=>{let{spaceKey:i,pathname:a}=tI({currentSpaceKey:o,collectionSpaces:r,collection:e,pathname:n.pathname,paths:t}),c={type:"space",space:i,page:""};Kae(c,KI(a)),n.hash&&(c.hash=n.hash.replace(/^#/,""));let u=new URLSearchParams(n.search).get("q");return typeof u=="string"&&(c.query=u),c}}function Kae(t,o){HS(o,[{path:`/~/revisions/:revision/:page${ig}`,onMatch:e=>{Object.assign(t,{page:e.params.page,revision:e.params.revision}),ep(t,e,o)}},{path:"/~/revisions/:revision",onMatch:e=>{Object.assign(t,{revision:e.params.revision,page:""}),ep(t,e,o)}},{path:`/~/changes/:changeRequest/:page${ig}`,onMatch:e=>{Object.assign(t,{changeRequest:e.params.changeRequest,revision:void 0,page:e.params.page}),ep(t,e,o)}},{path:"/~/changes/:changeRequest",onMatch:e=>{Object.assign(t,{changeRequest:e.params.changeRequest,revision:void 0,page:""}),ep(t,e,o)}},{path:`/:page${ig}`,onMatch:e=>{Object.assign(t,{page:e.params.page,diff:!1}),ep(t,e,o)}},{path:"/",onMatch:e=>{Object.assign(t,{diff:!1,page:""}),ep(t,e,o)}}])}function ep(t,o,e){HS(e,[{path:"/~/share/pdf",onMatch:r=>{Object.assign(t,{sideSheet:{type:"share",tab:"pdf"}})}}],{prefix:o.path})}function OS(t,o,e,r,n){let i=T6(),a=(0,v1.useMemo)(()=>vF(t,e,r,n),[t.hostname,t.basePath,t.shareLink,e,r,n]),c={hostname:t.hostname,pathname:t.basePath},l=(0,v1.useMemo)(()=>yF({hostname:c.hostname,basePath:c.pathname,shareLink:t.shareLink},o),[t.hostname,t.basePath,t.shareLink]);return{forceHardNavigation:!i,getNavigationScreenFromLocation:a,getLocationForNavigationScreen:l}}function bF(t){let{space:o,ssrRequestPath:e,ssrRouterContext:r,basePath:n,hostname:i,customToken:a,shareLink:c,assetHostname:l,preview:u=!1,usesCookies:d=!1}=t,p=OS({hostname:i,basePath:n,shareLink:c},u,o.key),{primaryColor:m}=mr(o);return ii.createElement(Op,{mode:"public-content",preview:u,locale:o.language},ii.createElement(ii.Suspense,{fallback:ii.createElement(No,{size:"large"})},ii.createElement(al,{primaryColor:m},ii.createElement(wf,null,ii.createElement(uS,{ssrRequestPath:e,ssrRouterContext:r},ii.createElement(zg,{persist:!1,...p},ii.createElement(xy,null,a&&typeof window>"u"?ii.createElement(No,{size:"large"}):ii.createElement(kS,{space:o,assetHostname:l,usesCookies:d}))))))))}s();var gr=x(O());function SF(t){let{collection:o,basePath:e,hostname:r,customToken:n,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:c,shareLink:l,assetHostname:u,preview:d=!1,usesCookies:p=!1}=t,m=OS({hostname:r,basePath:e,shareLink:l},d,void 0,o,i),{primaryColor:f}=mr(o);if(!d&&o.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return gr.createElement(Op,{mode:"public-content",preview:d,locale:o.language},gr.createElement(al,{primaryColor:f},gr.createElement(wf,null,gr.createElement(uS,{ssrRequestPath:a,ssrRouterContext:c},gr.createElement(zg,{persist:!1,...m},gr.createElement(gr.Suspense,{fallback:gr.createElement(No,{size:"large"})},gr.createElement(xy,null,n&&typeof window>"u"?gr.createElement(No,{size:"large"}):gr.createElement(Xae,{collection:o,collectionSpaces:i,assetHostname:u,usesCookies:p}))))))))}function Xae(t){let{screen:o}=Ia();if(o.type!=="space")throw new Error("screen should be a space");let[e]=_a([cs(o.space)]);if(!e)throw new Error("the space should exist");let{primaryColor:r}=mr(e);return gr.createElement(Op,{locale:e.language},gr.createElement(al,{primaryColor:r},gr.createElement(wf,null,gr.createElement(kS,{...t,space:e}))))}s();var dn=x(O());G();s();var b1=x(O());async function Uae(t){let o=await ec(),{data:e}=await o.hive.generateSpaceHiveReadAccessToken(t);return Object.values(e.contents)}function wF(t){return t.client?b1.createElement(ix,{client:t.client},t.children):b1.createElement(ix,{endpoint:eR(),fetchContentAuthToken:Uae,store:t.store},t.children)}s();var tu=x(O());var S1=lt("preview:child");function CF(t,o){let[e,r]=tu.useState(t),[n,i]=tu.useState(void 0);return jae(e.footer),tu.useEffect(()=>{o&&(window.addEventListener("message",a=>{if(a.data.source!=="gitbook-preview-parent"||(S1.info("receive message",a.origin,a.data),a.origin!==Df()&&a.origin!=="http://127.0.0.1:5001"))return;let c=G1(a.data.payload),l=a.data.previewID;S1.debug("update content with",c),r(c),i(l),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),S1.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[o]),[e,n]}function jae(t){let o=tu.useRef(t);bu(()=>{t&&t!==o.current&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),o.current=t},[t])}s();var xF=x(O());function w1(){xF.useEffect(()=>{typeof window>"u"},[])}function C1(t){var i;let o="collection"in t?t.collection:t.space,[e,r]=CF(o,!!t.preview),n=t.hive&&t.hive.client?{client:t.hive.client}:{store:(i=t.hive)==null?void 0:i.contentStore};return w1(),dn.createElement(R1,null,dn.createElement(WW,{content:e,isPreview:!!t.preview},dn.createElement(wF,{...n},dn.createElement(Yae,{...t,content:e,previewID:r}))))}function Yae(t){let{content:o,previewID:e}=t;w1();let[r]=dn.useContext(ca);return dn.createElement(fi,{theme:r},dn.createElement(k_,{theme:r},dn.createElement(nA,null,dn.createElement(f6,null,dn.createElement(b_,{enabled:!0},"collection"in t?dn.createElement(SF,{...t,collection:o}):dn.createElement(bF,{...t,space:o})),e?dn.createElement(S,{testID:e}):null))))}s();function x1(t){let o=new URLSearchParams(window.location.search),e=window.location.hash;if(o.has("jwt_token")){o.delete("jwt_token");let i=o.toString();window.history.replaceState({},"",`${window.location.pathname}${i?`?${i}`:""}${e||""}`)}let{dsn:r,tracesSampling:n}={...fa.sentry,...fa.sentry.publicContent};A1({dsn:r,release:N1,projectId:fa.firebase.projectId,tracesSampling:n}),window.location.hostname!=="127.0.0.1"&&UI(t.hostname),v6({customToken:t.customToken,waitUserReady:!1})}s();function kF(t){t!=null&&t.firestore&&fs.fromJS(t.firestore),t!=null&&t.head&&S_.cache.fromJS(t.head),t!=null&&t.contentURLs&&sl.fromJS(t.contentURLs),t!=null&&t.contentRefs&&Qi.fromJS(t.contentRefs),t!=null&&t.screenToContentRefs&&Py.fromJS(t.screenToContentRefs),t!=null&&t.swaggers&&Pl.fromJS(t.swaggers),t!=null&&t.api&&CP.fromJS(t.api)}s();var OF=lt("browser-compatibility");function IF(){let t=["webcache.googleusercontent.com","translate.googleusercontent.com","translate.google.com"];return!window.location.hostname||t.includes(window.location.hostname)?(OF.warning("The application is served over an unsupported hostname and has been made static."),!1):$ae()?!0:(OF.warning("Your browser is missing required features, the application has been made static."),!1)}function $ae(){try{if("\u212B".normalize("NFKD")!=="A\u030A")return!1}catch(t){return!1}return!(!window.Intl||![].flat)}s();function _F(t){document.readyState==="interactive"||document.readyState==="complete"?t():document.addEventListener("DOMContentLoaded",()=>{t()})}s();var PF=x(NF());function k1(t){return new Ni("ssr.deserializeFromHTML").wrapSync(()=>{let e=PF.default.decompress(t);return e?JSON.parse(e):null})}IF()&&_F(()=>{Zae()});async function Zae(){let t=window.__GITBOOK_INITIAL_PROPS__,o=k1(t);x1(o),window.__GITBOOK_LAZY_MODULES__&&await J_(window.__GITBOOK_LAZY_MODULES__);let e=window.__GITBOOK_INITIAL_STATE__,r=k1(e);r?(kF(r),PS.registerComponent("PublicContentApplication",()=>C1),PS.runApplication("PublicContentApplication",{hydrate:!0,rootTag:document.querySelector(".gitbook-root"),initialProps:o})):console.error("Invalid state received from server, content won't be interactive")}
/*! Bundled license information:

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

rangefix/rangefix.js:
  (*!
   * RangeFix v0.2.9
   * https://github.com/edg2s/rangefix
   *
   * Copyright 2014-17 Ed Sanders.
   * Released under the MIT license
   *)
*/
//# sourceMappingURL=https://app.gitbook.com/public/app/public-3BCKCYMY.min.js.map
